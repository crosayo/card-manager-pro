--- START OF FILE next.config.ts ---

import type { NextConfig } from "next";

const nextConfig: NextConfig = {
  /* config options here */
};

export default nextConfig;


--- START OF FILE package-lock.json ---

{
  "name": "card-manager-pro",
  "version": "0.1.0",
  "lockfileVersion": 3,
  "requires": true,
  "packages": {
    "": {
      "name": "card-manager-pro",
      "version": "0.1.0",
      "dependencies": {
        "@google/genai": "*",
        "@supabase/supabase-js": "^2.39.0",
        "lucide-react": "^0.300.0",
        "next": "14.1.0",
        "react": "^18",
        "react-dom": "^18"
      },
      "devDependencies": {
        "@types/node": "^20",
        "@types/react": "^18",
        "@types/react-dom": "^18",
        "autoprefixer": "^10.0.1",
        "postcss": "^8",
        "tailwindcss": "^3.3.0",
        "typescript": "^5"
      }
    },
    "node_modules/@alloc/quick-lru": {
      "version": "5.2.0",
      "resolved": "https://registry.npmjs.org/@alloc/quick-lru/-/quick-lru-5.2.0.tgz",
      "integrity": "sha512-UrcABB+4bUrFABwbluTIBErXwvbsU/V7TZWfmbgJfbkwiBuziS9gxdODUyuiecfdGQ85jglMW6juS3+z5TsKLw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/@google/genai": {
      "version": "1.34.0",
      "resolved": "https://registry.npmjs.org/@google/genai/-/genai-1.34.0.tgz",
      "integrity": "sha512-vu53UMPvjmb7PGzlYu6Tzxso8Dfhn+a7eQFaS2uNemVtDZKwzSpJ5+ikqBbXplF7RGB1STcVDqCkPvquiwb2sw==",
      "license": "Apache-2.0",
      "dependencies": {
        "google-auth-library": "^10.3.0",
        "ws": "^8.18.0"
      },
      "engines": {
        "node": ">=20.0.0"
      },
      "peerDependencies": {
        "@modelcontextprotocol/sdk": "^1.24.0"
      },
      "peerDependenciesMeta": {
        "@modelcontextprotocol/sdk": {
          "optional": true
        }
      }
    },
    "node_modules/@isaacs/cliui": {
      "version": "8.0.2",
      "resolved": "https://registry.npmjs.org/@isaacs/cliui/-/cliui-8.0.2.tgz",
      "integrity": "sha512-O8jcjabXaleOG9DQ0+ARXWZBTfnP4WNAqzuiJK7ll44AmxGKv/J2M4TPjxjY3znBCfvBXFzucm1twdyFybFqEA==",
      "license": "ISC",
      "dependencies": {
        "string-width": "^5.1.2",
        "string-width-cjs": "npm:string-width@^4.2.0",
        "strip-ansi": "^7.0.1",
        "strip-ansi-cjs": "npm:strip-ansi@^6.0.1",
        "wrap-ansi": "^8.1.0",
        "wrap-ansi-cjs": "npm:wrap-ansi@^7.0.0"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@jridgewell/gen-mapping": {
      "version": "0.3.13",
      "resolved": "https://registry.npmjs.org/@jridgewell/gen-mapping/-/gen-mapping-0.3.13.tgz",
      "integrity": "sha512-2kkt/7niJ6MgEPxF0bYdQ6etZaA+fQvDcLKckhy1yIQOzaoKjBBjSj63/aLVjYE3qhRt5dvM+uUyfCg6UKCBbA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jridgewell/sourcemap-codec": "^1.5.0",
        "@jridgewell/trace-mapping": "^0.3.24"
      }
    },
    "node_modules/@jridgewell/resolve-uri": {
      "version": "3.1.2",
      "resolved": "https://registry.npmjs.org/@jridgewell/resolve-uri/-/resolve-uri-3.1.2.tgz",
      "integrity": "sha512-bRISgCIjP20/tbWSPWMEi54QVPRZExkuD9lJL+UIxUKtwVJA8wW1Trb1jMs1RFXo1CBTNZ/5hpC9QvmKWdopKw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.0.0"
      }
    },
    "node_modules/@jridgewell/sourcemap-codec": {
      "version": "1.5.5",
      "resolved": "https://registry.npmjs.org/@jridgewell/sourcemap-codec/-/sourcemap-codec-1.5.5.tgz",
      "integrity": "sha512-cYQ9310grqxueWbl+WuIUIaiUaDcj7WOq5fVhEljNVgRfOUhY9fy2zTvfoqWsnebh8Sl70VScFbICvJnLKB0Og==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@jridgewell/trace-mapping": {
      "version": "0.3.31",
      "resolved": "https://registry.npmjs.org/@jridgewell/trace-mapping/-/trace-mapping-0.3.31.tgz",
      "integrity": "sha512-zzNR+SdQSDJzc8joaeP8QQoCQr8NuYx2dIIytl1QeBEZHJ9uW6hebsrYgbz8hJwUQao3TWCMtmfV8Nu1twOLAw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jridgewell/resolve-uri": "^3.1.0",
        "@jridgewell/sourcemap-codec": "^1.4.14"
      }
    },
    "node_modules/@next/env": {
      "version": "14.1.0",
      "resolved": "https://registry.npmjs.org/@next/env/-/env-14.1.0.tgz",
      "integrity": "sha512-Py8zIo+02ht82brwwhTg36iogzFqGLPXlRGKQw5s+qP/kMNc4MAyDeEwBKDijk6zTIbegEgu8Qy7C1LboslQAw==",
      "license": "MIT"
    },
    "node_modules/@next/swc-darwin-arm64": {
      "version": "14.1.0",
      "resolved": "https://registry.npmjs.org/@next/swc-darwin-arm64/-/swc-darwin-arm64-14.1.0.tgz",
      "integrity": "sha512-nUDn7TOGcIeyQni6lZHfzNoo9S0euXnu0jhsbMOmMJUBfgsnESdjN97kM7cBqQxZa8L/bM9om/S5/1dzCrW6wQ==",
      "cpu": [
        "arm64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-darwin-x64": {
      "version": "14.1.0",
      "resolved": "https://registry.npmjs.org/@next/swc-darwin-x64/-/swc-darwin-x64-14.1.0.tgz",
      "integrity": "sha512-1jgudN5haWxiAl3O1ljUS2GfupPmcftu2RYJqZiMJmmbBT5M1XDffjUtRUzP4W3cBHsrvkfOFdQ71hAreNQP6g==",
      "cpu": [
        "x64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-linux-arm64-gnu": {
      "version": "14.1.0",
      "resolved": "https://registry.npmjs.org/@next/swc-linux-arm64-gnu/-/swc-linux-arm64-gnu-14.1.0.tgz",
      "integrity": "sha512-RHo7Tcj+jllXUbK7xk2NyIDod3YcCPDZxj1WLIYxd709BQ7WuRYl3OWUNG+WUfqeQBds6kvZYlc42NJJTNi4tQ==",
      "cpu": [
        "arm64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-linux-arm64-musl": {
      "version": "14.1.0",
      "resolved": "https://registry.npmjs.org/@next/swc-linux-arm64-musl/-/swc-linux-arm64-musl-14.1.0.tgz",
      "integrity": "sha512-v6kP8sHYxjO8RwHmWMJSq7VZP2nYCkRVQ0qolh2l6xroe9QjbgV8siTbduED4u0hlk0+tjS6/Tuy4n5XCp+l6g==",
      "cpu": [
        "arm64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-linux-x64-gnu": {
      "version": "14.1.0",
      "resolved": "https://registry.npmjs.org/@next/swc-linux-x64-gnu/-/swc-linux-x64-gnu-14.1.0.tgz",
      "integrity": "sha512-zJ2pnoFYB1F4vmEVlb/eSe+VH679zT1VdXlZKX+pE66grOgjmKJHKacf82g/sWE4MQ4Rk2FMBCRnX+l6/TVYzQ==",
      "cpu": [
        "x64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-linux-x64-musl": {
      "version": "14.1.0",
      "resolved": "https://registry.npmjs.org/@next/swc-linux-x64-musl/-/swc-linux-x64-musl-14.1.0.tgz",
      "integrity": "sha512-rbaIYFt2X9YZBSbH/CwGAjbBG2/MrACCVu2X0+kSykHzHnYH5FjHxwXLkcoJ10cX0aWCEynpu+rP76x0914atg==",
      "cpu": [
        "x64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-win32-arm64-msvc": {
      "version": "14.1.0",
      "resolved": "https://registry.npmjs.org/@next/swc-win32-arm64-msvc/-/swc-win32-arm64-msvc-14.1.0.tgz",
      "integrity": "sha512-o1N5TsYc8f/HpGt39OUQpQ9AKIGApd3QLueu7hXk//2xq5Z9OxmV6sQfNp8C7qYmiOlHYODOGqNNa0e9jvchGQ==",
      "cpu": [
        "arm64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-win32-ia32-msvc": {
      "version": "14.1.0",
      "resolved": "https://registry.npmjs.org/@next/swc-win32-ia32-msvc/-/swc-win32-ia32-msvc-14.1.0.tgz",
      "integrity": "sha512-XXIuB1DBRCFwNO6EEzCTMHT5pauwaSj4SWs7CYnME57eaReAKBXCnkUE80p/pAZcewm7hs+vGvNqDPacEXHVkw==",
      "cpu": [
        "ia32"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-win32-x64-msvc": {
      "version": "14.1.0",
      "resolved": "https://registry.npmjs.org/@next/swc-win32-x64-msvc/-/swc-win32-x64-msvc-14.1.0.tgz",
      "integrity": "sha512-9WEbVRRAqJ3YFVqEZIxUqkiO8l1nool1LmNxygr5HWF8AcSYsEpneUDhmjUVJEzO2A04+oPtZdombzzPPkTtgg==",
      "cpu": [
        "x64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@nodelib/fs.scandir": {
      "version": "2.1.5",
      "resolved": "https://registry.npmjs.org/@nodelib/fs.scandir/-/fs.scandir-2.1.5.tgz",
      "integrity": "sha512-vq24Bq3ym5HEQm2NKCr3yXDwjc7vTsEThRDnkp2DK9p1uqLR+DHurm/NOTo0KG7HYHU7eppKZj3MyqYuMBf62g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@nodelib/fs.stat": "2.0.5",
        "run-parallel": "^1.1.9"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/@nodelib/fs.stat": {
      "version": "2.0.5",
      "resolved": "https://registry.npmjs.org/@nodelib/fs.stat/-/fs.stat-2.0.5.tgz",
      "integrity": "sha512-RkhPPp2zrqDAQA/2jNhnztcPAlv64XdhIp7a7454A5ovI7Bukxgt7MX7udwAu3zg1DcpPU0rz3VV1SeaqvY4+A==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/@nodelib/fs.walk": {
      "version": "1.2.8",
      "resolved": "https://registry.npmjs.org/@nodelib/fs.walk/-/fs.walk-1.2.8.tgz",
      "integrity": "sha512-oGB+UxlgWcgQkgwo8GcEGwemoTFt3FIO9ababBmaGwXIoBKZ+GTy0pP185beGg7Llih/NSHSV2XAs1lnznocSg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@nodelib/fs.scandir": "2.1.5",
        "fastq": "^1.6.0"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/@pkgjs/parseargs": {
      "version": "0.11.0",
      "resolved": "https://registry.npmjs.org/@pkgjs/parseargs/-/parseargs-0.11.0.tgz",
      "integrity": "sha512-+1VkjdD0QBLPodGrJUeqarH8VAIvQODIbwh9XpP5Syisf7YoQgsJKPNFoqqLQlu+VQ/tVSshMR6loPMn8U+dPg==",
      "license": "MIT",
      "optional": true,
      "engines": {
        "node": ">=14"
      }
    },
    "node_modules/@supabase/auth-js": {
      "version": "2.88.0",
      "resolved": "https://registry.npmjs.org/@supabase/auth-js/-/auth-js-2.88.0.tgz",
      "integrity": "sha512-r/tlKD1Sv5w5AGmxVdBK17KwVkGOHMjihqw+HeW7Qsyes5ajLeyjL0M7jXZom1+NW4yINacKqOR9gqGmWzW9eA==",
      "license": "MIT",
      "dependencies": {
        "tslib": "2.8.1"
      },
      "engines": {
        "node": ">=20.0.0"
      }
    },
    "node_modules/@supabase/functions-js": {
      "version": "2.88.0",
      "resolved": "https://registry.npmjs.org/@supabase/functions-js/-/functions-js-2.88.0.tgz",
      "integrity": "sha512-p934lg2x9m0bVBXKl2EAwbyIVif21FD1VGtLNGU4iuPOyB6b0bzyRAFnK95pLj48CMJk0DU+q35TDOGcFAyxwQ==",
      "license": "MIT",
      "dependencies": {
        "tslib": "2.8.1"
      },
      "engines": {
        "node": ">=20.0.0"
      }
    },
    "node_modules/@supabase/postgrest-js": {
      "version": "2.88.0",
      "resolved": "https://registry.npmjs.org/@supabase/postgrest-js/-/postgrest-js-2.88.0.tgz",
      "integrity": "sha512-8DMGXWQUGM/4e8vtW95dLlNtETTVAyCAr7NyLFACDgVaaPUsDqZvS45LjBNd18fu3n6q/zZwCk4XL2yYWBHTVA==",
      "license": "MIT",
      "dependencies": {
        "tslib": "2.8.1"
      },
      "engines": {
        "node": ">=20.0.0"
      }
    },
    "node_modules/@supabase/realtime-js": {
      "version": "2.88.0",
      "resolved": "https://registry.npmjs.org/@supabase/realtime-js/-/realtime-js-2.88.0.tgz",
      "integrity": "sha512-4yMVLLq6I2KSzINlBK22vGJJYzJo9FAbfKZl7ZuarvzAClq48skgLWF7dlBCC3B/9wQckKhCfPfvyT0JVz3SXg==",
      "license": "MIT",
      "dependencies": {
        "@types/phoenix": "^1.6.6",
        "@types/ws": "^8.18.1",
        "tslib": "2.8.1",
        "ws": "^8.18.2"
      },
      "engines": {
        "node": ">=20.0.0"
      }
    },
    "node_modules/@supabase/storage-js": {
      "version": "2.88.0",
      "resolved": "https://registry.npmjs.org/@supabase/storage-js/-/storage-js-2.88.0.tgz",
      "integrity": "sha512-iM1CFKzTX0XIesHA/szcCqZG54BkXoSzqlVRB/O8s2u2GsXi0oUTko0ruOgDheNcWwOABKt88b0Fs4IVfDq7tg==",
      "license": "MIT",
      "dependencies": {
        "iceberg-js": "^0.8.1",
        "tslib": "2.8.1"
      },
      "engines": {
        "node": ">=20.0.0"
      }
    },
    "node_modules/@supabase/supabase-js": {
      "version": "2.88.0",
      "resolved": "https://registry.npmjs.org/@supabase/supabase-js/-/supabase-js-2.88.0.tgz",
      "integrity": "sha512-XcvV+0x3ybSG1WBoRH0U0cizT1pyzkXD4lLiPaMLpj+A0jahvcrcrijBT+IQpLXOa2hbNLuHkS7yqJW67r4+nQ==",
      "license": "MIT",
      "dependencies": {
        "@supabase/auth-js": "2.88.0",
        "@supabase/functions-js": "2.88.0",
        "@supabase/postgrest-js": "2.88.0",
        "@supabase/realtime-js": "2.88.0",
        "@supabase/storage-js": "2.88.0"
      },
      "engines": {
        "node": ">=20.0.0"
      }
    },
    "node_modules/@swc/helpers": {
      "version": "0.5.2",
      "resolved": "https://registry.npmjs.org/@swc/helpers/-/helpers-0.5.2.tgz",
      "integrity": "sha512-E4KcWTpoLHqwPHLxidpOqQbcrZVgi0rsmmZXUle1jXmJfuIf/UWpczUJ7MZZ5tlxytgJXyp0w4PGkkeLiuIdZw==",
      "license": "Apache-2.0",
      "dependencies": {
        "tslib": "^2.4.0"
      }
    },
    "node_modules/@types/node": {
      "version": "20.19.27",
      "resolved": "https://registry.npmjs.org/@types/node/-/node-20.19.27.tgz",
      "integrity": "sha512-N2clP5pJhB2YnZJ3PIHFk5RkygRX5WO/5f0WC08tp0wd+sv0rsJk3MqWn3CbNmT2J505a5336jaQj4ph1AdMug==",
      "license": "MIT",
      "dependencies": {
        "undici-types": "~6.21.0"
      }
    },
    "node_modules/@types/phoenix": {
      "version": "1.6.7",
      "resolved": "https://registry.npmjs.org/@types/phoenix/-/phoenix-1.6.7.tgz",
      "integrity": "sha512-oN9ive//QSBkf19rfDv45M7eZPi0eEXylht2OLEXicu5b4KoQ1OzXIw+xDSGWxSxe1JmepRR/ZH283vsu518/Q==",
      "license": "MIT"
    },
    "node_modules/@types/prop-types": {
      "version": "15.7.15",
      "resolved": "https://registry.npmjs.org/@types/prop-types/-/prop-types-15.7.15.tgz",
      "integrity": "sha512-F6bEyamV9jKGAFBEmlQnesRPGOQqS2+Uwi0Em15xenOxHaf2hv6L8YCVn3rPdPJOiJfPiCnLIRyvwVaqMY3MIw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@types/react": {
      "version": "18.3.27",
      "resolved": "https://registry.npmjs.org/@types/react/-/react-18.3.27.tgz",
      "integrity": "sha512-cisd7gxkzjBKU2GgdYrTdtQx1SORymWyaAFhaxQPK9bYO9ot3Y5OikQRvY0VYQtvwjeQnizCINJAenh/V7MK2w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@types/prop-types": "*",
        "csstype": "^3.2.2"
      }
    },
    "node_modules/@types/react-dom": {
      "version": "18.3.7",
      "resolved": "https://registry.npmjs.org/@types/react-dom/-/react-dom-18.3.7.tgz",
      "integrity": "sha512-MEe3UeoENYVFXzoXEWsvcpg6ZvlrFNlOQ7EOsvhI3CfAXwzPfO8Qwuxd40nepsYKqyyVQnTdEfv68q91yLcKrQ==",
      "dev": true,
      "license": "MIT",
      "peerDependencies": {
        "@types/react": "^18.0.0"
      }
    },
    "node_modules/@types/ws": {
      "version": "8.18.1",
      "resolved": "https://registry.npmjs.org/@types/ws/-/ws-8.18.1.tgz",
      "integrity": "sha512-ThVF6DCVhA8kUGy+aazFQ4kXQ7E1Ty7A3ypFOe0IcJV8O/M511G99AW24irKrW56Wt44yG9+ij8FaqoBGkuBXg==",
      "license": "MIT",
      "dependencies": {
        "@types/node": "*"
      }
    },
    "node_modules/agent-base": {
      "version": "7.1.4",
      "resolved": "https://registry.npmjs.org/agent-base/-/agent-base-7.1.4.tgz",
      "integrity": "sha512-MnA+YT8fwfJPgBx3m60MNqakm30XOkyIoH1y6huTQvC0PwZG7ki8NacLBcrPbNoo8vEZy7Jpuk7+jMO+CUovTQ==",
      "license": "MIT",
      "engines": {
        "node": ">= 14"
      }
    },
    "node_modules/ansi-regex": {
      "version": "6.2.2",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-6.2.2.tgz",
      "integrity": "sha512-Bq3SmSpyFHaWjPk8If9yc6svM8c56dB5BAtW4Qbw5jHTwwXXcTLoRMkpDJp6VL0XzlWaCHTXrkFURMYmD0sLqg==",
      "license": "MIT",
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/chalk/ansi-regex?sponsor=1"
      }
    },
    "node_modules/ansi-styles": {
      "version": "6.2.3",
      "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-6.2.3.tgz",
      "integrity": "sha512-4Dj6M28JB+oAH8kFkTLUo+a2jwOFkuqb3yucU0CANcRRUbxS0cP0nZYCGjcc3BNXwRIsUVmDGgzawme7zvJHvg==",
      "license": "MIT",
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/chalk/ansi-styles?sponsor=1"
      }
    },
    "node_modules/any-promise": {
      "version": "1.3.0",
      "resolved": "https://registry.npmjs.org/any-promise/-/any-promise-1.3.0.tgz",
      "integrity": "sha512-7UvmKalWRt1wgjL1RrGxoSJW/0QZFIegpeGvZG9kjp8vrRu55XTHbwnqq2GpXm9uLbcuhxm3IqX9OB4MZR1b2A==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/anymatch": {
      "version": "3.1.3",
      "resolved": "https://registry.npmjs.org/anymatch/-/anymatch-3.1.3.tgz",
      "integrity": "sha512-KMReFUr0B4t+D+OBkjR3KYqvocp2XaSzO55UcB6mgQMd3KbcE+mWTyvVV7D/zsdEbNnV6acZUutkiHQXvTr1Rw==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "normalize-path": "^3.0.0",
        "picomatch": "^2.0.4"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/arg": {
      "version": "5.0.2",
      "resolved": "https://registry.npmjs.org/arg/-/arg-5.0.2.tgz",
      "integrity": "sha512-PYjyFOLKQ9y57JvQ6QLo8dAgNqswh8M1RMJYdQduT6xbWSgK36P/Z/v+p888pM69jMMfS8Xd8F6I1kQ/I9HUGg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/autoprefixer": {
      "version": "10.4.23",
      "resolved": "https://registry.npmjs.org/autoprefixer/-/autoprefixer-10.4.23.tgz",
      "integrity": "sha512-YYTXSFulfwytnjAPlw8QHncHJmlvFKtczb8InXaAx9Q0LbfDnfEYDE55omerIJKihhmU61Ft+cAOSzQVaBUmeA==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/postcss/"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/autoprefixer"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "browserslist": "^4.28.1",
        "caniuse-lite": "^1.0.30001760",
        "fraction.js": "^5.3.4",
        "picocolors": "^1.1.1",
        "postcss-value-parser": "^4.2.0"
      },
      "bin": {
        "autoprefixer": "bin/autoprefixer"
      },
      "engines": {
        "node": "^10 || ^12 || >=14"
      },
      "peerDependencies": {
        "postcss": "^8.1.0"
      }
    },
    "node_modules/balanced-match": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/balanced-match/-/balanced-match-1.0.2.tgz",
      "integrity": "sha512-3oSeUO0TMV67hN1AmbXsK4yaqU7tjiHlbxRDZOpH0KW9+CeX4bRAaX0Anxt0tx2MrpRpWwQaPwIlISEJhYU5Pw==",
      "license": "MIT"
    },
    "node_modules/base64-js": {
      "version": "1.5.1",
      "resolved": "https://registry.npmjs.org/base64-js/-/base64-js-1.5.1.tgz",
      "integrity": "sha512-AKpaYlHn8t4SVbOHCy+b5+KKgvR4vrsD8vbvrbiQJps7fKDTkjkDry6ji0rUJjC0kzbNePLwzxq8iypo41qeWA==",
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/feross"
        },
        {
          "type": "patreon",
          "url": "https://www.patreon.com/feross"
        },
        {
          "type": "consulting",
          "url": "https://feross.org/support"
        }
      ],
      "license": "MIT"
    },
    "node_modules/baseline-browser-mapping": {
      "version": "2.9.9",
      "resolved": "https://registry.npmjs.org/baseline-browser-mapping/-/baseline-browser-mapping-2.9.9.tgz",
      "integrity": "sha512-V8fbOCSeOFvlDj7LLChUcqbZrdKD9RU/VR260piF1790vT0mfLSwGc/Qzxv3IqiTukOpNtItePa0HBpMAj7MDg==",
      "dev": true,
      "license": "Apache-2.0",
      "bin": {
        "baseline-browser-mapping": "dist/cli.js"
      }
    },
    "node_modules/bignumber.js": {
      "version": "9.3.1",
      "resolved": "https://registry.npmjs.org/bignumber.js/-/bignumber.js-9.3.1.tgz",
      "integrity": "sha512-Ko0uX15oIUS7wJ3Rb30Fs6SkVbLmPBAKdlm7q9+ak9bbIeFf0MwuBsQV6z7+X768/cHsfg+WlysDWJcmthjsjQ==",
      "license": "MIT",
      "engines": {
        "node": "*"
      }
    },
    "node_modules/binary-extensions": {
      "version": "2.3.0",
      "resolved": "https://registry.npmjs.org/binary-extensions/-/binary-extensions-2.3.0.tgz",
      "integrity": "sha512-Ceh+7ox5qe7LJuLHoY0feh3pHuUDHAcRUeyL2VYghZwfpkNIy/+8Ocg0a3UuSoYzavmylwuLWQOf3hl0jjMMIw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/brace-expansion": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/brace-expansion/-/brace-expansion-2.0.2.tgz",
      "integrity": "sha512-Jt0vHyM+jmUBqojB7E1NIYadt0vI0Qxjxd2TErW94wDz+E2LAm5vKMXXwg6ZZBTHPuUlDgQHKXvjGBdfcF1ZDQ==",
      "license": "MIT",
      "dependencies": {
        "balanced-match": "^1.0.0"
      }
    },
    "node_modules/braces": {
      "version": "3.0.3",
      "resolved": "https://registry.npmjs.org/braces/-/braces-3.0.3.tgz",
      "integrity": "sha512-yQbXgO/OSZVD2IsiLlro+7Hf6Q18EJrKSEsdoMzKePKXct3gvD8oLcOQdIzGupr5Fj+EDe8gO/lxc1BzfMpxvA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "fill-range": "^7.1.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/browserslist": {
      "version": "4.28.1",
      "resolved": "https://registry.npmjs.org/browserslist/-/browserslist-4.28.1.tgz",
      "integrity": "sha512-ZC5Bd0LgJXgwGqUknZY/vkUQ04r8NXnJZ3yYi4vDmSiZmC/pdSN0NbNRPxZpbtO4uAfDUAFffO8IZoM3Gj8IkA==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/browserslist"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/browserslist"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "baseline-browser-mapping": "^2.9.0",
        "caniuse-lite": "^1.0.30001759",
        "electron-to-chromium": "^1.5.263",
        "node-releases": "^2.0.27",
        "update-browserslist-db": "^1.2.0"
      },
      "bin": {
        "browserslist": "cli.js"
      },
      "engines": {
        "node": "^6 || ^7 || ^8 || ^9 || ^10 || ^11 || ^12 || >=13.7"
      }
    },
    "node_modules/buffer-equal-constant-time": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/buffer-equal-constant-time/-/buffer-equal-constant-time-1.0.1.tgz",
      "integrity": "sha512-zRpUiDwd/xk6ADqPMATG8vc9VPrkck7T07OIx0gnjmJAnHnTVXNQG3vfvWNuiZIkwu9KrKdA1iJKfsfTVxE6NA==",
      "license": "BSD-3-Clause"
    },
    "node_modules/busboy": {
      "version": "1.6.0",
      "resolved": "https://registry.npmjs.org/busboy/-/busboy-1.6.0.tgz",
      "integrity": "sha512-8SFQbg/0hQ9xy3UNTB0YEnsNBbWfhf7RtnzpL7TkBiTBRfrQ9Fxcnz7VJsleJpyp6rVLvXiuORqjlHi5q+PYuA==",
      "dependencies": {
        "streamsearch": "^1.1.0"
      },
      "engines": {
        "node": ">=10.16.0"
      }
    },
    "node_modules/camelcase-css": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/camelcase-css/-/camelcase-css-2.0.1.tgz",
      "integrity": "sha512-QOSvevhslijgYwRx6Rv7zKdMF8lbRmx+uQGx2+vDc+KI/eBnsy9kit5aj23AgGu3pa4t9AgwbnXWqS+iOY+2aA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/caniuse-lite": {
      "version": "1.0.30001760",
      "resolved": "https://registry.npmjs.org/caniuse-lite/-/caniuse-lite-1.0.30001760.tgz",
      "integrity": "sha512-7AAMPcueWELt1p3mi13HR/LHH0TJLT11cnwDJEs3xA4+CK/PLKeO9Kl1oru24htkyUKtkGCvAx4ohB0Ttry8Dw==",
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/browserslist"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/caniuse-lite"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "CC-BY-4.0"
    },
    "node_modules/chokidar": {
      "version": "3.6.0",
      "resolved": "https://registry.npmjs.org/chokidar/-/chokidar-3.6.0.tgz",
      "integrity": "sha512-7VT13fmjotKpGipCW9JEQAusEPE+Ei8nl6/g4FBAmIm0GOOLMua9NDDo/DWp0ZAxCr3cPq5ZpBqmPAQgDda2Pw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "anymatch": "~3.1.2",
        "braces": "~3.0.2",
        "glob-parent": "~5.1.2",
        "is-binary-path": "~2.1.0",
        "is-glob": "~4.0.1",
        "normalize-path": "~3.0.0",
        "readdirp": "~3.6.0"
      },
      "engines": {
        "node": ">= 8.10.0"
      },
      "funding": {
        "url": "https://paulmillr.com/funding/"
      },
      "optionalDependencies": {
        "fsevents": "~2.3.2"
      }
    },
    "node_modules/chokidar/node_modules/glob-parent": {
      "version": "5.1.2",
      "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-5.1.2.tgz",
      "integrity": "sha512-AOIgSQCepiJYwP3ARnGx+5VnTu2HBYdzbGP45eLw1vr3zB3vZLeyed1sC9hnbcOc9/SrMyM5RPQrkGz4aS9Zow==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "is-glob": "^4.0.1"
      },
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/client-only": {
      "version": "0.0.1",
      "resolved": "https://registry.npmjs.org/client-only/-/client-only-0.0.1.tgz",
      "integrity": "sha512-IV3Ou0jSMzZrd3pZ48nLkT9DA7Ag1pnPzaiQhpW7c3RbcqqzvzzVu+L8gfqMp/8IM2MQtSiqaCxrrcfu8I8rMA==",
      "license": "MIT"
    },
    "node_modules/color-convert": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/color-convert/-/color-convert-2.0.1.tgz",
      "integrity": "sha512-RRECPsj7iu/xb5oKYcsFHSppFNnsj/52OVTRKb4zP5onXwVF3zVmmToNcOfGC+CRDpfK/U584fMg38ZHCaElKQ==",
      "license": "MIT",
      "dependencies": {
        "color-name": "~1.1.4"
      },
      "engines": {
        "node": ">=7.0.0"
      }
    },
    "node_modules/color-name": {
      "version": "1.1.4",
      "resolved": "https://registry.npmjs.org/color-name/-/color-name-1.1.4.tgz",
      "integrity": "sha512-dOy+3AuW3a2wNbZHIuMZpTcgjGuLU/uBL/ubcZF9OXbDo8ff4O8yVp5Bf0efS8uEoYo5q4Fx7dY9OgQGXgAsQA==",
      "license": "MIT"
    },
    "node_modules/commander": {
      "version": "4.1.1",
      "resolved": "https://registry.npmjs.org/commander/-/commander-4.1.1.tgz",
      "integrity": "sha512-NOKm8xhkzAjzFx8B2v5OAHT+u5pRQc2UCa2Vq9jYL/31o2wi9mxBA7LIFs3sV5VSC49z6pEhfbMULvShKj26WA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/cross-spawn": {
      "version": "7.0.6",
      "resolved": "https://registry.npmjs.org/cross-spawn/-/cross-spawn-7.0.6.tgz",
      "integrity": "sha512-uV2QOWP2nWzsy2aMp8aRibhi9dlzF5Hgh5SHaB9OiTGEyDTiJJyx0uy51QXdyWbtAHNua4XJzUKca3OzKUd3vA==",
      "license": "MIT",
      "dependencies": {
        "path-key": "^3.1.0",
        "shebang-command": "^2.0.0",
        "which": "^2.0.1"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/cssesc": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/cssesc/-/cssesc-3.0.0.tgz",
      "integrity": "sha512-/Tb/JcjK111nNScGob5MNtsntNM1aCNUDipB/TkwZFhyDrrE47SOx/18wF2bbjgc3ZzCSKW1T5nt5EbFoAz/Vg==",
      "dev": true,
      "license": "MIT",
      "bin": {
        "cssesc": "bin/cssesc"
      },
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/csstype": {
      "version": "3.2.3",
      "resolved": "https://registry.npmjs.org/csstype/-/csstype-3.2.3.tgz",
      "integrity": "sha512-z1HGKcYy2xA8AGQfwrn0PAy+PB7X/GSj3UVJW9qKyn43xWa+gl5nXmU4qqLMRzWVLFC8KusUX8T/0kCiOYpAIQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/data-uri-to-buffer": {
      "version": "4.0.1",
      "resolved": "https://registry.npmjs.org/data-uri-to-buffer/-/data-uri-to-buffer-4.0.1.tgz",
      "integrity": "sha512-0R9ikRb668HB7QDxT1vkpuUBtqc53YyAwMwGeUFKRojY/NWKvdZ+9UYtRfGmhqNbRkTSVpMbmyhXipFFv2cb/A==",
      "license": "MIT",
      "engines": {
        "node": ">= 12"
      }
    },
    "node_modules/debug": {
      "version": "4.4.3",
      "resolved": "https://registry.npmjs.org/debug/-/debug-4.4.3.tgz",
      "integrity": "sha512-RGwwWnwQvkVfavKVt22FGLw+xYSdzARwm0ru6DhTVA3umU5hZc28V3kO4stgYryrTlLpuvgI9GiijltAjNbcqA==",
      "license": "MIT",
      "dependencies": {
        "ms": "^2.1.3"
      },
      "engines": {
        "node": ">=6.0"
      },
      "peerDependenciesMeta": {
        "supports-color": {
          "optional": true
        }
      }
    },
    "node_modules/didyoumean": {
      "version": "1.2.2",
      "resolved": "https://registry.npmjs.org/didyoumean/-/didyoumean-1.2.2.tgz",
      "integrity": "sha512-gxtyfqMg7GKyhQmb056K7M3xszy/myH8w+B4RT+QXBQsvAOdc3XymqDDPHx1BgPgsdAA5SIifona89YtRATDzw==",
      "dev": true,
      "license": "Apache-2.0"
    },
    "node_modules/dlv": {
      "version": "1.1.3",
      "resolved": "https://registry.npmjs.org/dlv/-/dlv-1.1.3.tgz",
      "integrity": "sha512-+HlytyjlPKnIG8XuRG8WvmBP8xs8P71y+SKKS6ZXWoEgLuePxtDoUEiH7WkdePWrQ5JBpE6aoVqfZfJUQkjXwA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/eastasianwidth": {
      "version": "0.2.0",
      "resolved": "https://registry.npmjs.org/eastasianwidth/-/eastasianwidth-0.2.0.tgz",
      "integrity": "sha512-I88TYZWc9XiYHRQ4/3c5rjjfgkjhLyW2luGIheGERbNQ6OY7yTybanSpDXZa8y7VUP9YmDcYa+eyq4ca7iLqWA==",
      "license": "MIT"
    },
    "node_modules/ecdsa-sig-formatter": {
      "version": "1.0.11",
      "resolved": "https://registry.npmjs.org/ecdsa-sig-formatter/-/ecdsa-sig-formatter-1.0.11.tgz",
      "integrity": "sha512-nagl3RYrbNv6kQkeJIpt6NJZy8twLB/2vtz6yN9Z4vRKHN4/QZJIEbqohALSgwKdnksuY3k5Addp5lg8sVoVcQ==",
      "license": "Apache-2.0",
      "dependencies": {
        "safe-buffer": "^5.0.1"
      }
    },
    "node_modules/electron-to-chromium": {
      "version": "1.5.267",
      "resolved": "https://registry.npmjs.org/electron-to-chromium/-/electron-to-chromium-1.5.267.tgz",
      "integrity": "sha512-0Drusm6MVRXSOJpGbaSVgcQsuB4hEkMpHXaVstcPmhu5LIedxs1xNK/nIxmQIU/RPC0+1/o0AVZfBTkTNJOdUw==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/emoji-regex": {
      "version": "9.2.2",
      "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-9.2.2.tgz",
      "integrity": "sha512-L18DaJsXSUk2+42pv8mLs5jJT2hqFkFE4j21wOmgbUqsZ2hL72NsUU785g9RXgo3s0ZNgVl42TiHp3ZtOv/Vyg==",
      "license": "MIT"
    },
    "node_modules/escalade": {
      "version": "3.2.0",
      "resolved": "https://registry.npmjs.org/escalade/-/escalade-3.2.0.tgz",
      "integrity": "sha512-WUj2qlxaQtO4g6Pq5c29GTcWGDyd8itL8zTlipgECz3JesAiiOKotd8JU6otB3PACgG6xkJUyVhboMS+bje/jA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/extend": {
      "version": "3.0.2",
      "resolved": "https://registry.npmjs.org/extend/-/extend-3.0.2.tgz",
      "integrity": "sha512-fjquC59cD7CyW6urNXK0FBufkZcoiGG80wTuPujX590cB5Ttln20E2UB4S/WARVqhXffZl2LNgS+gQdPIIim/g==",
      "license": "MIT"
    },
    "node_modules/fastq": {
      "version": "1.19.1",
      "resolved": "https://registry.npmjs.org/fastq/-/fastq-1.19.1.tgz",
      "integrity": "sha512-GwLTyxkCXjXbxqIhTsMI2Nui8huMPtnxg7krajPJAjnEG/iiOS7i+zCtWGZR9G0NBKbXKh6X9m9UIsYX/N6vvQ==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "reusify": "^1.0.4"
      }
    },
    "node_modules/fetch-blob": {
      "version": "3.2.0",
      "resolved": "https://registry.npmjs.org/fetch-blob/-/fetch-blob-3.2.0.tgz",
      "integrity": "sha512-7yAQpD2UMJzLi1Dqv7qFYnPbaPx7ZfFK6PiIxQ4PfkGPyNyl2Ugx+a/umUonmKqjhM4DnfbMvdX6otXq83soQQ==",
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/jimmywarting"
        },
        {
          "type": "paypal",
          "url": "https://paypal.me/jimmywarting"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "node-domexception": "^1.0.0",
        "web-streams-polyfill": "^3.0.3"
      },
      "engines": {
        "node": "^12.20 || >= 14.13"
      }
    },
    "node_modules/fill-range": {
      "version": "7.1.1",
      "resolved": "https://registry.npmjs.org/fill-range/-/fill-range-7.1.1.tgz",
      "integrity": "sha512-YsGpe3WHLK8ZYi4tWDg2Jy3ebRz2rXowDxnld4bkQB00cc/1Zw9AWnC0i9ztDJitivtQvaI9KaLyKrc+hBW0yg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "to-regex-range": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/foreground-child": {
      "version": "3.3.1",
      "resolved": "https://registry.npmjs.org/foreground-child/-/foreground-child-3.3.1.tgz",
      "integrity": "sha512-gIXjKqtFuWEgzFRJA9WCQeSJLZDjgJUOMCMzxtvFq/37KojM1BFGufqsCy0r4qSQmYLsZYMeyRqzIWOMup03sw==",
      "license": "ISC",
      "dependencies": {
        "cross-spawn": "^7.0.6",
        "signal-exit": "^4.0.1"
      },
      "engines": {
        "node": ">=14"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/formdata-polyfill": {
      "version": "4.0.10",
      "resolved": "https://registry.npmjs.org/formdata-polyfill/-/formdata-polyfill-4.0.10.tgz",
      "integrity": "sha512-buewHzMvYL29jdeQTVILecSaZKnt/RJWjoZCF5OW60Z67/GmSLBkOFM7qh1PI3zFNtJbaZL5eQu1vLfazOwj4g==",
      "license": "MIT",
      "dependencies": {
        "fetch-blob": "^3.1.2"
      },
      "engines": {
        "node": ">=12.20.0"
      }
    },
    "node_modules/fraction.js": {
      "version": "5.3.4",
      "resolved": "https://registry.npmjs.org/fraction.js/-/fraction.js-5.3.4.tgz",
      "integrity": "sha512-1X1NTtiJphryn/uLQz3whtY6jK3fTqoE3ohKs0tT+Ujr1W59oopxmoEh7Lu5p6vBaPbgoM0bzveAW4Qi5RyWDQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": "*"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/rawify"
      }
    },
    "node_modules/fsevents": {
      "version": "2.3.3",
      "resolved": "https://registry.npmjs.org/fsevents/-/fsevents-2.3.3.tgz",
      "integrity": "sha512-5xoDfX+fL7faATnagmWPpbFtwh/R77WmMMqqHGS65C3vvB0YHrgF+B1YmZ3441tMj5n63k0212XNoJwzlhffQw==",
      "dev": true,
      "hasInstallScript": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": "^8.16.0 || ^10.6.0 || >=11.0.0"
      }
    },
    "node_modules/function-bind": {
      "version": "1.1.2",
      "resolved": "https://registry.npmjs.org/function-bind/-/function-bind-1.1.2.tgz",
      "integrity": "sha512-7XHNxH7qX9xG5mIwxkhumTox/MIRNcOgDrxWsMt2pAr23WHp6MrRlN7FBSFpCpr+oVO0F744iUgR82nJMfG2SA==",
      "dev": true,
      "license": "MIT",
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/gaxios": {
      "version": "7.1.3",
      "resolved": "https://registry.npmjs.org/gaxios/-/gaxios-7.1.3.tgz",
      "integrity": "sha512-YGGyuEdVIjqxkxVH1pUTMY/XtmmsApXrCVv5EU25iX6inEPbV+VakJfLealkBtJN69AQmh1eGOdCl9Sm1UP6XQ==",
      "license": "Apache-2.0",
      "dependencies": {
        "extend": "^3.0.2",
        "https-proxy-agent": "^7.0.1",
        "node-fetch": "^3.3.2",
        "rimraf": "^5.0.1"
      },
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/gcp-metadata": {
      "version": "8.1.2",
      "resolved": "https://registry.npmjs.org/gcp-metadata/-/gcp-metadata-8.1.2.tgz",
      "integrity": "sha512-zV/5HKTfCeKWnxG0Dmrw51hEWFGfcF2xiXqcA3+J90WDuP0SvoiSO5ORvcBsifmx/FoIjgQN3oNOGaQ5PhLFkg==",
      "license": "Apache-2.0",
      "dependencies": {
        "gaxios": "^7.0.0",
        "google-logging-utils": "^1.0.0",
        "json-bigint": "^1.0.0"
      },
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/glob": {
      "version": "10.5.0",
      "resolved": "https://registry.npmjs.org/glob/-/glob-10.5.0.tgz",
      "integrity": "sha512-DfXN8DfhJ7NH3Oe7cFmu3NCu1wKbkReJ8TorzSAFbSKrlNaQSKfIzqYqVY8zlbs2NLBbWpRiU52GX2PbaBVNkg==",
      "license": "ISC",
      "dependencies": {
        "foreground-child": "^3.1.0",
        "jackspeak": "^3.1.2",
        "minimatch": "^9.0.4",
        "minipass": "^7.1.2",
        "package-json-from-dist": "^1.0.0",
        "path-scurry": "^1.11.1"
      },
      "bin": {
        "glob": "dist/esm/bin.mjs"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/glob-parent": {
      "version": "6.0.2",
      "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-6.0.2.tgz",
      "integrity": "sha512-XxwI8EOhVQgWp6iDL+3b0r86f4d6AX6zSU55HfB4ydCEuXLXc5FcYeOu+nnGftS4TEju/11rt4KJPTMgbfmv4A==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "is-glob": "^4.0.3"
      },
      "engines": {
        "node": ">=10.13.0"
      }
    },
    "node_modules/google-auth-library": {
      "version": "10.5.0",
      "resolved": "https://registry.npmjs.org/google-auth-library/-/google-auth-library-10.5.0.tgz",
      "integrity": "sha512-7ABviyMOlX5hIVD60YOfHw4/CxOfBhyduaYB+wbFWCWoni4N7SLcV46hrVRktuBbZjFC9ONyqamZITN7q3n32w==",
      "license": "Apache-2.0",
      "dependencies": {
        "base64-js": "^1.3.0",
        "ecdsa-sig-formatter": "^1.0.11",
        "gaxios": "^7.0.0",
        "gcp-metadata": "^8.0.0",
        "google-logging-utils": "^1.0.0",
        "gtoken": "^8.0.0",
        "jws": "^4.0.0"
      },
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/google-logging-utils": {
      "version": "1.1.3",
      "resolved": "https://registry.npmjs.org/google-logging-utils/-/google-logging-utils-1.1.3.tgz",
      "integrity": "sha512-eAmLkjDjAFCVXg7A1unxHsLf961m6y17QFqXqAXGj/gVkKFrEICfStRfwUlGNfeCEjNRa32JEWOUTlYXPyyKvA==",
      "license": "Apache-2.0",
      "engines": {
        "node": ">=14"
      }
    },
    "node_modules/graceful-fs": {
      "version": "4.2.11",
      "resolved": "https://registry.npmjs.org/graceful-fs/-/graceful-fs-4.2.11.tgz",
      "integrity": "sha512-RbJ5/jmFcNNCcDV5o9eTnBLJ/HszWV0P73bc+Ff4nS/rJj+YaS6IGyiOL0VoBYX+l1Wrl3k63h/KrH+nhJ0XvQ==",
      "license": "ISC"
    },
    "node_modules/gtoken": {
      "version": "8.0.0",
      "resolved": "https://registry.npmjs.org/gtoken/-/gtoken-8.0.0.tgz",
      "integrity": "sha512-+CqsMbHPiSTdtSO14O51eMNlrp9N79gmeqmXeouJOhfucAedHw9noVe/n5uJk3tbKE6a+6ZCQg3RPhVhHByAIw==",
      "license": "MIT",
      "dependencies": {
        "gaxios": "^7.0.0",
        "jws": "^4.0.0"
      },
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/hasown": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/hasown/-/hasown-2.0.2.tgz",
      "integrity": "sha512-0hJU9SCPvmMzIBdZFqNPXWa6dqh7WdH0cII9y+CyS8rG3nL48Bclra9HmKhVVUHyPWNH5Y7xDwAB7bfgSjkUMQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "function-bind": "^1.1.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/https-proxy-agent": {
      "version": "7.0.6",
      "resolved": "https://registry.npmjs.org/https-proxy-agent/-/https-proxy-agent-7.0.6.tgz",
      "integrity": "sha512-vK9P5/iUfdl95AI+JVyUuIcVtd4ofvtrOr3HNtM2yxC9bnMbEdp3x01OhQNnjb8IJYi38VlTE3mBXwcfvywuSw==",
      "license": "MIT",
      "dependencies": {
        "agent-base": "^7.1.2",
        "debug": "4"
      },
      "engines": {
        "node": ">= 14"
      }
    },
    "node_modules/iceberg-js": {
      "version": "0.8.1",
      "resolved": "https://registry.npmjs.org/iceberg-js/-/iceberg-js-0.8.1.tgz",
      "integrity": "sha512-1dhVQZXhcHje7798IVM+xoo/1ZdVfzOMIc8/rgVSijRK38EDqOJoGula9N/8ZI5RD8QTxNQtK/Gozpr+qUqRRA==",
      "license": "MIT",
      "engines": {
        "node": ">=20.0.0"
      }
    },
    "node_modules/is-binary-path": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/is-binary-path/-/is-binary-path-2.1.0.tgz",
      "integrity": "sha512-ZMERYes6pDydyuGidse7OsHxtbI7WVeUEozgR/g7rd0xUimYNlvZRE/K2MgZTjWy725IfelLeVcEM97mmtRGXw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "binary-extensions": "^2.0.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/is-core-module": {
      "version": "2.16.1",
      "resolved": "https://registry.npmjs.org/is-core-module/-/is-core-module-2.16.1.tgz",
      "integrity": "sha512-UfoeMA6fIJ8wTYFEUjelnaGI67v6+N7qXJEvQuIGa99l4xsCruSYOVSQ0uPANn4dAzm8lkYPaKLrrijLq7x23w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "hasown": "^2.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-extglob": {
      "version": "2.1.1",
      "resolved": "https://registry.npmjs.org/is-extglob/-/is-extglob-2.1.1.tgz",
      "integrity": "sha512-SbKbANkN603Vi4jEZv49LeVJMn4yGwsbzZworEoyEiutsN3nJYdbO36zfhGJ6QEDpOZIFkDtnq5JRxmvl3jsoQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/is-fullwidth-code-point": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/is-fullwidth-code-point/-/is-fullwidth-code-point-3.0.0.tgz",
      "integrity": "sha512-zymm5+u+sCsSWyD9qNaejV3DFvhCKclKdizYaJUuHA83RLjb7nSuGnddCHGv0hk+KY7BMAlsWeK4Ueg6EV6XQg==",
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/is-glob": {
      "version": "4.0.3",
      "resolved": "https://registry.npmjs.org/is-glob/-/is-glob-4.0.3.tgz",
      "integrity": "sha512-xelSayHH36ZgE7ZWhli7pW34hNbNl8Ojv5KVmkJD4hBdD3th8Tfk9vYasLM+mXWOZhFkgZfxhLSnrwRr4elSSg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "is-extglob": "^2.1.1"
      },
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/is-number": {
      "version": "7.0.0",
      "resolved": "https://registry.npmjs.org/is-number/-/is-number-7.0.0.tgz",
      "integrity": "sha512-41Cifkg6e8TylSpdtTpeLVMqvSBEVzTttHvERD741+pnZ8ANv0004MRL43QKPDlK9cGvNp6NZWZUBlbGXYxxng==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.12.0"
      }
    },
    "node_modules/isexe": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/isexe/-/isexe-2.0.0.tgz",
      "integrity": "sha512-RHxMLp9lnKHGHRng9QFhRCMbYAcVpn69smSGcq3f36xjgVVWThj4qqLbTLlq7Ssj8B+fIQ1EuCEGI2lKsyQeIw==",
      "license": "ISC"
    },
    "node_modules/jackspeak": {
      "version": "3.4.3",
      "resolved": "https://registry.npmjs.org/jackspeak/-/jackspeak-3.4.3.tgz",
      "integrity": "sha512-OGlZQpz2yfahA/Rd1Y8Cd9SIEsqvXkLVoSw/cgwhnhFMDbsQFeZYoJJ7bIZBS9BcamUW96asq/npPWugM+RQBw==",
      "license": "BlueOak-1.0.0",
      "dependencies": {
        "@isaacs/cliui": "^8.0.2"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      },
      "optionalDependencies": {
        "@pkgjs/parseargs": "^0.11.0"
      }
    },
    "node_modules/jiti": {
      "version": "2.6.1",
      "resolved": "https://registry.npmjs.org/jiti/-/jiti-2.6.1.tgz",
      "integrity": "sha512-ekilCSN1jwRvIbgeg/57YFh8qQDNbwDb9xT/qu2DAHbFFZUicIl4ygVaAvzveMhMVr3LnpSKTNnwt8PoOfmKhQ==",
      "dev": true,
      "license": "MIT",
      "optional": true,
      "peer": true,
      "bin": {
        "jiti": "lib/jiti-cli.mjs"
      }
    },
    "node_modules/js-tokens": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/js-tokens/-/js-tokens-4.0.0.tgz",
      "integrity": "sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==",
      "license": "MIT"
    },
    "node_modules/json-bigint": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/json-bigint/-/json-bigint-1.0.0.tgz",
      "integrity": "sha512-SiPv/8VpZuWbvLSMtTDU8hEfrZWg/mH/nV/b4o0CYbSxu1UIQPLdwKOCIyLQX+VIPO5vrLX3i8qtqFyhdPSUSQ==",
      "license": "MIT",
      "dependencies": {
        "bignumber.js": "^9.0.0"
      }
    },
    "node_modules/jwa": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/jwa/-/jwa-2.0.1.tgz",
      "integrity": "sha512-hRF04fqJIP8Abbkq5NKGN0Bbr3JxlQ+qhZufXVr0DvujKy93ZCbXZMHDL4EOtodSbCWxOqR8MS1tXA5hwqCXDg==",
      "license": "MIT",
      "dependencies": {
        "buffer-equal-constant-time": "^1.0.1",
        "ecdsa-sig-formatter": "1.0.11",
        "safe-buffer": "^5.0.1"
      }
    },
    "node_modules/jws": {
      "version": "4.0.1",
      "resolved": "https://registry.npmjs.org/jws/-/jws-4.0.1.tgz",
      "integrity": "sha512-EKI/M/yqPncGUUh44xz0PxSidXFr/+r0pA70+gIYhjv+et7yxM+s29Y+VGDkovRofQem0fs7Uvf4+YmAdyRduA==",
      "license": "MIT",
      "dependencies": {
        "jwa": "^2.0.1",
        "safe-buffer": "^5.0.1"
      }
    },
    "node_modules/lilconfig": {
      "version": "3.1.3",
      "resolved": "https://registry.npmjs.org/lilconfig/-/lilconfig-3.1.3.tgz",
      "integrity": "sha512-/vlFKAoH5Cgt3Ie+JLhRbwOsCQePABiU3tJ1egGvyQ+33R/vcwM2Zl2QR/LzjsBeItPt3oSVXapn+m4nQDvpzw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=14"
      },
      "funding": {
        "url": "https://github.com/sponsors/antonk52"
      }
    },
    "node_modules/lines-and-columns": {
      "version": "1.2.4",
      "resolved": "https://registry.npmjs.org/lines-and-columns/-/lines-and-columns-1.2.4.tgz",
      "integrity": "sha512-7ylylesZQ/PV29jhEDl3Ufjo6ZX7gCqJr5F7PKrqc93v7fzSymt1BpwEU8nAUXs8qzzvqhbjhK5QZg6Mt/HkBg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/loose-envify": {
      "version": "1.4.0",
      "resolved": "https://registry.npmjs.org/loose-envify/-/loose-envify-1.4.0.tgz",
      "integrity": "sha512-lyuxPGr/Wfhrlem2CL/UcnUc1zcqKAImBDzukY7Y5F/yQiNdko6+fRLevlw1HgMySw7f611UIY408EtxRSoK3Q==",
      "license": "MIT",
      "dependencies": {
        "js-tokens": "^3.0.0 || ^4.0.0"
      },
      "bin": {
        "loose-envify": "cli.js"
      }
    },
    "node_modules/lru-cache": {
      "version": "10.4.3",
      "resolved": "https://registry.npmjs.org/lru-cache/-/lru-cache-10.4.3.tgz",
      "integrity": "sha512-JNAzZcXrCt42VGLuYz0zfAzDfAvJWW6AfYlDBQyDV5DClI2m5sAmK+OIO7s59XfsRsWHp02jAJrRadPRGTt6SQ==",
      "license": "ISC"
    },
    "node_modules/lucide-react": {
      "version": "0.300.0",
      "resolved": "https://registry.npmjs.org/lucide-react/-/lucide-react-0.300.0.tgz",
      "integrity": "sha512-rQxUUCmWAvNLoAsMZ5j04b2+OJv6UuNLYMY7VK0eVlm4aTwUEjEEHc09/DipkNIlhXUSDn2xoyIzVT0uh7dRsg==",
      "license": "ISC",
      "peerDependencies": {
        "react": "^16.5.1 || ^17.0.0 || ^18.0.0"
      }
    },
    "node_modules/merge2": {
      "version": "1.4.1",
      "resolved": "https://registry.npmjs.org/merge2/-/merge2-1.4.1.tgz",
      "integrity": "sha512-8q7VEgMJW4J8tcfVPy8g09NcQwZdbwFEqhe/WZkoIzjn/3TGDwtOCYtXGxA3O8tPzpczCCDgv+P2P5y00ZJOOg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/micromatch": {
      "version": "4.0.8",
      "resolved": "https://registry.npmjs.org/micromatch/-/micromatch-4.0.8.tgz",
      "integrity": "sha512-PXwfBhYu0hBCPw8Dn0E+WDYb7af3dSLVWKi3HGv84IdF4TyFoC0ysxFd0Goxw7nSv4T/PzEJQxsYsEiFCKo2BA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "braces": "^3.0.3",
        "picomatch": "^2.3.1"
      },
      "engines": {
        "node": ">=8.6"
      }
    },
    "node_modules/minimatch": {
      "version": "9.0.5",
      "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-9.0.5.tgz",
      "integrity": "sha512-G6T0ZX48xgozx7587koeX9Ys2NYy6Gmv//P89sEte9V9whIapMNF4idKxnW2QtCcLiTWlb/wfCabAtAFWhhBow==",
      "license": "ISC",
      "dependencies": {
        "brace-expansion": "^2.0.1"
      },
      "engines": {
        "node": ">=16 || 14 >=14.17"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/minipass": {
      "version": "7.1.2",
      "resolved": "https://registry.npmjs.org/minipass/-/minipass-7.1.2.tgz",
      "integrity": "sha512-qOOzS1cBTWYF4BH8fVePDBOO9iptMnGUEZwNc/cMWnTV2nVLZ7VoNWEPHkYczZA0pdoA7dl6e7FL659nX9S2aw==",
      "license": "ISC",
      "engines": {
        "node": ">=16 || 14 >=14.17"
      }
    },
    "node_modules/ms": {
      "version": "2.1.3",
      "resolved": "https://registry.npmjs.org/ms/-/ms-2.1.3.tgz",
      "integrity": "sha512-6FlzubTLZG3J2a/NVCAleEhjzq5oxgHyaCU9yYXvcLsvoVaHJq/s5xXI6/XXP6tz7R9xAOtHnSO/tXtF3WRTlA==",
      "license": "MIT"
    },
    "node_modules/mz": {
      "version": "2.7.0",
      "resolved": "https://registry.npmjs.org/mz/-/mz-2.7.0.tgz",
      "integrity": "sha512-z81GNO7nnYMEhrGh9LeymoE4+Yr0Wn5McHIZMK5cfQCl+NDX08sCZgUc9/6MHni9IWuFLm1Z3HTCXu2z9fN62Q==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "any-promise": "^1.0.0",
        "object-assign": "^4.0.1",
        "thenify-all": "^1.0.0"
      }
    },
    "node_modules/nanoid": {
      "version": "3.3.11",
      "resolved": "https://registry.npmjs.org/nanoid/-/nanoid-3.3.11.tgz",
      "integrity": "sha512-N8SpfPUnUp1bK+PMYW8qSWdl9U+wwNWI4QKxOYDy9JAro3WMX7p2OeVRF9v+347pnakNevPmiHhNmZ2HbFA76w==",
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "bin": {
        "nanoid": "bin/nanoid.cjs"
      },
      "engines": {
        "node": "^10 || ^12 || ^13.7 || ^14 || >=15.0.1"
      }
    },
    "node_modules/next": {
      "version": "14.1.0",
      "resolved": "https://registry.npmjs.org/next/-/next-14.1.0.tgz",
      "integrity": "sha512-wlzrsbfeSU48YQBjZhDzOwhWhGsy+uQycR8bHAOt1LY1bn3zZEcDyHQOEoN3aWzQ8LHCAJ1nqrWCc9XF2+O45Q==",
      "deprecated": "This version has a security vulnerability. Please upgrade to a patched version. See https://nextjs.org/blog/security-update-2025-12-11 for more details.",
      "license": "MIT",
      "dependencies": {
        "@next/env": "14.1.0",
        "@swc/helpers": "0.5.2",
        "busboy": "1.6.0",
        "caniuse-lite": "^1.0.30001579",
        "graceful-fs": "^4.2.11",
        "postcss": "8.4.31",
        "styled-jsx": "5.1.1"
      },
      "bin": {
        "next": "dist/bin/next"
      },
      "engines": {
        "node": ">=18.17.0"
      },
      "optionalDependencies": {
        "@next/swc-darwin-arm64": "14.1.0",
        "@next/swc-darwin-x64": "14.1.0",
        "@next/swc-linux-arm64-gnu": "14.1.0",
        "@next/swc-linux-arm64-musl": "14.1.0",
        "@next/swc-linux-x64-gnu": "14.1.0",
        "@next/swc-linux-x64-musl": "14.1.0",
        "@next/swc-win32-arm64-msvc": "14.1.0",
        "@next/swc-win32-ia32-msvc": "14.1.0",
        "@next/swc-win32-x64-msvc": "14.1.0"
      },
      "peerDependencies": {
        "@opentelemetry/api": "^1.1.0",
        "react": "^18.2.0",
        "react-dom": "^18.2.0",
        "sass": "^1.3.0"
      },
      "peerDependenciesMeta": {
        "@opentelemetry/api": {
          "optional": true
        },
        "sass": {
          "optional": true
        }
      }
    },
    "node_modules/next/node_modules/postcss": {
      "version": "8.4.31",
      "resolved": "https://registry.npmjs.org/postcss/-/postcss-8.4.31.tgz",
      "integrity": "sha512-PS08Iboia9mts/2ygV3eLpY5ghnUcfLV/EXTOW1E2qYxJKGGBUtNjN76FYHnMs36RmARn41bC0AZmn+rR0OVpQ==",
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/postcss/"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/postcss"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "nanoid": "^3.3.6",
        "picocolors": "^1.0.0",
        "source-map-js": "^1.0.2"
      },
      "engines": {
        "node": "^10 || ^12 || >=14"
      }
    },
    "node_modules/node-domexception": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/node-domexception/-/node-domexception-1.0.0.tgz",
      "integrity": "sha512-/jKZoMpw0F8GRwl4/eLROPA3cfcXtLApP0QzLmUT/HuPCZWyB7IY9ZrMeKw2O/nFIqPQB3PVM9aYm0F312AXDQ==",
      "deprecated": "Use your platform's native DOMException instead",
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/jimmywarting"
        },
        {
          "type": "github",
          "url": "https://paypal.me/jimmywarting"
        }
      ],
      "license": "MIT",
      "engines": {
        "node": ">=10.5.0"
      }
    },
    "node_modules/node-fetch": {
      "version": "3.3.2",
      "resolved": "https://registry.npmjs.org/node-fetch/-/node-fetch-3.3.2.tgz",
      "integrity": "sha512-dRB78srN/l6gqWulah9SrxeYnxeddIG30+GOqK/9OlLVyLg3HPnr6SqOWTWOXKRwC2eGYCkZ59NNuSgvSrpgOA==",
      "license": "MIT",
      "dependencies": {
        "data-uri-to-buffer": "^4.0.0",
        "fetch-blob": "^3.1.4",
        "formdata-polyfill": "^4.0.10"
      },
      "engines": {
        "node": "^12.20.0 || ^14.13.1 || >=16.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/node-fetch"
      }
    },
    "node_modules/node-releases": {
      "version": "2.0.27",
      "resolved": "https://registry.npmjs.org/node-releases/-/node-releases-2.0.27.tgz",
      "integrity": "sha512-nmh3lCkYZ3grZvqcCH+fjmQ7X+H0OeZgP40OierEaAptX4XofMh5kwNbWh7lBduUzCcV/8kZ+NDLCwm2iorIlA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/normalize-path": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/normalize-path/-/normalize-path-3.0.0.tgz",
      "integrity": "sha512-6eZs5Ls3WtCisHWp9S2GUy8dqkpGi4BVSz3GaqiE6ezub0512ESztXUwUB6C6IKbQkY2Pnb/mD4WYojCRwcwLA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/object-assign": {
      "version": "4.1.1",
      "resolved": "https://registry.npmjs.org/object-assign/-/object-assign-4.1.1.tgz",
      "integrity": "sha512-rJgTQnkUnH1sFw8yT6VSU3zD3sWmu6sZhIseY8VX+GRu3P6F7Fu+JNDoXfklElbLJSnc3FUQHVe4cU5hj+BcUg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/object-hash": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/object-hash/-/object-hash-3.0.0.tgz",
      "integrity": "sha512-RSn9F68PjH9HqtltsSnqYC1XXoWe9Bju5+213R98cNGttag9q9yAOTzdbsqvIa7aNm5WffBZFpWYr2aWrklWAw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/package-json-from-dist": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/package-json-from-dist/-/package-json-from-dist-1.0.1.tgz",
      "integrity": "sha512-UEZIS3/by4OC8vL3P2dTXRETpebLI2NiI5vIrjaD/5UtrkFX/tNbwjTSRAGC/+7CAo2pIcBaRgWmcBBHcsaCIw==",
      "license": "BlueOak-1.0.0"
    },
    "node_modules/path-key": {
      "version": "3.1.1",
      "resolved": "https://registry.npmjs.org/path-key/-/path-key-3.1.1.tgz",
      "integrity": "sha512-ojmeN0qd+y0jszEtoY48r0Peq5dwMEkIlCOu6Q5f41lfkswXuKtYrhgoTpLnyIcHm24Uhqx+5Tqm2InSwLhE6Q==",
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/path-parse": {
      "version": "1.0.7",
      "resolved": "https://registry.npmjs.org/path-parse/-/path-parse-1.0.7.tgz",
      "integrity": "sha512-LDJzPVEEEPR+y48z93A0Ed0yXb8pAByGWo/k5YYdYgpY2/2EsOsksJrq7lOHxryrVOn1ejG6oAp8ahvOIQD8sw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/path-scurry": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/path-scurry/-/path-scurry-1.11.1.tgz",
      "integrity": "sha512-Xa4Nw17FS9ApQFJ9umLiJS4orGjm7ZzwUrwamcGQuHSzDyth9boKDaycYdDcZDuqYATXw4HFXgaqWTctW/v1HA==",
      "license": "BlueOak-1.0.0",
      "dependencies": {
        "lru-cache": "^10.2.0",
        "minipass": "^5.0.0 || ^6.0.2 || ^7.0.0"
      },
      "engines": {
        "node": ">=16 || 14 >=14.18"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/picocolors": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/picocolors/-/picocolors-1.1.1.tgz",
      "integrity": "sha512-xceH2snhtb5M9liqDsmEw56le376mTZkEX/jEb/RxNFyegNul7eNslCXP9FDj/Lcu0X8KEyMceP2ntpaHrDEVA==",
      "license": "ISC"
    },
    "node_modules/picomatch": {
      "version": "2.3.1",
      "resolved": "https://registry.npmjs.org/picomatch/-/picomatch-2.3.1.tgz",
      "integrity": "sha512-JU3teHTNjmE2VCGFzuY8EXzCDVwEqB2a8fsIvwaStHhAWJEeVd1o1QD80CU6+ZdEXXSLbSsuLwJjkCBWqRQUVA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8.6"
      },
      "funding": {
        "url": "https://github.com/sponsors/jonschlinkert"
      }
    },
    "node_modules/pify": {
      "version": "2.3.0",
      "resolved": "https://registry.npmjs.org/pify/-/pify-2.3.0.tgz",
      "integrity": "sha512-udgsAY+fTnvv7kI7aaxbqwWNb0AHiB0qBO89PZKPkoTmGOgdbrHDKD+0B2X4uTfJ/FT1R09r9gTsjUjNJotuog==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/pirates": {
      "version": "4.0.7",
      "resolved": "https://registry.npmjs.org/pirates/-/pirates-4.0.7.tgz",
      "integrity": "sha512-TfySrs/5nm8fQJDcBDuUng3VOUKsd7S+zqvbOTiGXHfxX4wK31ard+hoNuvkicM/2YFzlpDgABOevKSsB4G/FA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/postcss": {
      "version": "8.5.6",
      "resolved": "https://registry.npmjs.org/postcss/-/postcss-8.5.6.tgz",
      "integrity": "sha512-3Ybi1tAuwAP9s0r1UQ2J4n5Y0G05bJkpUIO0/bI9MhwmD70S5aTWbXGBwxHrelT+XM1k6dM0pk+SwNkpTRN7Pg==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/postcss/"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/postcss"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "nanoid": "^3.3.11",
        "picocolors": "^1.1.1",
        "source-map-js": "^1.2.1"
      },
      "engines": {
        "node": "^10 || ^12 || >=14"
      }
    },
    "node_modules/postcss-import": {
      "version": "15.1.0",
      "resolved": "https://registry.npmjs.org/postcss-import/-/postcss-import-15.1.0.tgz",
      "integrity": "sha512-hpr+J05B2FVYUAXHeK1YyI267J/dDDhMU6B6civm8hSY1jYJnBXxzKDKDswzJmtLHryrjhnDjqqp/49t8FALew==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "postcss-value-parser": "^4.0.0",
        "read-cache": "^1.0.0",
        "resolve": "^1.1.7"
      },
      "engines": {
        "node": ">=14.0.0"
      },
      "peerDependencies": {
        "postcss": "^8.0.0"
      }
    },
    "node_modules/postcss-js": {
      "version": "4.1.0",
      "resolved": "https://registry.npmjs.org/postcss-js/-/postcss-js-4.1.0.tgz",
      "integrity": "sha512-oIAOTqgIo7q2EOwbhb8UalYePMvYoIeRY2YKntdpFQXNosSu3vLrniGgmH9OKs/qAkfoj5oB3le/7mINW1LCfw==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/postcss/"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "camelcase-css": "^2.0.1"
      },
      "engines": {
        "node": "^12 || ^14 || >= 16"
      },
      "peerDependencies": {
        "postcss": "^8.4.21"
      }
    },
    "node_modules/postcss-load-config": {
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/postcss-load-config/-/postcss-load-config-6.0.1.tgz",
      "integrity": "sha512-oPtTM4oerL+UXmx+93ytZVN82RrlY/wPUV8IeDxFrzIjXOLF1pN+EmKPLbubvKHT2HC20xXsCAH2Z+CKV6Oz/g==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/postcss/"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "lilconfig": "^3.1.1"
      },
      "engines": {
        "node": ">= 18"
      },
      "peerDependencies": {
        "jiti": ">=1.21.0",
        "postcss": ">=8.0.9",
        "tsx": "^4.8.1",
        "yaml": "^2.4.2"
      },
      "peerDependenciesMeta": {
        "jiti": {
          "optional": true
        },
        "postcss": {
          "optional": true
        },
        "tsx": {
          "optional": true
        },
        "yaml": {
          "optional": true
        }
      }
    },
    "node_modules/postcss-nested": {
      "version": "6.2.0",
      "resolved": "https://registry.npmjs.org/postcss-nested/-/postcss-nested-6.2.0.tgz",
      "integrity": "sha512-HQbt28KulC5AJzG+cZtj9kvKB93CFCdLvog1WFLf1D+xmMvPGlBstkpTEZfK5+AN9hfJocyBFCNiqyS48bpgzQ==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/postcss/"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "postcss-selector-parser": "^6.1.1"
      },
      "engines": {
        "node": ">=12.0"
      },
      "peerDependencies": {
        "postcss": "^8.2.14"
      }
    },
    "node_modules/postcss-selector-parser": {
      "version": "6.1.2",
      "resolved": "https://registry.npmjs.org/postcss-selector-parser/-/postcss-selector-parser-6.1.2.tgz",
      "integrity": "sha512-Q8qQfPiZ+THO/3ZrOrO0cJJKfpYCagtMUkXbnEfmgUjwXg6z/WBeOyS9APBBPCTSiDV+s4SwQGu8yFsiMRIudg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "cssesc": "^3.0.0",
        "util-deprecate": "^1.0.2"
      },
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/postcss-value-parser": {
      "version": "4.2.0",
      "resolved": "https://registry.npmjs.org/postcss-value-parser/-/postcss-value-parser-4.2.0.tgz",
      "integrity": "sha512-1NNCs6uurfkVbeXG4S8JFT9t19m45ICnif8zWLd5oPSZ50QnwMfK+H3jv408d4jw/7Bttv5axS5IiHoLaVNHeQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/queue-microtask": {
      "version": "1.2.3",
      "resolved": "https://registry.npmjs.org/queue-microtask/-/queue-microtask-1.2.3.tgz",
      "integrity": "sha512-NuaNSa6flKT5JaSYQzJok04JzTL1CA6aGhv5rfLW3PgqA+M2ChpZQnAC8h8i4ZFkBS8X5RqkDBHA7r4hej3K9A==",
      "dev": true,
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/feross"
        },
        {
          "type": "patreon",
          "url": "https://www.patreon.com/feross"
        },
        {
          "type": "consulting",
          "url": "https://feross.org/support"
        }
      ],
      "license": "MIT"
    },
    "node_modules/react": {
      "version": "18.3.1",
      "resolved": "https://registry.npmjs.org/react/-/react-18.3.1.tgz",
      "integrity": "sha512-wS+hAgJShR0KhEvPJArfuPVN1+Hz1t0Y6n5jLrGQbkb4urgPE/0Rve+1kMB1v/oWgHgm4WIcV+i7F2pTVj+2iQ==",
      "license": "MIT",
      "dependencies": {
        "loose-envify": "^1.1.0"
      },
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/react-dom": {
      "version": "18.3.1",
      "resolved": "https://registry.npmjs.org/react-dom/-/react-dom-18.3.1.tgz",
      "integrity": "sha512-5m4nQKp+rZRb09LNH59GM4BxTh9251/ylbKIbpe7TpGxfJ+9kv6BLkLBXIjjspbgbnIBNqlI23tRnTWT0snUIw==",
      "license": "MIT",
      "dependencies": {
        "loose-envify": "^1.1.0",
        "scheduler": "^0.23.2"
      },
      "peerDependencies": {
        "react": "^18.3.1"
      }
    },
    "node_modules/read-cache": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/read-cache/-/read-cache-1.0.0.tgz",
      "integrity": "sha512-Owdv/Ft7IjOgm/i0xvNDZ1LrRANRfew4b2prF3OWMQLxLfu3bS8FVhCsrSCMK4lR56Y9ya+AThoTpDCTxCmpRA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "pify": "^2.3.0"
      }
    },
    "node_modules/readdirp": {
      "version": "3.6.0",
      "resolved": "https://registry.npmjs.org/readdirp/-/readdirp-3.6.0.tgz",
      "integrity": "sha512-hOS089on8RduqdbhvQ5Z37A0ESjsqz6qnRcffsMU3495FuTdqSm+7bhJ29JvIOsBDEEnan5DPu9t3To9VRlMzA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "picomatch": "^2.2.1"
      },
      "engines": {
        "node": ">=8.10.0"
      }
    },
    "node_modules/resolve": {
      "version": "1.22.11",
      "resolved": "https://registry.npmjs.org/resolve/-/resolve-1.22.11.tgz",
      "integrity": "sha512-RfqAvLnMl313r7c9oclB1HhUEAezcpLjz95wFH4LVuhk9JF/r22qmVP9AMmOU4vMX7Q8pN8jwNg/CSpdFnMjTQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "is-core-module": "^2.16.1",
        "path-parse": "^1.0.7",
        "supports-preserve-symlinks-flag": "^1.0.0"
      },
      "bin": {
        "resolve": "bin/resolve"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/reusify": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/reusify/-/reusify-1.1.0.tgz",
      "integrity": "sha512-g6QUff04oZpHs0eG5p83rFLhHeV00ug/Yf9nZM6fLeUrPguBTkTQOdpAWWspMh55TZfVQDPaN3NQJfbVRAxdIw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "iojs": ">=1.0.0",
        "node": ">=0.10.0"
      }
    },
    "node_modules/rimraf": {
      "version": "5.0.10",
      "resolved": "https://registry.npmjs.org/rimraf/-/rimraf-5.0.10.tgz",
      "integrity": "sha512-l0OE8wL34P4nJH/H2ffoaniAokM2qSmrtXHmlpvYr5AVVX8msAyW0l8NVJFDxlSK4u3Uh/f41cQheDVdnYijwQ==",
      "license": "ISC",
      "dependencies": {
        "glob": "^10.3.7"
      },
      "bin": {
        "rimraf": "dist/esm/bin.mjs"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/run-parallel": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/run-parallel/-/run-parallel-1.2.0.tgz",
      "integrity": "sha512-5l4VyZR86LZ/lDxZTR6jqL8AFE2S0IFLMP26AbjsLVADxHdhB/c0GUsH+y39UfCi3dzz8OlQuPmnaJOMoDHQBA==",
      "dev": true,
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/feross"
        },
        {
          "type": "patreon",
          "url": "https://www.patreon.com/feross"
        },
        {
          "type": "consulting",
          "url": "https://feross.org/support"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "queue-microtask": "^1.2.2"
      }
    },
    "node_modules/safe-buffer": {
      "version": "5.2.1",
      "resolved": "https://registry.npmjs.org/safe-buffer/-/safe-buffer-5.2.1.tgz",
      "integrity": "sha512-rp3So07KcdmmKbGvgaNxQSJr7bGVSVk5S9Eq1F+ppbRo70+YeaDxkw5Dd8NPN+GD6bjnYm2VuPuCXmpuYvmCXQ==",
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/feross"
        },
        {
          "type": "patreon",
          "url": "https://www.patreon.com/feross"
        },
        {
          "type": "consulting",
          "url": "https://feross.org/support"
        }
      ],
      "license": "MIT"
    },
    "node_modules/scheduler": {
      "version": "0.23.2",
      "resolved": "https://registry.npmjs.org/scheduler/-/scheduler-0.23.2.tgz",
      "integrity": "sha512-UOShsPwz7NrMUqhR6t0hWjFduvOzbtv7toDH1/hIrfRNIDBnnBWd0CwJTGvTpngVlmwGCdP9/Zl/tVrDqcuYzQ==",
      "license": "MIT",
      "dependencies": {
        "loose-envify": "^1.1.0"
      }
    },
    "node_modules/shebang-command": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/shebang-command/-/shebang-command-2.0.0.tgz",
      "integrity": "sha512-kHxr2zZpYtdmrN1qDjrrX/Z1rR1kG8Dx+gkpK1G4eXmvXswmcE1hTWBWYUzlraYw1/yZp6YuDY77YtvbN0dmDA==",
      "license": "MIT",
      "dependencies": {
        "shebang-regex": "^3.0.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/shebang-regex": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/shebang-regex/-/shebang-regex-3.0.0.tgz",
      "integrity": "sha512-7++dFhtcx3353uBaq8DDR4NuxBetBzC7ZQOhmTQInHEd6bSrXdiEyzCvG07Z44UYdLShWUyXt5M/yhz8ekcb1A==",
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/signal-exit": {
      "version": "4.1.0",
      "resolved": "https://registry.npmjs.org/signal-exit/-/signal-exit-4.1.0.tgz",
      "integrity": "sha512-bzyZ1e88w9O1iNJbKnOlvYTrWPDl46O1bG0D3XInv+9tkPrxrN8jUUTiFlDkkmKWgn1M6CfIA13SuGqOa9Korw==",
      "license": "ISC",
      "engines": {
        "node": ">=14"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/source-map-js": {
      "version": "1.2.1",
      "resolved": "https://registry.npmjs.org/source-map-js/-/source-map-js-1.2.1.tgz",
      "integrity": "sha512-UXWMKhLOwVKb728IUtQPXxfYU+usdybtUrK/8uGE8CQMvrhOpwvzDBwj0QhSL7MQc7vIsISBG8VQ8+IDQxpfQA==",
      "license": "BSD-3-Clause",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/streamsearch": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/streamsearch/-/streamsearch-1.1.0.tgz",
      "integrity": "sha512-Mcc5wHehp9aXz1ax6bZUyY5afg9u2rv5cqQI3mRrYkGC8rW2hM02jWuwjtL++LS5qinSyhj2QfLyNsuc+VsExg==",
      "engines": {
        "node": ">=10.0.0"
      }
    },
    "node_modules/string-width": {
      "version": "5.1.2",
      "resolved": "https://registry.npmjs.org/string-width/-/string-width-5.1.2.tgz",
      "integrity": "sha512-HnLOCR3vjcY8beoNLtcjZ5/nxn2afmME6lhrDrebokqMap+XbeW8n9TXpPDOqdGK5qcI3oT0GKTW6wC7EMiVqA==",
      "license": "MIT",
      "dependencies": {
        "eastasianwidth": "^0.2.0",
        "emoji-regex": "^9.2.2",
        "strip-ansi": "^7.0.1"
      },
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/string-width-cjs": {
      "name": "string-width",
      "version": "4.2.3",
      "resolved": "https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz",
      "integrity": "sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==",
      "license": "MIT",
      "dependencies": {
        "emoji-regex": "^8.0.0",
        "is-fullwidth-code-point": "^3.0.0",
        "strip-ansi": "^6.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/string-width-cjs/node_modules/ansi-regex": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
      "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/string-width-cjs/node_modules/emoji-regex": {
      "version": "8.0.0",
      "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-8.0.0.tgz",
      "integrity": "sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==",
      "license": "MIT"
    },
    "node_modules/string-width-cjs/node_modules/strip-ansi": {
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
      "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
      "license": "MIT",
      "dependencies": {
        "ansi-regex": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/strip-ansi": {
      "version": "7.1.2",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-7.1.2.tgz",
      "integrity": "sha512-gmBGslpoQJtgnMAvOVqGZpEz9dyoKTCzy2nfz/n8aIFhN/jCE/rCmcxabB6jOOHV+0WNnylOxaxBQPSvcWklhA==",
      "license": "MIT",
      "dependencies": {
        "ansi-regex": "^6.0.1"
      },
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/chalk/strip-ansi?sponsor=1"
      }
    },
    "node_modules/strip-ansi-cjs": {
      "name": "strip-ansi",
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
      "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
      "license": "MIT",
      "dependencies": {
        "ansi-regex": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/strip-ansi-cjs/node_modules/ansi-regex": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
      "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/styled-jsx": {
      "version": "5.1.1",
      "resolved": "https://registry.npmjs.org/styled-jsx/-/styled-jsx-5.1.1.tgz",
      "integrity": "sha512-pW7uC1l4mBZ8ugbiZrcIsiIvVx1UmTfw7UkC3Um2tmfUq9Bhk8IiyEIPl6F8agHgjzku6j0xQEZbfA5uSgSaCw==",
      "license": "MIT",
      "dependencies": {
        "client-only": "0.0.1"
      },
      "engines": {
        "node": ">= 12.0.0"
      },
      "peerDependencies": {
        "react": ">= 16.8.0 || 17.x.x || ^18.0.0-0"
      },
      "peerDependenciesMeta": {
        "@babel/core": {
          "optional": true
        },
        "babel-plugin-macros": {
          "optional": true
        }
      }
    },
    "node_modules/sucrase": {
      "version": "3.35.1",
      "resolved": "https://registry.npmjs.org/sucrase/-/sucrase-3.35.1.tgz",
      "integrity": "sha512-DhuTmvZWux4H1UOnWMB3sk0sbaCVOoQZjv8u1rDoTV0HTdGem9hkAZtl4JZy8P2z4Bg0nT+YMeOFyVr4zcG5Tw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jridgewell/gen-mapping": "^0.3.2",
        "commander": "^4.0.0",
        "lines-and-columns": "^1.1.6",
        "mz": "^2.7.0",
        "pirates": "^4.0.1",
        "tinyglobby": "^0.2.11",
        "ts-interface-checker": "^0.1.9"
      },
      "bin": {
        "sucrase": "bin/sucrase",
        "sucrase-node": "bin/sucrase-node"
      },
      "engines": {
        "node": ">=16 || 14 >=14.17"
      }
    },
    "node_modules/supports-preserve-symlinks-flag": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/supports-preserve-symlinks-flag/-/supports-preserve-symlinks-flag-1.0.0.tgz",
      "integrity": "sha512-ot0WnXS9fgdkgIcePe6RHNk1WA8+muPa6cSjeR3V8K27q9BB1rTE3R1p7Hv0z1ZyAc8s6Vvv8DIyWf681MAt0w==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/tailwindcss": {
      "version": "3.4.19",
      "resolved": "https://registry.npmjs.org/tailwindcss/-/tailwindcss-3.4.19.tgz",
      "integrity": "sha512-3ofp+LL8E+pK/JuPLPggVAIaEuhvIz4qNcf3nA1Xn2o/7fb7s/TYpHhwGDv1ZU3PkBluUVaF8PyCHcm48cKLWQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@alloc/quick-lru": "^5.2.0",
        "arg": "^5.0.2",
        "chokidar": "^3.6.0",
        "didyoumean": "^1.2.2",
        "dlv": "^1.1.3",
        "fast-glob": "^3.3.2",
        "glob-parent": "^6.0.2",
        "is-glob": "^4.0.3",
        "jiti": "^1.21.7",
        "lilconfig": "^3.1.3",
        "micromatch": "^4.0.8",
        "normalize-path": "^3.0.0",
        "object-hash": "^3.0.0",
        "picocolors": "^1.1.1",
        "postcss": "^8.4.47",
        "postcss-import": "^15.1.0",
        "postcss-js": "^4.0.1",
        "postcss-load-config": "^4.0.2 || ^5.0 || ^6.0",
        "postcss-nested": "^6.2.0",
        "postcss-selector-parser": "^6.1.2",
        "resolve": "^1.22.8",
        "sucrase": "^3.35.0"
      },
      "bin": {
        "tailwind": "lib/cli.js",
        "tailwindcss": "lib/cli.js"
      },
      "engines": {
        "node": ">=14.0.0"
      }
    },
    "node_modules/tailwindcss/node_modules/fast-glob": {
      "version": "3.3.3",
      "resolved": "https://registry.npmjs.org/fast-glob/-/fast-glob-3.3.3.tgz",
      "integrity": "sha512-7MptL8U0cqcFdzIzwOTHoilX9x5BrNqye7Z/LuC7kCMRio1EMSyqRK3BEAUD7sXRq4iT4AzTVuZdhgQ2TCvYLg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@nodelib/fs.stat": "^2.0.2",
        "@nodelib/fs.walk": "^1.2.3",
        "glob-parent": "^5.1.2",
        "merge2": "^1.3.0",
        "micromatch": "^4.0.8"
      },
      "engines": {
        "node": ">=8.6.0"
      }
    },
    "node_modules/tailwindcss/node_modules/fast-glob/node_modules/glob-parent": {
      "version": "5.1.2",
      "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-5.1.2.tgz",
      "integrity": "sha512-AOIgSQCepiJYwP3ARnGx+5VnTu2HBYdzbGP45eLw1vr3zB3vZLeyed1sC9hnbcOc9/SrMyM5RPQrkGz4aS9Zow==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "is-glob": "^4.0.1"
      },
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/tailwindcss/node_modules/jiti": {
      "version": "1.21.7",
      "resolved": "https://registry.npmjs.org/jiti/-/jiti-1.21.7.tgz",
      "integrity": "sha512-/imKNG4EbWNrVjoNC/1H5/9GFy+tqjGBHCaSsN+P2RnPqjsLmv6UD3Ej+Kj8nBWaRAwyk7kK5ZUc+OEatnTR3A==",
      "dev": true,
      "license": "MIT",
      "bin": {
        "jiti": "bin/jiti.js"
      }
    },
    "node_modules/thenify": {
      "version": "3.3.1",
      "resolved": "https://registry.npmjs.org/thenify/-/thenify-3.3.1.tgz",
      "integrity": "sha512-RVZSIV5IG10Hk3enotrhvz0T9em6cyHBLkH/YAZuKqd8hRkKhSfCGIcP2KUY0EPxndzANBmNllzWPwak+bheSw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "any-promise": "^1.0.0"
      }
    },
    "node_modules/thenify-all": {
      "version": "1.6.0",
      "resolved": "https://registry.npmjs.org/thenify-all/-/thenify-all-1.6.0.tgz",
      "integrity": "sha512-RNxQH/qI8/t3thXJDwcstUO4zeqo64+Uy/+sNVRBx4Xn2OX+OZ9oP+iJnNFqplFra2ZUVeKCSa2oVWi3T4uVmA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "thenify": ">= 3.1.0 < 4"
      },
      "engines": {
        "node": ">=0.8"
      }
    },
    "node_modules/tinyglobby": {
      "version": "0.2.15",
      "resolved": "https://registry.npmjs.org/tinyglobby/-/tinyglobby-0.2.15.tgz",
      "integrity": "sha512-j2Zq4NyQYG5XMST4cbs02Ak8iJUdxRM0XI5QyxXuZOzKOINmWurp3smXu3y5wDcJrptwpSjgXHzIQxR0omXljQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "fdir": "^6.5.0",
        "picomatch": "^4.0.3"
      },
      "engines": {
        "node": ">=12.0.0"
      },
      "funding": {
        "url": "https://github.com/sponsors/SuperchupuDev"
      }
    },
    "node_modules/tinyglobby/node_modules/fdir": {
      "version": "6.5.0",
      "resolved": "https://registry.npmjs.org/fdir/-/fdir-6.5.0.tgz",
      "integrity": "sha512-tIbYtZbucOs0BRGqPJkshJUYdL+SDH7dVM8gjy+ERp3WAUjLEFJE+02kanyHtwjWOnwrKYBiwAmM0p4kLJAnXg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=12.0.0"
      },
      "peerDependencies": {
        "picomatch": "^3 || ^4"
      },
      "peerDependenciesMeta": {
        "picomatch": {
          "optional": true
        }
      }
    },
    "node_modules/tinyglobby/node_modules/picomatch": {
      "version": "4.0.3",
      "resolved": "https://registry.npmjs.org/picomatch/-/picomatch-4.0.3.tgz",
      "integrity": "sha512-5gTmgEY/sqK6gFXLIsQNH19lWb4ebPDLA4SdLP7dsWkIXHWlG66oPuVvXSGFPppYZz8ZDZq0dYYrbHfBCVUb1Q==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/sponsors/jonschlinkert"
      }
    },
    "node_modules/to-regex-range": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/to-regex-range/-/to-regex-range-5.0.1.tgz",
      "integrity": "sha512-65P7iz6X5yEr1cwcgvQxbbIw7Uk3gOy5dIdtZ4rDveLqhrdJP+Li/Hx6tyK0NEb+2GCyneCMJiGqrADCSNk8sQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "is-number": "^7.0.0"
      },
      "engines": {
        "node": ">=8.0"
      }
    },
    "node_modules/ts-interface-checker": {
      "version": "0.1.13",
      "resolved": "https://registry.npmjs.org/ts-interface-checker/-/ts-interface-checker-0.1.13.tgz",
      "integrity": "sha512-Y/arvbn+rrz3JCKl9C4kVNfTfSm2/mEp5FSz5EsZSANGPSlQrpRI5M4PKF+mJnE52jOO90PnPSc3Ur3bTQw0gA==",
      "dev": true,
      "license": "Apache-2.0"
    },
    "node_modules/tslib": {
      "version": "2.8.1",
      "resolved": "https://registry.npmjs.org/tslib/-/tslib-2.8.1.tgz",
      "integrity": "sha512-oJFu94HQb+KVduSUQL7wnpmqnfmLsOA/nAh6b6EH0wCEoK0/mPeXU6c3wKDV83MkOuHPRHtSXKKU99IBazS/2w==",
      "license": "0BSD"
    },
    "node_modules/typescript": {
      "version": "5.9.3",
      "resolved": "https://registry.npmjs.org/typescript/-/typescript-5.9.3.tgz",
      "integrity": "sha512-jl1vZzPDinLr9eUt3J/t7V6FgNEw9QjvBPdysz9KfQDD41fQrC2Y4vKQdiaUpFT4bXlb1RHhLpp8wtm6M5TgSw==",
      "dev": true,
      "license": "Apache-2.0",
      "bin": {
        "tsc": "bin/tsc",
        "tsserver": "bin/tsserver"
      },
      "engines": {
        "node": ">=14.17"
      }
    },
    "node_modules/undici-types": {
      "version": "6.21.0",
      "resolved": "https://registry.npmjs.org/undici-types/-/undici-types-6.21.0.tgz",
      "integrity": "sha512-iwDZqg0QAGrg9Rav5H4n0M64c3mkR59cJ6wQp+7C4nI0gsmExaedaYLNO44eT4AtBBwjbTiGPMlt2Md0T9H9JQ==",
      "license": "MIT"
    },
    "node_modules/update-browserslist-db": {
      "version": "1.2.3",
      "resolved": "https://registry.npmjs.org/update-browserslist-db/-/update-browserslist-db-1.2.3.tgz",
      "integrity": "sha512-Js0m9cx+qOgDxo0eMiFGEueWztz+d4+M3rGlmKPT+T4IS/jP4ylw3Nwpu6cpTTP8R1MAC1kF4VbdLt3ARf209w==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/browserslist"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/browserslist"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "escalade": "^3.2.0",
        "picocolors": "^1.1.1"
      },
      "bin": {
        "update-browserslist-db": "cli.js"
      },
      "peerDependencies": {
        "browserslist": ">= 4.21.0"
      }
    },
    "node_modules/util-deprecate": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/util-deprecate/-/util-deprecate-1.0.2.tgz",
      "integrity": "sha512-EPD5q1uXyFxJpCrLnCc1nHnq3gOa6DZBocAIiI2TaSCA7VCJ1UJDMagCzIkXNsUYfD1daK//LTEQ8xiIbrHtcw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/web-streams-polyfill": {
      "version": "3.3.3",
      "resolved": "https://registry.npmjs.org/web-streams-polyfill/-/web-streams-polyfill-3.3.3.tgz",
      "integrity": "sha512-d2JWLCivmZYTSIoge9MsgFCZrt571BikcWGYkjC1khllbTeDlGqZ2D8vD8E/lJa8WGWbb7Plm8/XJYV7IJHZZw==",
      "license": "MIT",
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/which": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/which/-/which-2.0.2.tgz",
      "integrity": "sha512-BLI3Tl1TW3Pvl70l3yq3Y64i+awpwXqsGBYWkkqMtnbXgrMD+yj7rhW0kuEDxzJaYXGjEW5ogapKNMEKNMjibA==",
      "license": "ISC",
      "dependencies": {
        "isexe": "^2.0.0"
      },
      "bin": {
        "node-which": "bin/node-which"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/wrap-ansi": {
      "version": "8.1.0",
      "resolved": "https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-8.1.0.tgz",
      "integrity": "sha512-si7QWI6zUMq56bESFvagtmzMdGOtoxfR+Sez11Mobfc7tm+VkUckk9bW2UeffTGVUbOksxmSw0AA2gs8g71NCQ==",
      "license": "MIT",
      "dependencies": {
        "ansi-styles": "^6.1.0",
        "string-width": "^5.0.1",
        "strip-ansi": "^7.0.1"
      },
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/chalk/wrap-ansi?sponsor=1"
      }
    },
    "node_modules/wrap-ansi-cjs": {
      "name": "wrap-ansi",
      "version": "7.0.0",
      "resolved": "https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-7.0.0.tgz",
      "integrity": "sha512-YVGIj2kamLSTxw6NsZjoBxfSwsn0ycdesmc4p+Q21c5zPuZ1pl+NfxVdxPtdHvmNVOQ6XSYG4AUtyt/Fi7D16Q==",
      "license": "MIT",
      "dependencies": {
        "ansi-styles": "^4.0.0",
        "string-width": "^4.1.0",
        "strip-ansi": "^6.0.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/chalk/wrap-ansi?sponsor=1"
      }
    },
    "node_modules/wrap-ansi-cjs/node_modules/ansi-regex": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
      "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/wrap-ansi-cjs/node_modules/ansi-styles": {
      "version": "4.3.0",
      "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-4.3.0.tgz",
      "integrity": "sha512-zbB9rCJAT1rbjiVDb2hqKFHNYLxgtk8NURxZ3IZwD3F6NtxbXZQCnnSi1Lkx+IDohdPlFp222wVALIheZJQSEg==",
      "license": "MIT",
      "dependencies": {
        "color-convert": "^2.0.1"
      },
      "engines": {
        "node": ">=8"
      },
      "funding": {
        "url": "https://github.com/chalk/ansi-styles?sponsor=1"
      }
    },
    "node_modules/wrap-ansi-cjs/node_modules/emoji-regex": {
      "version": "8.0.0",
      "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-8.0.0.tgz",
      "integrity": "sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==",
      "license": "MIT"
    },
    "node_modules/wrap-ansi-cjs/node_modules/string-width": {
      "version": "4.2.3",
      "resolved": "https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz",
      "integrity": "sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==",
      "license": "MIT",
      "dependencies": {
        "emoji-regex": "^8.0.0",
        "is-fullwidth-code-point": "^3.0.0",
        "strip-ansi": "^6.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/wrap-ansi-cjs/node_modules/strip-ansi": {
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
      "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
      "license": "MIT",
      "dependencies": {
        "ansi-regex": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/ws": {
      "version": "8.18.3",
      "resolved": "https://registry.npmjs.org/ws/-/ws-8.18.3.tgz",
      "integrity": "sha512-PEIGCY5tSlUt50cqyMXfCzX+oOPqN0vuGqWzbcJ2xvnkzkq46oOpz7dQaTDBdfICb4N14+GARUDw2XV2N4tvzg==",
      "license": "MIT",
      "engines": {
        "node": ">=10.0.0"
      },
      "peerDependencies": {
        "bufferutil": "^4.0.1",
        "utf-8-validate": ">=5.0.2"
      },
      "peerDependenciesMeta": {
        "bufferutil": {
          "optional": true
        },
        "utf-8-validate": {
          "optional": true
        }
      }
    }
  }
}


--- START OF FILE package.json ---

{
  "name": "card-manager-pro",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint",
    "cleanup": "rm -rf app components context lib services views index.html index.tsx App.tsx types.ts constants.ts metadata.json",
    "cleanup:win": "rmdir /s /q app components context lib services views && del index.html index.tsx App.tsx types.ts constants.ts metadata.json"
  },
  "dependencies": {
    "@google/genai": "*",
    "@supabase/supabase-js": "^2.39.0",
    "lucide-react": "^0.300.0",
    "next": "14.1.0",
    "react": "^18",
    "react-dom": "^18"
  },
  "devDependencies": {
    "@types/node": "^20",
    "@types/react": "^18",
    "@types/react-dom": "^18",
    "autoprefixer": "^10.0.1",
    "postcss": "^8",
    "tailwindcss": "^3.3.0",
    "typescript": "^5"
  }
}

--- START OF FILE postcss.config.js ---

module.exports = {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
};

--- START OF FILE src\app\api\scrape\route.ts ---

import { NextRequest, NextResponse } from 'next/server';
import { GoogleGenAI, Type } from "@google/genai";

export async function POST(req: NextRequest) {
  try {
    const { url } = await req.json();

    if (!url) {
      return NextResponse.json({ error: 'URL is required' }, { status: 400 });
    }

    // 1. URLHTML
    const fetchResponse = await fetch(url, {
      headers: {
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'
      }
    });

    if (!fetchResponse.ok) {
      return NextResponse.json({ error: `Failed to fetch URL: ${fetchResponse.statusText}` }, { status: 500 });
    }

    const html = await fetchResponse.text();

    // HTML (GeminiFlash)
    const truncatedHtml = html.substring(0, 500000); 

    // 2. Gemini API
    const ai = new GoogleGenAI({ apiKey: process.env.API_KEY });

    // 3. GeminiHTML
    const response = await ai.models.generateContent({
      model: 'gemini-3-flash-preview',
      contents: `
        HTMLOCG
        
        :
        1.  (name): "..."
        2.  (cardId): "ABC-123"
        3.  (rarity): "Ultra", "Super", "Normal""UR", "SR", "N", "SE"
           - Ultra Rare -> UR
           - Super Rare -> SR
           - Rare -> R
           - Normal -> N
           - Secret -> SE
           - Ultimate -> UL
           - Prismatic -> PS
        4. stock0
        5. category: ""
        
        HTML:
        ${truncatedHtml}
      `,
      config: {
        responseMimeType: "application/json",
        responseSchema: {
          type: Type.ARRAY,
          items: {
            type: Type.OBJECT,
            properties: {
              name: { type: Type.STRING },
              cardId: { type: Type.STRING },
              rarity: { type: Type.STRING },
              stock: { type: Type.INTEGER },
              category: { type: Type.STRING }
            }
          }
        }
      }
    });

    const items = JSON.parse(response.text || "[]");

    return NextResponse.json({ items });

  } catch (error: any) {
    console.error('Scrape API Error:', error);
    return NextResponse.json({ 
      error: 'Failed to process request', 
      details: error.message 
    }, { status: 500 });
  }
}

--- START OF FILE src\app\dashboard\page.tsx ---


'use client';

import React, { useEffect, useState } from 'react';
import { DashboardView } from '@/views/DashboardView';
import { Loader2 } from 'lucide-react';
import { api } from '@/services/api';

export default function DashboardPage() {
  const [stats, setStats] = useState({
    totalCards: 0,
    totalStock: 0,
    lowStock: 0
  });
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);

  useEffect(() => {
    const fetchStats = async () => {
      try {
        const data = await api.fetchDashboardStats();
        setStats(data);
      } catch (e: any) {
        console.error("Failed to fetch stats", e);
        setError("");
      } finally {
        setLoading(false);
      }
    };
    fetchStats();
  }, []);

  if (loading) {
    return (
      <div className="flex items-center justify-center min-h-[50vh]">
        <Loader2 className="animate-spin text-cyan-600" size={32} />
      </div>
    );
  }

  if (error) {
    return (
      <div className="p-8 text-center text-red-600 bg-red-50 m-4 rounded-lg border border-red-200">
        <p className="font-bold">{error}</p>
        <p className="text-sm mt-2"></p>
      </div>
    );
  }

  return <DashboardView stats={stats} />;
}


--- START OF FILE src\app\globals.css ---

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --foreground-rgb: 0, 0, 0;
  --background-start-rgb: 243, 244, 246; /* bg-slate-100 */
  --background-end-rgb: 243, 244, 246;
}

body {
  color: rgb(var(--foreground-rgb));
  background: rgb(var(--background-start-rgb));
}

/*  */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
::-webkit-scrollbar-track {
  background: #f1f1f1; 
}
::-webkit-scrollbar-thumb {
  background: #c1c1c1; 
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
  background: #a8a8a8; 
}


--- START OF FILE src\app\inventory\page.tsx ---


'use client';

import React, { useState, useEffect, Suspense } from 'react';
import { useSearchParams } from 'next/navigation';
import { InventoryList } from '@/views/InventoryList';
import { useAppContext } from '@/context/AppContext';
import { api } from '@/services/api';
import { Item, SortConfig } from '@/types';
import { Loader2 } from 'lucide-react';

function InventoryPageContent() {
  const { isAdmin, handleLoginToggle, news, isLoading, addToast, setIsLoading, products } = useAppContext();
  const searchParams = useSearchParams();
  
  // 
  const [items, setItems] = useState<Item[]>([]);
  const [totalCount, setTotalCount] = useState(0);
  const [searchKeyword, setSearchKeyword] = useState("");
  const [currentPage, setCurrentPage] = useState(1);
  const pageSize = 50;
  
  // : ID ()   (api.ts2)
  const [sortConfig, setSortConfig] = useState<SortConfig>({ key: 'id', direction: 'desc' });
  const [showZeroStock, setShowZeroStock] = useState(true);
  
  const categoryParam = searchParams.get('category');
  const selectedCategory = categoryParam ? decodeURIComponent(categoryParam) : null;

  //  (Server-Side Pagination)
  useEffect(() => {
    if (selectedCategory) {
       setCurrentPage(1);
    }
  }, [selectedCategory]);

  useEffect(() => {
    const loadData = async () => {
      setIsLoading(true);
      try {
        const result = await api.fetchItems(
          currentPage,
          pageSize,
          { 
            category: selectedCategory, 
            search: searchKeyword,
            showZeroStock 
          },
          sortConfig
        );
        setItems(result.data);
        setTotalCount(result.count);
      } catch (e: any) {
        addToast('error', '', '', {
          code: e.code || 'FETCH_ERROR',
          message: e.message,
          timestamp: new Date().toLocaleString()
        });
      } finally {
        setIsLoading(false);
      }
    };

    const timer = setTimeout(() => {
      loadData();
    }, 300);

    return () => clearTimeout(timer);
  }, [addToast, setIsLoading, currentPage, pageSize, selectedCategory, searchKeyword, sortConfig, showZeroStock]);

  const handleSort = (key: keyof Item) => {
    setSortConfig(current => ({
      key,
      direction: current.key === key && current.direction === 'asc' ? 'desc' : 'asc'
    }));
    setCurrentPage(1);
  };

  // 
  const setSortDirectly = (key: keyof Item, direction: 'asc' | 'desc') => {
    setSortConfig({ key, direction });
    setCurrentPage(1);
  };

  const updateStock = async (id: number, delta: number) => {
    const oldItems = [...items];
    setItems(prev => prev.map(item => {
      if (item.id === id) {
        return { ...item, stock: Math.max(0, item.stock + delta) };
      }
      return item;
    }));

    try {
      const updatedItem = await api.updateStock(id, delta);
      setItems(prev => prev.map(item => item.id === id ? updatedItem : item));
    } catch (e: any) {
      setItems(oldItems);
      addToast('error', '', e.message);
    }
  };

  const handleAddItem = async (newItem: Omit<Item, 'id' | 'updatedAt'>) => {
    setIsLoading(true);
    try {
      const addedItem = await api.addItem(newItem);
      // 
      if ((sortConfig.key === 'updatedAt' || sortConfig.key === 'id') && sortConfig.direction === 'desc') {
        setItems(prev => [addedItem, ...prev].slice(0, pageSize));
      } else {
        // UX
        setItems(prev => [addedItem, ...prev].slice(0, pageSize));
      }
      setTotalCount(prev => prev + 1);
      addToast('success', '', `${addedItem.name}`);
    } catch (e: any) {
      addToast('error', '', e.message);
    } finally {
      setIsLoading(false);
    }
  };

  const handleUpdateItem = async (id: number, updates: Partial<Item>) => {
    setIsLoading(true);
    try {
      const updatedItem = await api.updateItem(id, updates);
      setItems(prev => prev.map(item => item.id === id ? updatedItem : item));
      addToast('success', '', `${updatedItem.name}`);
      
      // 
      if (sortConfig.key === 'updatedAt' && sortConfig.direction === 'desc') {
         setItems(prev => {
           const others = prev.filter(i => i.id !== id);
           return [updatedItem, ...others];
         });
      }
    } catch (e: any) {
      addToast('error', '', e.message);
    } finally {
      setIsLoading(false);
    }
  };

  const handleDeleteItem = async (id: number) => {
    setIsLoading(true);
    try {
      await api.deleteItem(id);
      setItems(prev => prev.filter(item => item.id !== id));
      setTotalCount(prev => prev - 1);
      addToast('info', '', '');
    } catch (e: any) {
      addToast('error', '', e.message);
    } finally {
      setIsLoading(false);
    }
  };

  return (
    <InventoryList
      isAdmin={isAdmin}
      handleLoginToggle={handleLoginToggle}
      news={news}
      searchKeyword={searchKeyword}
      setSearchKeyword={(val) => { setSearchKeyword(val); setCurrentPage(1); }}
      isLoading={isLoading}
      addToast={addToast}
      items={items}
      totalCount={totalCount}
      currentPage={currentPage}
      setCurrentPage={setCurrentPage}
      pageSize={pageSize}
      selectedCategory={selectedCategory}
      products={products}
      sortConfig={sortConfig}
      handleSort={handleSort}
      setSortDirectly={setSortDirectly}
      updateStock={updateStock}
      onAddItem={handleAddItem}
      onUpdateItem={handleUpdateItem}
      onDeleteItem={handleDeleteItem}
      showZeroStock={showZeroStock}
      setShowZeroStock={(val) => { setShowZeroStock(val); setCurrentPage(1); }}
    />
  );
}

export default function InventoryPage() {
  return (
    <Suspense fallback={
      <div className="flex items-center justify-center min-h-screen">
        <Loader2 className="animate-spin text-cyan-600" size={32} />
      </div>
    }>
      <InventoryPageContent />
    </Suspense>
  );
}


--- START OF FILE src\app\layout.tsx ---

import React from "react";
import type { Metadata } from "next";
import { Noto_Sans_JP } from "next/font/google";
import "./globals.css";
import { AppShell } from "@/components/layout/AppShell";
import { AppProvider } from "@/context/AppContext";

const notoSansJP = Noto_Sans_JP({ 
  subsets: ["latin"],
  weight: ["400", "500", "700"],
  preload: true,
});

export const metadata: Metadata = {
  title: "Card Manager Pro",
  description: "Trading card inventory management system",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="ja">
      <body className={notoSansJP.className}>
        <AppProvider>
          <AppShell>
            {children}
          </AppShell>
        </AppProvider>
      </body>
    </html>
  );
}

--- START OF FILE src\app\login\page.tsx ---

'use client';

import React, { useState } from 'react';
import { useRouter } from 'next/navigation';
import { LogIn, Database, Loader2, AlertCircle } from 'lucide-react';
import { api } from '../../services/api';

export default function LoginPage() {
  const router = useRouter();
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [isLoading, setIsLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);

  const handleLogin = async (e: React.FormEvent) => {
    e.preventDefault();
    setIsLoading(true);
    setError(null);

    try {
      await api.signInWithEmail(email, password);
      // 
      router.push('/');
    } catch (err: any) {
      setError(err.message || '');
    } finally {
      setIsLoading(false);
    }
  };

  return (
    <div className="min-h-screen bg-slate-100 flex items-center justify-center p-4">
      <div className="bg-white p-8 rounded-xl shadow-lg max-w-md w-full border border-slate-200">
        <div className="text-center mb-8">
          <div className="inline-flex items-center justify-center w-16 h-16 bg-cyan-100 rounded-full text-cyan-600 mb-4">
            <Database size={32} />
          </div>
          <h1 className="text-2xl font-bold text-slate-800">Card Manager Pro</h1>
          <p className="text-slate-500 mt-2"></p>
        </div>

        {error && (
          <div className="bg-red-50 text-red-600 p-3 rounded-lg text-sm mb-6 flex items-start gap-2">
            <AlertCircle size={18} className="shrink-0 mt-0.5" />
            <span>{error}</span>
          </div>
        )}

        <form onSubmit={handleLogin} className="space-y-4">
          <div>
            <label className="block text-sm font-bold text-slate-700 mb-1"></label>
            <input
              type="email"
              required
              value={email}
              onChange={(e) => setEmail(e.target.value)}
              className="w-full border border-slate-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-cyan-500 transition-all"
              placeholder="admin@example.com"
            />
          </div>
          <div>
            <label className="block text-sm font-bold text-slate-700 mb-1"></label>
            <input
              type="password"
              required
              value={password}
              onChange={(e) => setPassword(e.target.value)}
              className="w-full border border-slate-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-cyan-500 transition-all"
              placeholder=""
            />
          </div>

          <button
            type="submit"
            disabled={isLoading}
            className="w-full bg-cyan-600 text-white font-bold py-3 rounded-lg hover:bg-cyan-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2"
          >
            {isLoading ? <Loader2 className="animate-spin" /> : <LogIn size={20} />}
            
          </button>
        </form>

        <div className="mt-6 text-center text-xs text-slate-400">
          <p></p>
        </div>
      </div>
    </div>
  );
}

--- START OF FILE src\app\page.tsx ---


'use client';

import { useEffect } from 'react';
import { useRouter } from 'next/navigation';
import { Loader2 } from 'lucide-react';

export default function RootPage() {
  const router = useRouter();

  useEffect(() => {
    // 
    router.replace('/inventory');
  }, [router]);

  return (
    <div className="flex items-center justify-center min-h-screen bg-slate-100">
      <div className="flex flex-col items-center gap-3 text-slate-500">
        <Loader2 className="animate-spin text-cyan-600" size={32} />
        <p className="text-sm font-bold">Loading...</p>
      </div>
    </div>
  );
}


--- START OF FILE src\app\products\page.tsx ---

'use client';

import React from 'react';
import { ProductsView } from '@/views/ProductsView';
import { useAppContext } from '@/context/AppContext';

export default function ProductsPage() {
  const { products } = useAppContext();
  return <ProductsView products={products} />;
}

--- START OF FILE src\app\scraper\page.tsx ---

'use client';

import React from 'react';
import { ScraperView } from '@/views/ScraperView';
import { useAppContext } from '@/context/AppContext';

export default function ScraperPage() {
  const { isLoading, addToast } = useAppContext();

  return (
    <ScraperView
      isLoading={isLoading}
      addToast={addToast}
    />
  );
}


--- START OF FILE src\app\settings\page.tsx ---


'use client';

import React from 'react';
import { SettingsView } from '@/views/SettingsView';
import { useAppContext } from '@/context/AppContext';

export default function SettingsPage() {
  const { isAdmin, isLoading, addToast } = useAppContext();
  
  // rarities  SettingsView  AppContext 

  return (
    <SettingsView
      isAdmin={isAdmin}
      isLoading={isLoading}
      addToast={addToast}
    />
  );
}


--- START OF FILE src\components\layout\AppShell.tsx ---

'use client';

import React, { useState } from 'react';
import { Database, Menu } from 'lucide-react';
import { Sidebar } from './Sidebar';
import { ToastContainer } from '../ui/Toast';
import { useAppContext } from '@/context/AppContext';

export const AppShell = ({ children }: { children: React.ReactNode }) => {
  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);
  const { isAdmin, handleLoginToggle, isLoading, toasts, removeToast, products } = useAppContext();

  return (
    <div className="flex min-h-screen bg-slate-100 text-slate-800 font-sans">
      <ToastContainer toasts={toasts} removeToast={removeToast} />

      <div className="md:hidden fixed top-0 left-0 right-0 h-16 bg-slate-900 z-20 flex items-center justify-between px-4 shadow-md">
         <div className="flex items-center gap-2 text-cyan-400 font-bold">
           <Database size={20} />
           <span>Card Manager</span>
         </div>
         <button onClick={() => setIsMobileMenuOpen(true)} className="text-white p-2">
           <Menu size={24} />
         </button>
      </div>

      <Sidebar 
        isMobileMenuOpen={isMobileMenuOpen}
        setIsMobileMenuOpen={setIsMobileMenuOpen}
        products={products}
        isAdmin={isAdmin}
        handleLoginToggle={handleLoginToggle}
        isLoading={isLoading}
      />

      <div className="md:ml-64 flex-1 relative pt-16 md:pt-0">
        {children}
      </div>
    </div>
  );
};

--- START OF FILE src\components\layout\Sidebar.tsx ---


'use client';

import React, { useMemo, useState, useEffect } from 'react';
import Link from 'next/link';
import { usePathname } from 'next/navigation';
import { Database, X, LayoutDashboard, Layers, Menu, Download, Settings, LogOut, LogIn, Calendar, ChevronDown, ChevronRight, Folder } from 'lucide-react';
import { Product, TabType, Season } from '@/types';
import { useAppContext } from '@/context/AppContext';

interface SidebarProps {
  isMobileMenuOpen: boolean;
  setIsMobileMenuOpen: (open: boolean) => void;
  products: Product[];
  isAdmin: boolean;
  handleLoginToggle: () => void;
  isLoading: boolean;
  selectedCategory?: string | null;
}

export const Sidebar: React.FC<SidebarProps> = ({
  isMobileMenuOpen,
  setIsMobileMenuOpen,
  products,
  isAdmin,
  handleLoginToggle,
  isLoading,
  selectedCategory,
}) => {
  const pathname = usePathname();
  const { seasons } = useAppContext();
  const [expandedSeasons, setExpandedSeasons] = useState<Record<string, boolean>>({});

  const menuItems: { id: TabType; path: string; icon: any; label: string; adminOnly: boolean }[] = [
    { id: 'inventory', path: '/inventory', icon: Layers, label: '', adminOnly: false },
    { id: 'dashboard', path: '/dashboard', icon: LayoutDashboard, label: '', adminOnly: false }, // 
    { id: 'products', path: '/products', icon: Menu, label: '', adminOnly: true }, // 
    { id: 'scraper', path: '/scraper', icon: Download, label: 'Wiki', adminOnly: true },
    { id: 'settings', path: '/settings', icon: Settings, label: '', adminOnly: true },
  ];

  const isActive = (path: string) => {
    // Inventory is now default, so careful with root matching
    if (path === '/inventory' && (pathname === '/inventory' || pathname === '/')) return true;
    if (path !== '/' && pathname.startsWith(path)) return true;
    return false;
  };

  const handleItemClick = () => {
    if (window.innerWidth < 768) setIsMobileMenuOpen(false);
  };

  // 
  const groupedProducts = useMemo(() => {
    // 
    const sortedProducts = [...products]
      .filter(p => p.isSidebarVisible)
      .sort((a, b) => new Date(b.releaseDate).getTime() - new Date(a.releaseDate).getTime());
    
    // seasons  ContextstartDate
    // 
    const sortedSeasons = [...seasons].sort((a, b) => new Date(b.startDate).getTime() - new Date(a.startDate).getTime());
    
    // 
    const groups: Record<string, Product[]> = {};
    sortedSeasons.forEach(s => { groups[s.name] = []; });
    groups[''] = [];

    sortedProducts.forEach(p => {
      const pDate = new Date(p.releaseDate);
      let matched = false;

      // 
      for (const season of sortedSeasons) {
        if (pDate >= new Date(season.startDate)) {
          groups[season.name].push(p);
          matched = true;
          break;
        }
      }
      
      if (!matched) {
        groups[''].push(p);
      }
    });
    
    return groups;
  }, [products, seasons]);

  // 
  useEffect(() => {
    if (selectedCategory) {
      for (const [seasonName, prods] of Object.entries(groupedProducts)) {
        if (prods.some(p => p.name === selectedCategory)) {
          setExpandedSeasons(prev => ({ ...prev, [seasonName]: true }));
          break;
        }
      }
    } else {
      // 
      const firstAvailableSeason = seasons.find(s => groupedProducts[s.name]?.length > 0);
      if (firstAvailableSeason && Object.keys(expandedSeasons).length === 0) {
         setExpandedSeasons({ [firstAvailableSeason.name]: true });
      }
    }
  // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [selectedCategory, groupedProducts]); 

  const toggleSeason = (seasonName: string) => {
    setExpandedSeasons(prev => ({
      ...prev,
      [seasonName]: !prev[seasonName]
    }));
  };

  return (
    <>
      {isMobileMenuOpen && (
        <div 
          className="fixed inset-0 bg-black/50 z-20 md:hidden"
          onClick={() => setIsMobileMenuOpen(false)}
        />
      )}
      
      <div className={`
        fixed top-0 left-0 h-screen w-64 bg-slate-900 text-white flex flex-col shadow-xl z-30 transition-transform duration-300 ease-in-out
        ${isMobileMenuOpen ? 'translate-x-0' : '-translate-x-full'} md:translate-x-0
      `}>
        <div className="p-6 border-b border-slate-700 flex justify-between items-center bg-slate-950">
          <Link 
            href="/inventory" 
            onClick={handleItemClick}
            className="group block"
          >
            <h1 className="text-xl font-bold flex items-center gap-2 text-cyan-400 group-hover:text-cyan-300 transition-colors">
              <Database size={24} />
              <span>Card Manager</span>
            </h1>
            <p className="text-xs text-slate-400 mt-1 group-hover:text-slate-300 transition-colors">Ver 4.4 (Nav Update)</p>
          </Link>
          <button 
            onClick={() => setIsMobileMenuOpen(false)} 
            className="md:hidden text-slate-400 hover:text-white"
          >
            <X size={24} />
          </button>
        </div>

        <div className="flex-1 overflow-y-auto custom-scrollbar">
          <div className="px-3 py-4">
            <p className="text-xs font-bold text-slate-500 uppercase mb-2 px-3 tracking-wider">Menu</p>
            <div className="space-y-1">
              {menuItems
                .filter(item => !item.adminOnly || isAdmin)
                .map((item) => (
                  <Link
                    key={item.id}
                    href={item.path}
                    onClick={handleItemClick}
                    className={`w-full text-left px-3 py-2 rounded-lg flex items-center gap-3 transition-all ${
                      isActive(item.path) 
                        ? 'bg-cyan-600/20 text-cyan-300 border border-cyan-700/50' 
                        : 'text-slate-300 hover:bg-slate-800 hover:text-white border border-transparent'
                    }`}
                  >
                    <item.icon size={18} />
                    {item.label}
                  </Link>
              ))}
            </div>
          </div>

          <div className="px-3 pb-8">
            <div className="flex justify-between items-center mb-2 px-3 pt-4 border-t border-slate-800">
              <p className="text-xs font-bold text-slate-500 uppercase tracking-wider">Product Filter</p>
            </div>
            
            <div className="space-y-1">
              {/*  */}
              {seasons.map(season => {
                const seasonProducts = groupedProducts[season.name];
                if (!seasonProducts || seasonProducts.length === 0) return null;
                const isExpanded = expandedSeasons[season.name];

                return (
                  <div key={season.id} className="rounded-lg overflow-hidden">
                    <button
                      onClick={() => toggleSeason(season.name)}
                      className={`
                        w-full flex items-center justify-between px-3 py-2 text-xs font-bold uppercase tracking-wider transition-colors
                        ${isExpanded ? 'bg-slate-800 text-slate-200' : 'text-slate-500 hover:bg-slate-800/50 hover:text-slate-300'}
                      `}
                    >
                      <div className="flex items-center gap-2">
                        <Folder size={14} className={isExpanded ? 'text-cyan-500' : 'text-slate-600'} />
                        {season.name}
                      </div>
                      {isExpanded ? <ChevronDown size={14} /> : <ChevronRight size={14} />}
                    </button>
                    
                    {isExpanded && (
                      <div className="bg-slate-900/50 py-1 space-y-0.5 animate-in slide-in-from-top-1 duration-200">
                        {seasonProducts.map(product => (
                          <Link
                            key={product.id}
                            href={`/inventory?category=${encodeURIComponent(product.name)}`}
                            onClick={handleItemClick}
                            className={`
                              group relative block w-full text-left pl-9 pr-3 py-1.5 text-sm transition-colors border-l-2
                              ${(selectedCategory === product.name)
                                ? 'text-white bg-slate-800 border-cyan-500'
                                : 'text-slate-400 hover:text-white hover:bg-slate-800/50 border-transparent hover:border-slate-600'
                              }
                            `}
                          >
                            <div className="truncate">{product.name}</div>
                            <div className="text-[10px] opacity-40 font-mono mt-0.5 group-hover:opacity-80 transition-opacity flex items-center gap-1">
                               <Calendar size={10} />
                               {product.releaseDate}
                            </div>
                          </Link>
                        ))}
                      </div>
                    )}
                  </div>
                );
              })}
              
              {/*  */}
              {groupedProducts[''] && groupedProducts[''].length > 0 && (
                 <div className="rounded-lg overflow-hidden">
                    <button
                      onClick={() => toggleSeason('')}
                      className={`
                        w-full flex items-center justify-between px-3 py-2 text-xs font-bold uppercase tracking-wider transition-colors
                        ${expandedSeasons[''] ? 'bg-slate-800 text-slate-200' : 'text-slate-500 hover:bg-slate-800/50 hover:text-slate-300'}
                      `}
                    >
                      <div className="flex items-center gap-2">
                        <Folder size={14} className={expandedSeasons[''] ? 'text-cyan-500' : 'text-slate-600'} />
                        
                      </div>
                      {expandedSeasons[''] ? <ChevronDown size={14} /> : <ChevronRight size={14} />}
                    </button>
                    
                    {expandedSeasons[''] && (
                      <div className="bg-slate-900/50 py-1 space-y-0.5 animate-in slide-in-from-top-1 duration-200">
                        {groupedProducts[''].map(product => (
                          <Link
                            key={product.id}
                            href={`/inventory?category=${encodeURIComponent(product.name)}`}
                            onClick={handleItemClick}
                            className={`
                              group relative block w-full text-left pl-9 pr-3 py-1.5 text-sm transition-colors border-l-2
                              ${(selectedCategory === product.name)
                                ? 'text-white bg-slate-800 border-cyan-500'
                                : 'text-slate-400 hover:text-white hover:bg-slate-800/50 border-transparent hover:border-slate-600'
                              }
                            `}
                          >
                            <div className="truncate">{product.name}</div>
                            <div className="text-[10px] opacity-40 font-mono mt-0.5 group-hover:opacity-80 transition-opacity flex items-center gap-1">
                               <Calendar size={10} />
                               {product.releaseDate}
                            </div>
                          </Link>
                        ))}
                      </div>
                    )}
                 </div>
              )}
            </div>
          </div>
        </div>

        <div className="p-4 border-t border-slate-700 bg-slate-900">
          <button 
            onClick={handleLoginToggle}
            disabled={isLoading}
            className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${isAdmin ? 'bg-slate-800 text-red-300 hover:bg-slate-700' : 'bg-cyan-700 text-white hover:bg-cyan-600'}`}
          >
            {isAdmin ? <LogOut size={18} /> : <LogIn size={18} />}
            <div className="flex-1 text-left">
              <div className="text-sm font-bold">{isAdmin ? '' : ''}</div>
              <div className="text-xs opacity-75">{isAdmin ? 'authenticated' : 'public role'}</div>
            </div>
          </button>
        </div>
      </div>
    </>
  );
};


--- START OF FILE src\components\ui\ErrorBoundary.tsx ---

import React from 'react';
import { AlertTriangle } from 'lucide-react';

interface Props {
  children: React.ReactNode;
}

interface State {
  hasError: boolean;
  error: Error | null;
}

export class ErrorBoundary extends React.Component<Props, State> {
  public state: State = {
    hasError: false,
    error: null
  };

  static getDerivedStateFromError(error: Error) {
    return { hasError: true, error };
  }

  render() {
    if (this.state.hasError) {
      return (
        <div className="min-h-screen flex items-center justify-center bg-red-50 p-6">
          <div className="bg-white p-8 rounded-xl shadow-lg max-w-lg w-full border border-red-200">
            <div className="flex items-center gap-3 text-red-600 mb-4">
              <AlertTriangle size={32} />
              <h1 className="text-xl font-bold"></h1>
            </div>
            <p className="text-slate-600 mb-4"></p>
            <div className="bg-slate-900 text-slate-200 p-4 rounded text-sm font-mono overflow-auto max-h-48 mb-6">
              {this.state.error?.toString()}
            </div>
            <button 
              onClick={() => window.location.reload()}
              className="w-full bg-red-600 text-white py-2 rounded-lg font-bold hover:bg-red-700 transition-colors"
            >
              
            </button>
          </div>
        </div>
      );
    }
    return this.props.children;
  }
}

--- START OF FILE src\components\ui\StatsWidget.tsx ---

import React from 'react';
import { LucideIcon } from 'lucide-react';

interface StatsWidgetProps {
  label: string;
  value: string | number;
  icon: LucideIcon;
  color: string;
  subtext?: string;
}

export const StatsWidget: React.FC<StatsWidgetProps> = ({ label, value, icon: Icon, color, subtext }) => (
  <div className="bg-white p-4 rounded-xl shadow-sm border border-slate-100 flex items-start gap-4 hover:shadow-md transition-shadow">
    <div className={`p-3 rounded-lg ${color} bg-opacity-10 text-white`}>
      <Icon size={24} className={color.replace('bg-', 'text-')} />
    </div>
    <div>
      <p className="text-xs font-bold text-slate-400 uppercase tracking-wider">{label}</p>
      <h3 className="text-2xl font-bold text-slate-800">{value}</h3>
      {subtext && <p className="text-xs text-slate-500 mt-1">{subtext}</p>}
    </div>
  </div>
);


--- START OF FILE src\components\ui\Toast.tsx ---


'use client';

import React, { useState, useEffect } from 'react';
import { Check, AlertTriangle, Info, X, ChevronUp, ChevronDown, Copy } from 'lucide-react';
import { ToastType } from '@/types';

interface ToastItemProps {
  toast: ToastType;
  onClose: () => void;
}

const ToastItem: React.FC<ToastItemProps> = ({ toast, onClose }) => {
  const [expanded, setExpanded] = useState(false);
  const [copied, setCopied] = useState(false);
  
  useEffect(() => {
    // 
    if (toast.type !== 'error') {
      const timer = setTimeout(onClose, 5000);
      return () => clearTimeout(timer);
    } else {
      // 
      if (toast.errorDetail) {
        setExpanded(true);
      }
    }
  }, [onClose, toast.type, toast.errorDetail]);

  const handleCopyError = () => {
    if (!toast.errorDetail) return;
    const text = `Error: ${toast.title}\nMessage: ${toast.message}\nCode: ${toast.errorDetail.code}\nTimestamp: ${toast.errorDetail.timestamp}\nDetails: ${toast.errorDetail.details}`;
    navigator.clipboard.writeText(text);
    setCopied(true);
    setTimeout(() => setCopied(false), 2000);
  };

  const bgColor = 
    toast.type === 'success' ? 'bg-green-50 border-green-200' : 
    toast.type === 'error' ? 'bg-red-50 border-red-200' : 'bg-blue-50 border-blue-200';
  
  const iconColor = 
    toast.type === 'success' ? 'text-green-600' : 
    toast.type === 'error' ? 'text-red-600' : 'text-blue-600';

  return (
    <div className={`${bgColor} border rounded-lg shadow-lg p-4 pointer-events-auto transition-all animate-in slide-in-from-right max-w-md w-full`}>
      <div className="flex items-start gap-3">
        <div className={`mt-0.5 ${iconColor} shrink-0`}>
          {toast.type === 'success' && <Check size={20} />}
          {toast.type === 'error' && <AlertTriangle size={20} />}
          {toast.type === 'info' && <Info size={20} />}
        </div>
        <div className="flex-1 min-w-0">
          <h4 className={`font-bold text-sm ${iconColor} break-words`}>{toast.title}</h4>
          {toast.message && <p className="text-sm text-slate-700 mt-1 break-words leading-relaxed">{toast.message}</p>}
          
          {toast.errorDetail && (
            <div className="flex items-center gap-3 mt-2">
              <button 
                onClick={() => setExpanded(!expanded)}
                className="text-xs flex items-center gap-1 text-slate-500 hover:text-slate-800 underline decoration-slate-300 underline-offset-2"
              >
                {expanded ? <ChevronUp size={12} /> : <ChevronDown size={12} />}
                {expanded ? "" : ""}
              </button>
            </div>
          )}
        </div>
        <button onClick={onClose} className="text-slate-400 hover:text-slate-600 shrink-0">
          <X size={16} />
        </button>
      </div>

      {expanded && toast.errorDetail && (
        <div className="mt-3 bg-slate-800 rounded p-3 text-xs font-mono text-slate-200 overflow-x-auto relative group">
          <button 
            onClick={handleCopyError}
            className="absolute top-2 right-2 p-1.5 bg-white/10 hover:bg-white/20 rounded text-white transition-colors"
            title=""
          >
            {copied ? <Check size={14} className="text-green-400" /> : <Copy size={14} />}
          </button>
          
          <div className="mb-1 text-slate-400">Time: {toast.errorDetail.timestamp}</div>
          <div className="mb-1 text-red-300 font-bold">Code: {toast.errorDetail.code}</div>
          <div className="border-t border-slate-600 pt-2 mt-2 whitespace-pre-wrap break-all leading-relaxed pr-6">
            {toast.errorDetail.details || toast.errorDetail.message}
          </div>
        </div>
      )}
    </div>
  );
};

export const ToastContainer: React.FC<{ toasts: ToastType[], removeToast: (id: number) => void }> = ({ toasts, removeToast }) => {
  return (
    <div className="fixed top-4 right-4 z-50 flex flex-col gap-3 w-full max-w-md pointer-events-none px-4 md:px-0">
      {toasts.map(toast => (
        <ToastItem key={toast.id} toast={toast} onClose={() => removeToast(toast.id)} />
      ))}
    </div>
  );
};


--- START OF FILE src\constants.ts ---


import { Item, News, Product, Season } from './types';

// : 
export const INITIAL_PRODUCTS: Product[] = [];

export const INITIAL_NEWS: News[] = [
  { id: 1, startDate: new Date().toISOString().split('T')[0], content: "", type: 'success' },
];

export const INITIAL_RARITIES = ["UR", "SR", "R", "N", "SE", "PS", "UL", "QCSE", "20th", "HR"];

export const INITIAL_SEASONS: Season[] = [
  { id: 's13', name: '13 (2025~)', startDate: '2025-04-01' },
  { id: 's12', name: '12 (2023~)', startDate: '2023-04-01' },
  { id: 's11', name: '11 (2020~)', startDate: '2020-04-01' },
  { id: 's10', name: '10 (2017~)', startDate: '2017-03-25' },
  { id: 's9', name: '9 (2014~)', startDate: '2014-03-21' },
  { id: 's8', name: '8 (2012~)', startDate: '2012-03-17' },
  { id: 's7', name: '7 (2010~)', startDate: '2010-03-20' },
  { id: 's6', name: '6 (2008~)', startDate: '2008-03-15' },
  { id: 's5', name: '5 (2006~)', startDate: '2006-05-18' },
  { id: 's4', name: '4 (2004~)', startDate: '2004-05-27' },
  { id: 's3', name: '3 (2002~)', startDate: '2002-05-16' },
  { id: 's2', name: '2 (2000~)', startDate: '2000-04-20' },
  { id: 's1', name: '1 (1999~)', startDate: '1999-02-04' },
];

// : 
export const INITIAL_ITEMS: Item[] = [];

export const getRarityStyle = (rarity: string) => {
  return 'bg-slate-100 text-slate-600 border-slate-200';
};

--- START OF FILE src\context\AppContext.tsx ---


'use client';

import React, { createContext, useContext, useState, useCallback, useEffect } from 'react';
import { useRouter } from 'next/navigation';
import { ToastType, AppError, News, Product, Season } from '@/types';
import { api } from '@/services/api';
import { INITIAL_RARITIES, INITIAL_SEASONS } from '@/constants';

interface AppContextType {
  isAdmin: boolean;
  user: any;
  isLoading: boolean;
  news: News[];
  toasts: ToastType[];
  products: Product[];
  rarities: string[];
  seasons: Season[]; 
  refreshProducts: () => Promise<void>;
  refreshRarities: () => Promise<void>;
  refreshSeasons: () => Promise<void>;
  refreshNews: () => Promise<void>; // Added
  addProduct: (product: Omit<Product, 'id'>) => Promise<void>;
  updateProduct: (id: string, updates: Partial<Product>) => Promise<void>;
  deleteProduct: (id: string) => Promise<void>;
  addNews: (news: Omit<News, 'id' | 'createdAt'>) => Promise<void>; // Added
  deleteNews: (id: number) => Promise<void>; // Added
  addToast: (type: ToastType['type'], title: string, message?: string, errorDetail?: AppError) => void;
  removeToast: (id: number) => void;
  handleLoginToggle: () => Promise<void>;
  setIsLoading: (loading: boolean) => void;
}

const AppContext = createContext<AppContextType | undefined>(undefined);

export const AppProvider = ({ children }: { children: React.ReactNode }) => {
  const router = useRouter();
  const [isAdmin, setIsAdmin] = useState(false);
  const [user, setUser] = useState<any>(null);
  const [isLoading, setIsLoading] = useState(false);
  const [news, setNews] = useState<News[]>([]); // Initialize empty
  const [toasts, setToasts] = useState<ToastType[]>([]);
  const [products, setProducts] = useState<Product[]>([]);
  const [rarities, setRarities] = useState<string[]>(INITIAL_RARITIES);
  const [seasons, setSeasons] = useState<Season[]>(INITIAL_SEASONS);

  const addToast = useCallback((type: ToastType['type'], title: string, message?: string, errorDetail?: AppError) => {
    const id = Date.now();
    setToasts(prev => [...prev, { id, type, title, message, errorDetail }]);
  }, []);

  const removeToast = useCallback((id: number) => {
    setToasts(prev => prev.filter(t => t.id !== id));
  }, []);

  const refreshProducts = useCallback(async () => {
    try {
      const fetchedProducts = await api.fetchProducts();
      setProducts(fetchedProducts);
    } catch (e) {
      console.error("Failed to fetch products", e);
    }
  }, []);

  const refreshRarities = useCallback(async () => {
    try {
      const fetched = await api.fetchRarities();
      setRarities(fetched);
    } catch (e) {
      console.error("Failed to fetch rarities", e);
    }
  }, []);

  const refreshSeasons = useCallback(async () => {
    try {
      const fetched = await api.fetchSeasons();
      const sorted = [...fetched].sort((a, b) => 
        new Date(b.startDate).getTime() - new Date(a.startDate).getTime()
      );
      setSeasons(sorted);
    } catch (e) {
      console.error("Failed to fetch seasons", e);
    }
  }, []);

  const refreshNews = useCallback(async () => {
    try {
      const fetched = await api.fetchNews();
      setNews(fetched);
    } catch (e) {
      console.error("Failed to fetch news", e);
    }
  }, []);

  const addProduct = async (productData: Omit<Product, 'id'>) => {
    try {
      await api.addProduct(productData);
      await refreshProducts();
      addToast('success', '', `${productData.name}`);
    } catch (e: any) {
      addToast('error', '', e.message);
      throw e;
    }
  };

  const updateProduct = async (id: string, updates: Partial<Product>) => {
    try {
      await api.updateProduct(id, updates);
      await refreshProducts();
      addToast('success', '', '');
    } catch (e: any) {
      addToast('error', '', e.message);
      throw e;
    }
  };

  const deleteProduct = async (id: string) => {
    try {
      await api.deleteProduct(id);
      await refreshProducts();
      addToast('info', '', '');
    } catch (e: any) {
      addToast('error', '', e.message);
      throw e;
    }
  };

  const addNews = async (newsData: Omit<News, 'id' | 'createdAt'>) => {
    try {
      await api.addNews(newsData);
      await refreshNews();
      addToast('success', '', '');
    } catch (e: any) {
      addToast('error', '', e.message);
      throw e;
    }
  };

  const deleteNews = async (id: number) => {
    try {
      await api.deleteNews(id);
      await refreshNews();
      addToast('info', '', '');
    } catch (e: any) {
      addToast('error', '', e.message);
      throw e;
    }
  };

  const handleLoginToggle = async () => {
    setIsLoading(true);
    try {
      if (isAdmin) {
        await api.signOut();
        setIsAdmin(false);
        setUser(null);
        addToast('info', '');
        router.push('/');
      } else {
        router.push('/login');
      }
    } catch (e: any) {
      addToast('error', '', e.message);
    } finally {
      setIsLoading(false);
    }
  };

  useEffect(() => {
    const { data: authListener } = api.onAuthStateChange((session) => {
      setUser(session?.user ?? null);
      setIsAdmin(!!session?.user);
    });
    refreshProducts();
    refreshRarities();
    refreshSeasons();
    refreshNews(); // Added
    return () => {
      authListener?.subscription.unsubscribe();
    };
  }, [refreshProducts, refreshRarities, refreshSeasons, refreshNews]);

  return (
    <AppContext.Provider value={{
      isAdmin,
      user,
      isLoading,
      news,
      toasts,
      products,
      rarities,
      seasons,
      refreshProducts,
      refreshRarities,
      refreshSeasons,
      refreshNews, // Added
      addProduct,
      updateProduct,
      deleteProduct,
      addNews, // Added
      deleteNews, // Added
      addToast,
      removeToast,
      handleLoginToggle,
      setIsLoading
    }}>
      {children}
    </AppContext.Provider>
  );
};

export const useAppContext = () => {
  const context = useContext(AppContext);
  if (context === undefined) {
    throw new Error('useAppContext must be used within an AppProvider');
  }
  return context;
};


--- START OF FILE src\lib\supabase.ts ---

import { createClient } from '@supabase/supabase-js';

const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;

export const isSupabaseEnabled = !!supabaseUrl && !!supabaseAnonKey;

export const supabase = isSupabaseEnabled
  ? createClient(supabaseUrl!, supabaseAnonKey!)
  : (undefined as any);


--- START OF FILE src\services\api.ts ---


import { supabase, isSupabaseEnabled } from '../lib/supabase';
import { Item, Product, PaginatedItems, SortConfig, Season, News } from '../types';
import { INITIAL_RARITIES, INITIAL_SEASONS } from '../constants';

// DB
const mapDbItemToAppItem = (dbItem: any): Item => ({
  id: dbItem.id,
  name: dbItem.name,
  cardId: dbItem.card_id,
  rarity: dbItem.rarity,
  stock: dbItem.stock,
  category: dbItem.category,
  updatedAt: dbItem.updated_at || new Date().toISOString(),
});

const mapDbProductToAppProduct = (dbProduct: any): Product => ({
  id: dbProduct.name,
  name: dbProduct.name,
  releaseDate: dbProduct.release_date || '2000-01-01',
  isSidebarVisible: dbProduct.is_sidebar_visible ?? true,
});

const mapDbNewsToAppNews = (dbNews: any): News => ({
  id: dbNews.id,
  content: dbNews.content,
  type: dbNews.type,
  startDate: dbNews.start_date,
  endDate: dbNews.end_date,
  createdAt: dbNews.created_at
});

const handleSupabaseError = (error: any, action: string) => {
  if (!error) return;
  console.error(`Supabase Error [${action}]:`, error);

  // 
  const err: any = new Error(error.message || `DB: ${action}`);
  err.code = error.code || 'UNKNOWN_DB_ERROR';
  err.details = error.details || error.hint || '';
  
  //  (Postgres code 42P01)
  if (error.code === '42P01') {
    throw err;
  }

  //  (RPC)
  if (error.code === '42883') { 
    throw err;
  }

  if (error.code === '42501' || error.message?.includes('row-level security')) {
    err.message = `: (${action})`;
    throw err;
  }
  
  throw err;
};

const ensureConnection = () => {
  if (!isSupabaseEnabled || !supabase) {
    const e: any = new Error("");
    e.code = "NO_CONNECTION";
    throw e;
  }
};

export const api = {
  // --- Auth ---
  onAuthStateChange: (callback: (session: any) => void) => {
    if (isSupabaseEnabled && supabase) {
      // TypeScriptany
      return supabase.auth.onAuthStateChange((_event: any, session: any) => callback(session));
    }
    return { data: { subscription: { unsubscribe: () => {} } } };
  },

  signInWithEmail: async (email: string, password: string) => {
    ensureConnection();
    const { data, error } = await supabase.auth.signInWithPassword({ email, password });
    if (error) throw new Error(": ");
    return data;
  },

  signOut: async () => {
    if (isSupabaseEnabled && supabase) await supabase.auth.signOut();
  },

  // --- Products ---
  fetchProducts: async (): Promise<Product[]> => {
    ensureConnection();
    const { data, error } = await supabase
      .from('products')
      .select('*')
      .order('release_date', { ascending: false });
    
    if (error) {
      if (error.code === '42P01') return [];
      handleSupabaseError(error, 'fetchProducts');
    }
    return (data || []).map(mapDbProductToAppProduct);
  },

  addProduct: async (newProduct: Omit<Product, 'id'>): Promise<Product> => {
    ensureConnection();
    const { data, error } = await supabase
      .from('products')
      .insert([{
        name: newProduct.name,
        release_date: newProduct.releaseDate,
        is_sidebar_visible: newProduct.isSidebarVisible 
      }])
      .select()
      .single();
    if (error) handleSupabaseError(error, 'addProduct');
    return mapDbProductToAppProduct(data);
  },

  updateProduct: async (id: string, updates: Partial<Product>): Promise<Product> => {
    ensureConnection();
    const dbUpdates: any = {};
    if (updates.releaseDate !== undefined) dbUpdates.release_date = updates.releaseDate;
    if (updates.isSidebarVisible !== undefined) dbUpdates.is_sidebar_visible = updates.isSidebarVisible;

    const { data, error } = await supabase
      .from('products')
      .update(dbUpdates)
      .eq('name', id)
      .select()
      .single();
    if (error) handleSupabaseError(error, 'updateProduct');
    return mapDbProductToAppProduct(data);
  },

  deleteProduct: async (id: string): Promise<void> => {
    ensureConnection();
    const { error } = await supabase.from('products').delete().eq('name', id);
    if (error) handleSupabaseError(error, 'deleteProduct');
  },

  // --- Items (Server-side Pagination) ---
  fetchItems: async (
    page: number = 1, 
    pageSize: number = 50, 
    filters?: { category?: string | null, search?: string, showZeroStock?: boolean },
    sort?: SortConfig
  ): Promise<PaginatedItems> => {
    ensureConnection();
    
    let query = supabase.from('items').select('*', { count: 'exact' });

    // Filters
    if (filters?.category) {
      query = query.eq('category', filters.category);
    }
    if (filters?.search) {
      query = query.or(`name.ilike.%${filters.search}%,card_id.ilike.%${filters.search}%`);
    }
    if (filters?.showZeroStock === false) {
      query = query.gt('stock', 0);
    }

    // Sorting
    if (sort) {
      let dbKey = sort.key as string;
      // DB
      if (sort.key === 'cardId') dbKey = 'card_id';
      if (sort.key === 'updatedAt') dbKey = 'updated_at';
      
      query = query.order(dbKey, { ascending: sort.direction === 'asc' });

      // 2ID
      if (dbKey !== 'card_id') {
         query = query.order('card_id', { ascending: true });
      }
      query = query.order('id', { ascending: true });
    } else {
      // Default:  (ID Desc) + 
      query = query.order('id', { ascending: false }).order('card_id', { ascending: true });
    }

    // Pagination
    const from = (page - 1) * pageSize;
    const to = from + pageSize - 1;
    
    const { data, count, error } = await query.range(from, to);

    if (error) {
       if (error.code === '42P01') {
         return { data: [], count: 0 };
       }
       handleSupabaseError(error, 'fetchItems');
    }
    
    return {
      data: (data || []).map(mapDbItemToAppItem),
      count: count || 0
    };
  },

  addItem: async (newItem: Omit<Item, 'id' | 'updatedAt'>): Promise<Item> => {
    ensureConnection();
    const { data, error } = await supabase
      .from('items')
      .insert([{
        name: newItem.name,
        card_id: newItem.cardId,
        rarity: newItem.rarity,
        stock: newItem.stock,
        category: newItem.category
      }])
      .select()
      .single();
    if (error) handleSupabaseError(error, 'addItem');
    return mapDbItemToAppItem(data);
  },

  updateStock: async (id: number, delta: number): Promise<Item> => {
    ensureConnection();
    const { data: current } = await supabase.from('items').select('stock').eq('id', id).single();
    const newStock = Math.max(0, (current?.stock || 0) + delta);
    
    const { data, error } = await supabase
      .from('items')
      .update({ 
        stock: newStock,
        updated_at: new Date().toISOString() 
      })
      .eq('id', id)
      .select()
      .single();
    if (error) handleSupabaseError(error, 'updateStock');
    return mapDbItemToAppItem(data);
  },

  updateItem: async (id: number, updates: Partial<Item>): Promise<Item> => {
    ensureConnection();
    const dbUpdates: any = {
      updated_at: new Date().toISOString()
    };
    if (updates.name !== undefined) dbUpdates.name = updates.name;
    if (updates.cardId !== undefined) dbUpdates.card_id = updates.cardId;
    if (updates.rarity !== undefined) dbUpdates.rarity = updates.rarity;
    if (updates.stock !== undefined) dbUpdates.stock = updates.stock;
    if (updates.category !== undefined) dbUpdates.category = updates.category;

    const { data, error } = await supabase
      .from('items')
      .update(dbUpdates)
      .eq('id', id)
      .select()
      .single();
    if (error) handleSupabaseError(error, 'updateItem');
    return mapDbItemToAppItem(data);
  },

  deleteItem: async (id: number): Promise<void> => {
    ensureConnection();
    const { error } = await supabase.from('items').delete().eq('id', id);
    if (error) handleSupabaseError(error, 'deleteItem');
  },

  // --- Bulk Operations (Migration & Stocktaking) ---
  bulkInsertProducts: async (products: any[]): Promise<void> => {
    ensureConnection();
    const BATCH_SIZE = 500;
    for (let i = 0; i < products.length; i += BATCH_SIZE) {
      const chunk = products.slice(i, i + BATCH_SIZE);
      const { error } = await supabase
        .from('products')
        .upsert(chunk, { onConflict: 'name', ignoreDuplicates: true });
      if (error) handleSupabaseError(error, `bulkInsertProducts (batch ${i})`);
    }
  },

  bulkInsertItems: async (items: any[]): Promise<void> => {
    ensureConnection();
    const BATCH_SIZE = 100;
    for (let i = 0; i < items.length; i += BATCH_SIZE) {
      const chunk = items.slice(i, i + BATCH_SIZE);
      const { error } = await supabase
        .from('items')
        .upsert(chunk, { onConflict: 'id', ignoreDuplicates: true }); 
      if (error) handleSupabaseError(error, `bulkInsertItems (batch ${i})`);
    }
  },

  // : ID
  bulkUpdateStock: async (updates: { id: number, stock: number }[]): Promise<void> => {
    ensureConnection();
    const BATCH_SIZE = 50; // 
    const timestamp = new Date().toISOString();

    for (let i = 0; i < updates.length; i += BATCH_SIZE) {
      const chunk = updates.slice(i, i + BATCH_SIZE);
      // RPC
      await Promise.all(chunk.map(item => 
        supabase
          .from('items')
          .update({ stock: item.stock, updated_at: timestamp })
          .eq('id', item.id)
      ));
    }
  },

  // --- Backup (Full Export) ---
  fetchAllItemsForBackup: async (onProgress?: (count: number) => void): Promise<Item[]> => {
    ensureConnection();
    let allItems: any[] = [];
    const PAGE_SIZE = 1000;
    let page = 0;
    let hasMore = true;

    while (hasMore) {
      const { data, error } = await supabase
        .from('items')
        .select('*')
        .range(page * PAGE_SIZE, (page + 1) * PAGE_SIZE - 1)
        .order('id', { ascending: true });

      if (error) handleSupabaseError(error, 'fetchAllItemsForBackup');

      if (data && data.length > 0) {
        allItems = [...allItems, ...data];
        if (onProgress) onProgress(allItems.length);
        page++;
        if (data.length < PAGE_SIZE) hasMore = false;
      } else {
        hasMore = false;
      }
      
      await new Promise(r => setTimeout(r, 50));
    }

    return allItems.map(mapDbItemToAppItem);
  },

  // --- Reset All Data ---
  resetDatabase: async (): Promise<void> => {
    ensureConnection();
    const { error } = await supabase.rpc('reset_all_data');
    if (error) {
       if (error.code === '42883') {
         throw new Error("(reset_all_data)SQL");
       }
       handleSupabaseError(error, 'resetDatabase');
    }
  },

  // --- Dashboard Stats (RPC with Fallback) ---
  fetchDashboardStats: async (): Promise<{ totalCards: number, totalStock: number, lowStock: number }> => {
    ensureConnection();
    
    try {
      const { data, error } = await supabase.rpc('get_dashboard_stats');
      
      if (error) throw error;
      
      if (data) {
        return {
          totalCards: data.totalCards || 0,
          totalStock: data.totalStock || 0,
          lowStock: data.lowStock || 0
        };
      }
    } catch (e: any) {
      console.warn("RPC failed, falling back to standard queries.", e.message);

      const { count: totalCards } = await supabase
        .from('items')
        .select('id', { count: 'exact', head: true });
        
      const { count: lowStock } = await supabase
        .from('items')
        .select('id', { count: 'exact', head: true })
        .lt('stock', 2);

      return {
        totalCards: totalCards || 0,
        totalStock: 0, 
        lowStock: lowStock || 0
      };
    }
    
    return { totalCards: 0, totalStock: 0, lowStock: 0 };
  },

  // --- Config (Rarities & Seasons) ---
  fetchRarities: async (): Promise<string[]> => {
    ensureConnection();
    const { data, error } = await supabase
      .from('config')
      .select('value')
      .eq('key', 'rarities')
      .single();
    
    if (error) {
      if (error.code === '42P01' || error.code === 'PGRST116') {
        return INITIAL_RARITIES;
      }
      handleSupabaseError(error, 'fetchRarities');
    }
    return data?.value || INITIAL_RARITIES;
  },

  saveRarities: async (rarities: string[]): Promise<void> => {
    ensureConnection();
    const { error } = await supabase
      .from('config')
      .upsert({ key: 'rarities', value: rarities }, { onConflict: 'key' });
    if (error) handleSupabaseError(error, 'saveRarities');
  },

  fetchSeasons: async (): Promise<Season[]> => {
    ensureConnection();
    const { data, error } = await supabase
      .from('config')
      .select('value')
      .eq('key', 'seasons')
      .single();
    
    if (error) {
      if (error.code === '42P01' || error.code === 'PGRST116') {
        return INITIAL_SEASONS;
      }
      handleSupabaseError(error, 'fetchSeasons');
    }
    return data?.value || INITIAL_SEASONS;
  },

  saveSeasons: async (seasons: Season[]): Promise<void> => {
    ensureConnection();
    const { error } = await supabase
      .from('config')
      .upsert({ key: 'seasons', value: seasons }, { onConflict: 'key' });
    if (error) handleSupabaseError(error, 'saveSeasons');
  },

  // --- Distinct Rarities (Sync Tool) ---
  fetchDistinctRarities: async (): Promise<string[]> => {
    ensureConnection();
    try {
      const { data, error } = await supabase.rpc('get_distinct_rarities');
      if (error) throw error;
      return (data || []).map((row: any) => row.rarity).filter(Boolean);
    } catch (e: any) {
      console.warn("RPC 'get_distinct_rarities' not found.");
      throw new Error("");
    }
  },
  
  // --- News ---
  fetchNews: async (): Promise<News[]> => {
    ensureConnection();
    const today = new Date().toISOString().split('T')[0];
    const { data, error } = await supabase
      .from('news')
      .select('*')
      // endDateNULL  endDate >= today 
      .or(`end_date.is.null,end_date.gte.${today}`)
      .order('created_at', { ascending: false });
    
    if (error) {
      if (error.code === '42P01') return []; // Table not found
      handleSupabaseError(error, 'fetchNews');
    }
    return (data || []).map(mapDbNewsToAppNews);
  },

  addNews: async (news: Omit<News, 'id' | 'createdAt'>): Promise<News> => {
    ensureConnection();
    const { data, error } = await supabase
      .from('news')
      .insert([{
        content: news.content,
        type: news.type,
        start_date: news.startDate,
        end_date: news.endDate
      }])
      .select()
      .single();
    if (error) handleSupabaseError(error, 'addNews');
    return mapDbNewsToAppNews(data);
  },

  deleteNews: async (id: number): Promise<void> => {
    ensureConnection();
    const { error } = await supabase.from('news').delete().eq('id', id);
    if (error) handleSupabaseError(error, 'deleteNews');
  },

  // Check Schema
  checkSchema: async (): Promise<boolean> => {
    if (!isSupabaseEnabled || !supabase) return false;
    const { error } = await supabase.from('products').select('name').limit(1);
    return !error || error.code !== '42P01';
  }
};


--- START OF FILE src\types.ts ---


export type Item = {
  id: number;
  name: string;
  cardId: string;
  rarity: string;
  stock: number;
  category: string;
  updatedAt: string;
};

export type Product = {
  id: string; // UUIDDBname()ID
  name: string; // ID
  releaseDate: string;
  isSidebarVisible: boolean;
};

export type News = {
  id: number;
  content: string;
  type: 'info' | 'alert' | 'success';
  startDate?: string;
  endDate?: string | null; // null = 
  createdAt?: string;
};

export type Season = {
  id: string;
  name: string;
  startDate: string; // YYYY-MM-DD
};

export type AppError = {
  code: string;
  message: string;
  details?: string;
  timestamp: string;
};

export type ToastType = {
  id: number;
  type: 'success' | 'error' | 'info';
  title: string;
  message?: string;
  errorDetail?: AppError;
};

export type SortConfig = {
  key: keyof Item;
  direction: 'asc' | 'desc';
};

export type TabType = 'dashboard' | 'inventory' | 'products' | 'scraper' | 'settings';

export type PaginatedItems = {
  data: Item[];
  count: number;
};


--- START OF FILE src\views\DashboardView.tsx ---


'use client';

import React, { useState } from 'react';
import Link from 'next/link';
import { LayoutDashboard, Layers, Package, AlertCircle, TrendingUp, BarChart3, Lock, Database, ArrowRight, Download, Info, Plus, X, Trash2, Calendar, Search } from 'lucide-react';
import { StatsWidget } from '../components/ui/StatsWidget';
import { useAppContext } from '@/context/AppContext';

interface DashboardViewProps {
  stats: {
    totalCards: number;
    totalStock: number;
    lowStock: number;
  };
}

export const DashboardView: React.FC<DashboardViewProps> = ({ stats }) => {
  const { news, isAdmin, addNews, deleteNews } = useAppContext();
  const isDataEmpty = stats.totalCards === 0;

  // News Modal State
  const [isNewsModalOpen, setIsNewsModalOpen] = useState(false);
  const [newsContent, setNewsContent] = useState('');
  const [newsType, setNewsType] = useState<'info' | 'alert'>('info');
  const [newsDuration, setNewsDuration] = useState('1w'); // 1w, 2w, 4w, permanent

  const handleAddNews = async (e: React.FormEvent) => {
    e.preventDefault();
    if (!newsContent) return;

    let endDate: string | null = null;
    if (newsDuration !== 'permanent') {
      const date = new Date();
      if (newsDuration === '1w') date.setDate(date.getDate() + 7);
      if (newsDuration === '2w') date.setDate(date.getDate() + 14);
      if (newsDuration === '4w') date.setDate(date.getDate() + 28);
      endDate = date.toISOString().split('T')[0];
    }

    await addNews({
      content: newsContent,
      type: newsType,
      startDate: new Date().toISOString().split('T')[0],
      endDate: endDate
    });
    
    setIsNewsModalOpen(false);
    setNewsContent('');
    setNewsType('info');
  };

  const handleDeleteNews = async (id: number) => {
    if (window.confirm('')) {
      await deleteNews(id);
    }
  };

  return (
    <div className="p-4 md:p-8 pb-20">
      <h2 className="text-2xl font-bold text-slate-800 mb-6 flex items-center gap-2">
        <LayoutDashboard /> 
      </h2>

      {/* 1. :  () */}
      <div className="mb-8">
        <Link href="/inventory" className="block w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white p-6 rounded-xl shadow-lg transition-all transform hover:scale-[1.01] group border border-blue-500/30 relative overflow-hidden">
          <div className="absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-16 -mt-16 pointer-events-none blur-3xl"></div>
          <div className="flex items-center justify-between relative z-10">
             <div className="flex items-center gap-5">
                <div className="bg-white/20 p-4 rounded-xl backdrop-blur-sm shadow-inner">
                  <Search size={32} className="text-white" />
                </div>
                <div>
                   <h3 className="text-2xl font-bold mb-1"> / </h3>
                   <p className="text-cyan-100 font-medium"></p>
                </div>
             </div>
             <div className="bg-white/20 p-2 rounded-full group-hover:bg-white/30 transition-colors">
               <ArrowRight size={24} className="opacity-90 group-hover:translate-x-1 transition-transform" />
             </div>
          </div>
        </Link>
      </div>
      
      {/* 2.  */}
      <div className="mb-8">
        <div className="flex justify-between items-center mb-4">
          <h3 className="text-lg font-bold text-slate-700 flex items-center gap-2">
            <Info className="text-cyan-600" /> 
          </h3>
          {isAdmin && (
            <button 
              onClick={() => setIsNewsModalOpen(true)}
              className="text-sm bg-cyan-600 hover:bg-cyan-700 text-white px-3 py-1.5 rounded-lg flex items-center gap-1 font-bold shadow-sm transition-colors"
            >
              <Plus size={16} /> 
            </button>
          )}
        </div>

        <div className="space-y-3">
          {news.length === 0 ? (
            <div className="bg-white p-4 rounded-lg border border-slate-200 text-slate-500 text-sm text-center">
              
            </div>
          ) : (
            news.map(item => (
              <div 
                key={item.id} 
                className={`
                  p-4 rounded-lg border flex items-start gap-3 shadow-sm relative group transition-all
                  ${item.type === 'alert' ? 'bg-red-50 border-red-200 text-red-800' : 'bg-green-50 border-green-200 text-green-800'}
                `}
              >
                <div className="shrink-0 mt-0.5">
                  {item.type === 'alert' ? <AlertCircle size={20} /> : <Info size={20} />}
                </div>
                <div className="flex-1">
                  <div className="text-sm font-medium whitespace-pre-wrap leading-relaxed">{item.content}</div>
                  <div className="text-xs opacity-70 mt-2 flex items-center gap-2">
                    <span>{item.startDate}</span>
                    {item.endDate && (
                      <span className="flex items-center gap-1 bg-white/50 px-1.5 rounded">
                        <Calendar size={10} /> : {item.endDate}
                      </span>
                    )}
                  </div>
                </div>
                {isAdmin && (
                  <button 
                    onClick={() => handleDeleteNews(item.id)}
                    className="absolute top-2 right-2 p-1.5 bg-white/50 hover:bg-white rounded text-slate-400 hover:text-red-600 opacity-0 group-hover:opacity-100 transition-all"
                    title=""
                  >
                    <Trash2 size={16} />
                  </button>
                )}
              </div>
            ))
          )}
        </div>
      </div>

      {isDataEmpty && (
        <div className="bg-gradient-to-r from-blue-600 to-cyan-600 text-white p-6 rounded-xl shadow-lg mb-8 animate-in slide-in-from-top-4">
          <div className="flex flex-col md:flex-row items-center justify-between gap-6">
            <div className="flex items-start gap-4">
              <div className="bg-white/20 p-3 rounded-lg">
                <Database size={32} className="text-white" />
              </div>
              <div>
                <h3 className="text-xl font-bold mb-1"></h3>
                <p className="text-blue-100 max-w-xl text-sm leading-relaxed">
                  
                </p>
                <div className="flex flex-col sm:flex-row gap-3 mt-3">
                  <Link 
                    href="/scraper"
                    className="bg-white text-blue-600 px-4 py-2 rounded-lg font-bold hover:bg-blue-50 transition-colors shadow-sm flex items-center gap-2 text-sm justify-center"
                  >
                    <Download size={16} /> Wiki ()
                  </Link>
                  <Link 
                    href="/settings"
                    className="bg-blue-700/50 text-white border border-blue-400/50 px-4 py-2 rounded-lg font-bold hover:bg-blue-700 transition-colors shadow-sm flex items-center gap-2 text-sm justify-center"
                  >
                      () <ArrowRight size={16} />
                  </Link>
                </div>
              </div>
            </div>
          </div>
        </div>
      )}
      
      {/* 3.  */}
      <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
        <StatsWidget 
          label="" 
          value={stats.totalCards} 
          icon={Layers} 
          color="bg-blue-500" 
          subtext="" 
        />
        <StatsWidget 
          label="" 
          value={stats.totalStock} 
          icon={Package} 
          color="bg-green-500" 
          subtext="" 
        />
        <StatsWidget 
          label="" 
          value={stats.lowStock} 
          icon={AlertCircle} 
          color="bg-red-500" 
          subtext="1" 
        />
      </div>

      {/* 4.  () */}
      <div className="bg-white p-6 rounded-xl shadow-sm border border-slate-200 mb-8 opacity-75">
        <h3 className="text-lg font-bold text-slate-700 mb-4 flex items-center gap-2">
          <TrendingUp className="text-slate-400" /> 
        </h3>
        <div className="bg-slate-50 border-2 border-slate-200 border-dashed rounded-lg p-10 text-center text-slate-500">
          <Lock size={48} className="mx-auto mb-3 text-slate-300" />
          <p className="font-bold mb-2 text-lg"></p>
          <p className="text-sm max-w-md mx-auto mb-4">
            
          </p>
        </div>
      </div>

      {/*  */}
      {isNewsModalOpen && (
        <div className="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-in fade-in duration-200">
          <div className="bg-white rounded-xl shadow-2xl max-w-md w-full overflow-hidden">
            <div className="bg-slate-50 p-4 border-b border-slate-100 flex justify-between items-center">
              <h3 className="font-bold text-lg text-slate-800"></h3>
              <button onClick={() => setIsNewsModalOpen(false)} className="text-slate-400 hover:text-slate-600">
                <X size={24} />
              </button>
            </div>
            
            <form onSubmit={handleAddNews} className="p-6 space-y-4">
              <div>
                <label className="block text-sm font-bold text-slate-700 mb-1"></label>
                <textarea
                  required
                  value={newsContent}
                  onChange={(e) => setNewsContent(e.target.value)}
                  className="w-full border border-slate-300 rounded px-3 py-2 focus:ring-2 focus:ring-cyan-500 outline-none h-24"
                  placeholder="..."
                />
              </div>

              <div>
                <label className="block text-sm font-bold text-slate-700 mb-1"></label>
                <div className="flex gap-4">
                  <label className="flex items-center gap-2 cursor-pointer">
                    <input 
                      type="radio" 
                      name="newsType" 
                      checked={newsType === 'info'}
                      onChange={() => setNewsType('info')}
                      className="text-green-600 focus:ring-green-500"
                    />
                    <span className="bg-green-100 text-green-800 px-2 py-0.5 rounded text-xs font-bold"> ()</span>
                  </label>
                  <label className="flex items-center gap-2 cursor-pointer">
                    <input 
                      type="radio" 
                      name="newsType" 
                      checked={newsType === 'alert'}
                      onChange={() => setNewsType('alert')}
                      className="text-red-600 focus:ring-red-500"
                    />
                    <span className="bg-red-100 text-red-800 px-2 py-0.5 rounded text-xs font-bold"> ()</span>
                  </label>
                </div>
              </div>

              <div>
                <label className="block text-sm font-bold text-slate-700 mb-1"></label>
                <select 
                  value={newsDuration}
                  onChange={(e) => setNewsDuration(e.target.value)}
                  className="w-full border border-slate-300 rounded px-3 py-2 focus:ring-2 focus:ring-cyan-500 outline-none bg-white"
                >
                  <option value="1w">1 (7)</option>
                  <option value="2w">2 (14)</option>
                  <option value="4w">4 (28)</option>
                  <option value="permanent"> ()</option>
                </select>
              </div>

              <div className="pt-4 flex justify-end gap-3">
                <button
                  type="button"
                  onClick={() => setIsNewsModalOpen(false)}
                  className="px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium"
                >
                  
                </button>
                <button
                  type="submit"
                  className="px-6 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-bold flex items-center gap-2"
                >
                  
                </button>
              </div>
            </form>
          </div>
        </div>
      )}
    </div>
  );
};


--- START OF FILE src\views\InventoryList.tsx ---


'use client';

import React, { useState, useRef, useEffect } from 'react';
import { Eye, EyeOff, Search, Plus, Loader2, Filter, ArrowUpDown, Edit3, Trash2, X, Save, ChevronLeft, ChevronRight, FileText, Image as ImageIcon, ExternalLink, Upload, ChevronsLeft, ChevronsRight, Calendar } from 'lucide-react';
import { Item, News, Product, SortConfig, AppError, ToastType } from '@/types';
import { useAppContext } from '@/context/AppContext';
import { api } from '@/services/api';

interface InventoryListProps {
  isAdmin: boolean;
  handleLoginToggle: () => void;
  news: News[];
  searchKeyword: string;
  setSearchKeyword: (val: string) => void;
  isLoading: boolean;
  addToast: (type: ToastType['type'], title: string, message?: string, errorDetail?: AppError) => void;
  items: Item[]; 
  totalCount: number; 
  currentPage: number;
  setCurrentPage: (page: number) => void;
  pageSize: number;
  selectedCategory: string | null;
  products: Product[];
  sortConfig: SortConfig;
  handleSort: (key: keyof Item) => void;
  setSortDirectly?: (key: keyof Item, direction: 'asc' | 'desc') => void;
  updateStock: (id: number, delta: number) => Promise<void>;
  onAddItem: (item: Omit<Item, 'id' | 'updatedAt'>) => Promise<void>;
  onUpdateItem: (id: number, item: Partial<Item>) => Promise<void>;
  onDeleteItem: (id: number) => Promise<void>;
  showZeroStock: boolean;
  setShowZeroStock: (val: boolean) => void;
}

export const InventoryList: React.FC<InventoryListProps> = ({
  isAdmin,
  handleLoginToggle,
  news,
  searchKeyword,
  setSearchKeyword,
  isLoading,
  addToast,
  items,
  totalCount,
  currentPage,
  setCurrentPage,
  pageSize,
  selectedCategory,
  products,
  sortConfig,
  handleSort,
  setSortDirectly,
  updateStock,
  onAddItem,
  onUpdateItem,
  onDeleteItem,
  showZeroStock,
  setShowZeroStock
}) => {
  const { rarities } = useAppContext();
  const [isModalOpen, setIsModalOpen] = useState(false);
  const [editingItem, setEditingItem] = useState<Item | null>(null);
  
  // CSV Import State
  const fileInputRef = useRef<HTMLInputElement>(null);
  const [isImporting, setIsImporting] = useState(false);

  const [formData, setFormData] = useState({
    name: '',
    cardId: '',
    rarity: 'N',
    stock: 0,
    category: products[0]?.name || ''
  });

  const totalPages = Math.ceil(totalCount / pageSize);

  const getRarityStyle = (rarity: string) => {
    return 'bg-slate-100 text-slate-600 border-slate-200';
  };
  
  const getReleaseDate = (categoryName: string) => {
    return products.find(p => p.name === categoryName)?.releaseDate || '-';
  };

  const openAddModal = () => {
    setEditingItem(null);
    setFormData({
      name: '',
      cardId: '',
      rarity: rarities[0] || 'N',
      stock: 0,
      category: products[0]?.name || ''
    });
    setIsModalOpen(true);
  };

  const openEditModal = (item: Item, e?: React.MouseEvent) => {
    if (e) {
      e.stopPropagation();
      e.preventDefault();
    }
    setEditingItem(item);
    setFormData({
      name: item.name,
      cardId: item.cardId,
      rarity: item.rarity,
      stock: item.stock,
      category: item.category
    });
    setIsModalOpen(true);
  };

  const handleExportCSV = () => {
    addToast('info', 'CSV', '');
    try {
      const BOM = '\uFEFF';
      const headers = ['ID', '', '', '', '', '', '', ''];
      const rows = items.map(item => [
        item.id,
        `"${item.name.replace(/"/g, '""')}"`,
        item.cardId,
        item.rarity,
        item.stock,
        `"${item.category.replace(/"/g, '""')}"`,
        getReleaseDate(item.category),
        item.updatedAt
      ]);
      const csvContent = BOM + [headers.join(','), ...rows.map(r => r.join(','))].join('\n');
      const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
      const link = document.createElement('a');
      const fileName = `inventory_page${currentPage}_${new Date().toISOString().split('T')[0]}.csv`;
      link.href = URL.createObjectURL(blob);
      link.download = fileName;
      link.click();
    } catch (e: any) {
      addToast('error', 'CSV', e.message);
    }
  };

  const handleImportCSVClick = () => {
    fileInputRef.current?.click();
  };

  const handleFileChange = async (e: React.ChangeEvent<HTMLInputElement>) => {
    const file = e.target.files?.[0];
    if (!file) return;

    if (!window.confirm(`${file.name}\nCSVID`)) {
      e.target.value = ''; // Reset
      return;
    }

    setIsImporting(true);
    addToast('info', '', 'CSV...');

    const reader = new FileReader();
    reader.onload = async (event) => {
      try {
        const text = event.target?.result as string;
        const rows = text.split('\n').filter(row => row.trim() !== '');
        
        const updates: { id: number, stock: number }[] = [];
        let successCount = 0;
        let failCount = 0;

        for (let i = 1; i < rows.length; i++) {
          const cols = rows[i].split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/); // 
          
          if (cols.length < 5) continue;

          // CSV: 
          const idStr = cols[0]?.replace(/"/g, '').trim();
          const stockStr = cols[4]?.replace(/"/g, '').trim();

          if (idStr && stockStr) {
            const id = parseInt(idStr);
            const stock = parseInt(stockStr);
            if (!isNaN(id) && !isNaN(stock)) {
              updates.push({ id, stock });
              successCount++;
            } else {
              failCount++;
            }
          }
        }

        if (updates.length > 0) {
          await api.bulkUpdateStock(updates);
          addToast('success', '', `${updates.length}`);
        } else {
          addToast('error', '', 'CSV');
        }

      } catch (err: any) {
        console.error(err);
        addToast('error', '', err.message);
      } finally {
        setIsImporting(false);
        if (fileInputRef.current) fileInputRef.current.value = '';
      }
    };
    reader.readAsText(file);
  };

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    if (!formData.name || !formData.cardId) {
      addToast('error', '', '');
      return;
    }
    
    if (editingItem) {
      await onUpdateItem(editingItem.id, formData);
    } else {
      await onAddItem(formData);
    }
    setIsModalOpen(false);
  };

  const handleDeleteClick = async (id: number, name: string, e?: React.MouseEvent) => {
    if (e) {
      e.stopPropagation();
      e.preventDefault();
    }
    if (window.confirm(`${name}\n`)) {
      await onDeleteItem(id);
    }
  };

  const openImageSearch = (name: string, e: React.MouseEvent) => {
    e.stopPropagation();
    e.preventDefault();
    const query = encodeURIComponent(` ${name}`);
    window.open(`https://www.google.com/search?tbm=isch&q=${query}`, '_blank');
  };

  // Pagination Handlers
  const gotoFirst = () => setCurrentPage(1);
  const gotoLast = () => setCurrentPage(totalPages);
  const prev5 = () => setCurrentPage(Math.max(1, currentPage - 5));
  const next5 = () => setCurrentPage(Math.min(totalPages, currentPage + 5));

  return (
    <div className="p-4 md:p-8 pb-20">
      {/*  */}
      {!isAdmin && (
        <div className="bg-blue-600 text-white px-4 md:px-6 py-3 rounded-lg shadow-md mb-6 flex flex-col md:flex-row items-center justify-between gap-3">
          <div className="flex items-center gap-3">
            <Eye className="text-blue-200 shrink-0" size={24} />
            <div>
              <h3 className="font-bold"></h3>
              <p className="text-sm text-blue-100"></p>
            </div>
          </div>
          <button 
            onClick={handleLoginToggle}
            className="w-full md:w-auto bg-white text-blue-600 px-4 py-2 rounded font-bold text-sm hover:bg-blue-50 transition-colors whitespace-nowrap"
          >
            
          </button>
        </div>
      )}

      {/*  */}
      <div className="bg-white/90 backdrop-blur-md p-4 rounded-xl shadow-sm mb-6 flex flex-col gap-4 sticky top-0 z-10 border border-slate-200/60">
        
        {/* :  */}
        <div className="flex flex-col md:flex-row gap-2 w-full justify-between items-start md:items-center">
          <div className="flex items-center gap-2 bg-slate-100 px-4 py-2 rounded-lg w-full md:max-w-md focus-within:ring-2 focus-within:ring-cyan-400 transition-all">
            <Search size={20} className="text-slate-400 shrink-0" />
            <input 
              type="text" 
              placeholder="..." 
              className="bg-transparent border-none outline-none w-full text-slate-700 placeholder-slate-400"
              value={searchKeyword}
              onChange={(e) => setSearchKeyword(e.target.value)}
            />
          </div>

          <div className="flex gap-2 w-full md:w-auto overflow-x-auto pb-1 md:pb-0">
             {isAdmin && (
               <>
                 <button 
                   onClick={openAddModal}
                   className="flex items-center gap-2 bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg font-medium transition-colors shadow-sm disabled:opacity-50 text-sm whitespace-nowrap active:scale-95 duration-150"
                   disabled={isLoading}
                 >
                   <Plus size={18} /> <span className="hidden sm:inline"></span>
                 </button>

                 <button 
                   onClick={handleImportCSVClick}
                   className="flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg font-medium transition-colors shadow-sm text-sm whitespace-nowrap active:scale-95 duration-150"
                   title="CSV"
                   disabled={isImporting || isLoading}
                 >
                   {isImporting ? <Loader2 size={18} className="animate-spin" /> : <Upload size={18} />}
                   <span className="hidden sm:inline">(CSV)</span>
                 </button>
                 <input 
                   type="file" 
                   ref={fileInputRef} 
                   onChange={handleFileChange} 
                   accept=".csv" 
                   className="hidden" 
                 />

                 <button 
                   onClick={handleExportCSV}
                   className="flex items-center gap-2 bg-slate-200 hover:bg-slate-300 text-slate-600 px-3 py-2 rounded-lg font-medium transition-colors shadow-sm text-sm whitespace-nowrap active:scale-95 duration-150"
                   title="CSV"
                 >
                   <FileText size={18} />
                 </button>
               </>
             )}
          </div>
        </div>
        
        {/* :  */}
        <div className="flex flex-col sm:flex-row gap-2 justify-between items-start sm:items-center text-sm border-t border-slate-100 pt-3">
          <div className="flex gap-2 items-center w-full sm:w-auto">
             {/*  */}
             <div className="relative group">
                <div className="flex items-center gap-2 bg-slate-50 border border-slate-200 px-3 py-1.5 rounded-lg text-slate-700 cursor-pointer hover:bg-slate-100">
                  <ArrowUpDown size={14} />
                  <span>
                    {sortConfig.key === 'id' && sortConfig.direction === 'desc' ? ' ()' :
                     sortConfig.key === 'id' && sortConfig.direction === 'asc' ? '' :
                     sortConfig.key === 'name' ? '' :
                     sortConfig.key === 'cardId' ? '' :
                     sortConfig.key === 'stock' ? '' :
                     sortConfig.key === 'updatedAt' ? '' : ''}
                  </span>
                </div>
                
                {/*  */}
                <div className="absolute top-full left-0 mt-1 w-48 bg-white border border-slate-200 rounded-lg shadow-xl overflow-hidden hidden group-hover:block z-20">
                   {setSortDirectly && (
                     <>
                       <button onClick={() => setSortDirectly('id', 'desc')} className="w-full text-left px-4 py-2 hover:bg-cyan-50 text-slate-700 font-bold bg-slate-50"> ()</button>
                       <button onClick={() => setSortDirectly('updatedAt', 'desc')} className="w-full text-left px-4 py-2 hover:bg-cyan-50 text-slate-700"></button>
                       <button onClick={() => setSortDirectly('stock', 'desc')} className="w-full text-left px-4 py-2 hover:bg-cyan-50 text-slate-700"></button>
                       <button onClick={() => setSortDirectly('stock', 'asc')} className="w-full text-left px-4 py-2 hover:bg-cyan-50 text-slate-700"></button>
                       <button onClick={() => setSortDirectly('name', 'asc')} className="w-full text-left px-4 py-2 hover:bg-cyan-50 text-slate-700"></button>
                       <button onClick={() => setSortDirectly('cardId', 'asc')} className="w-full text-left px-4 py-2 hover:bg-cyan-50 text-slate-700"></button>
                     </>
                   )}
                </div>
             </div>

             {/* 0 */}
             <button
              onClick={() => setShowZeroStock(!showZeroStock)}
              className={`flex items-center gap-2 px-3 py-1.5 rounded-lg border transition-colors ${
                showZeroStock
                  ? 'bg-slate-50 text-slate-600 border-slate-200'
                  : 'bg-slate-700 text-white border-slate-700'
              }`}
             >
               {showZeroStock ? <Eye size={14} /> : <EyeOff size={14} />}
               <span>{showZeroStock ? '0' : '0'}</span>
             </button>
          </div>

          {selectedCategory && (
            <div className="flex items-center gap-2 text-slate-600 bg-cyan-50 px-3 py-1.5 rounded-lg border border-cyan-100">
              <Filter size={14} className="text-cyan-600" />
              <span className="font-bold text-cyan-800">
                {products.find(p => p.name === selectedCategory)?.name || selectedCategory}
              </span>
            </div>
          )}
        </div>
      </div>
      
      {/* ... () ... */}
      {/* Table view etc */}
      {isLoading && (
        <div className="fixed inset-0 bg-white/50 backdrop-blur-sm z-40 flex items-center justify-center pointer-events-none">
          <div className="bg-white p-4 rounded-lg shadow-xl flex items-center gap-3 border border-slate-200">
            <Loader2 className="animate-spin text-cyan-600" size={24} />
            <span className="font-bold text-slate-700">...</span>
          </div>
        </div>
      )}

      {/*  () */}
      <div className="flex justify-between items-center mb-4 text-sm text-slate-500">
         <div>
           {totalCount > 0 ? (
             <span>
                <b>{totalCount.toLocaleString()}</b> 
               <b> {(currentPage - 1) * pageSize + 1} - {Math.min(currentPage * pageSize, totalCount)}</b> 
             </span>
           ) : (
             <span></span>
           )}
         </div>
      </div>

      {/* PC:  */}
      <div className="hidden md:block bg-white rounded-xl shadow-sm overflow-hidden border border-slate-200 overflow-x-auto relative z-0">
        <table className="w-full text-left border-collapse min-w-[700px]">
          <thead>
            <tr className="bg-slate-50 border-b border-slate-200 text-slate-500 text-sm uppercase tracking-wider">
              {['releaseDate', 'cardId', 'name', 'rarity', 'stock', 'category'].map((key) => (
                <th key={key} className="p-4 cursor-pointer hover:bg-slate-100 transition-colors group" onClick={key === 'releaseDate' ? undefined : () => handleSort(key as keyof Item)}>
                  <div className="flex items-center gap-1">
                    {key === 'releaseDate' ? '' : key === 'cardId' ? '' : key === 'name' ? '' : key === 'rarity' ? '' : key === 'stock' ? '' : ''}
                    {key !== 'releaseDate' && (
                        <ArrowUpDown size={14} className={`opacity-0 group-hover:opacity-100 ${sortConfig.key === key ? 'opacity-100 text-cyan-600' : ''}`} />
                    )}
                  </div>
                </th>
              ))}
              <th className="p-4 text-center"></th>
            </tr>
          </thead>
          <tbody className="divide-y divide-slate-100">
            {items.length === 0 ? (
              <tr>
                <td colSpan={7} className="p-12 text-center text-slate-400">
                  <div className="flex flex-col items-center gap-2">
                    <Search size={32} className="opacity-20" />
                    <p></p>
                  </div>
                </td>
              </tr>
            ) : (
              items.map(item => (
                <tr key={item.id} className="hover:bg-cyan-50/30 transition-colors group">
                  <td className="p-4 font-mono text-slate-500 text-sm">{getReleaseDate(item.category)}</td>
                  <td className="p-4 font-mono text-slate-600 font-medium">{item.cardId}</td>
                  <td className="p-4 font-bold text-slate-800 flex items-center gap-2">
                     {item.name}
                     <button 
                       onClick={(e) => openImageSearch(item.name, e)}
                       className="opacity-0 group-hover:opacity-100 text-slate-400 hover:text-cyan-600 transition-opacity"
                       title="Google"
                     >
                       <ImageIcon size={16} />
                     </button>
                  </td>
                  <td className="p-4">
                    <span className={`px-2 py-1 rounded-md text-xs font-bold border ${getRarityStyle(item.rarity)}`}>
                      {item.rarity}
                    </span>
                  </td>
                  <td className="p-4">
                    <div className="flex items-center gap-3">
                      {isAdmin && (
                        <button 
                          type="button"
                          onClick={() => updateStock(item.id, -1)}
                          disabled={isLoading}
                          className="w-8 h-8 flex items-center justify-center rounded-full bg-slate-100 text-slate-600 hover:bg-red-100 hover:text-red-600 transition-colors disabled:opacity-50"
                        >
                          -
                        </button>
                      )}
                      
                      <span className={`font-bold text-lg w-8 text-center ${item.stock === 0 ? 'text-red-500 opacity-50' : 'text-slate-700'}`}>
                        {item.stock}
                      </span>
                      
                      {isAdmin && (
                        <button 
                          type="button"
                          onClick={() => updateStock(item.id, 1)}
                          disabled={isLoading}
                          className="w-8 h-8 flex items-center justify-center rounded-full bg-slate-100 text-slate-600 hover:bg-blue-100 hover:text-blue-600 transition-colors disabled:opacity-50"
                        >
                          +
                        </button>
                      )}
                    </div>
                  </td>
                  <td className="p-4 text-sm text-slate-500">
                    {products.find(p => p.name === item.category)?.name || item.category}
                  </td>
                  <td className="p-4 text-center">
                    {isAdmin ? (
                      <div className="flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                        <button 
                          type="button"
                          onClick={(e) => openEditModal(item, e)}
                          className="bg-slate-100 hover:bg-cyan-100 text-slate-400 hover:text-cyan-600 p-2 rounded transition-colors" 
                          title=""
                        >
                          <Edit3 size={18} />
                        </button>
                        <button 
                          type="button"
                          onClick={(e) => handleDeleteClick(item.id, item.name, e)}
                          className="bg-slate-100 hover:bg-red-100 text-slate-400 hover:text-red-600 p-2 rounded transition-colors" 
                          title=""
                        >
                          <Trash2 size={18} />
                        </button>
                      </div>
                    ) : (
                      <span className="text-xs text-slate-300">-</span>
                    )}
                  </td>
                </tr>
              ))
            )}
          </tbody>
        </table>
      </div>

      {/*  */}
      <div className="md:hidden space-y-4">
        {items.length === 0 ? (
          <div className="p-8 text-center text-slate-400 bg-white rounded-xl shadow-sm border border-slate-200">
             <div className="flex flex-col items-center gap-2">
                <Search size={32} className="opacity-20" />
                <p></p>
             </div>
          </div>
        ) : (
          items.map(item => (
            <div key={item.id} className="bg-white p-4 rounded-xl shadow-sm border border-slate-200">
              <div className="flex justify-between items-start mb-2">
                 <div className="flex-1 mr-2">
                   <div className="font-bold text-lg text-slate-800 leading-tight mb-1 flex items-center gap-2">
                     {item.name}
                     <button 
                        onClick={(e) => openImageSearch(item.name, e)}
                        className="text-slate-400 hover:text-cyan-600 p-1 bg-slate-50 rounded-full"
                     >
                       <ImageIcon size={14} />
                     </button>
                   </div>
                   <div className="text-xs font-mono text-slate-500 bg-slate-100 inline-block px-1.5 py-0.5 rounded mr-2">{item.cardId}</div>
                   <span className="text-xs font-mono text-slate-400 inline-flex items-center gap-1">
                      <Calendar size={10} /> {getReleaseDate(item.category)}
                   </span>
                 </div>
                 <span className={`px-2 py-1 rounded text-xs font-bold border shrink-0 ${getRarityStyle(item.rarity)}`}>
                   {item.rarity}
                 </span>
              </div>
              
              <div className="text-sm text-slate-600 mb-4 pb-3 border-b border-slate-100">
                 <span className="text-slate-400 text-xs mr-1">:</span>
                 {products.find(p => p.name === item.category)?.name || item.category}
              </div>
              
              <div className="flex justify-between items-center">
                <div className="text-xs text-slate-400">
                  : {item.updatedAt.substring(5, 10)}
                </div>
                <div className="flex items-center gap-3">
                   {isAdmin ? (
                     <>
                       <button 
                         onClick={() => updateStock(item.id, -1)}
                         disabled={isLoading}
                         className="w-10 h-10 flex items-center justify-center rounded-full bg-slate-100 text-slate-600 hover:bg-red-100 hover:text-red-600 active:bg-red-200 transition-colors disabled:opacity-50"
                       >
                         -
                       </button>
                       <span className={`font-bold text-xl w-8 text-center ${item.stock === 0 ? 'text-red-500 opacity-50' : 'text-slate-800'}`}>
                         {item.stock}
                       </span>
                       <button 
                         onClick={() => updateStock(item.id, 1)}
                         disabled={isLoading}
                         className="w-10 h-10 flex items-center justify-center rounded-full bg-slate-100 text-slate-600 hover:bg-blue-100 hover:text-blue-600 active:bg-blue-200 transition-colors disabled:opacity-50"
                       >
                         +
                       </button>
                     </>
                   ) : (
                     <div className="flex items-center gap-2">
                        <span className="text-xs text-slate-400">:</span>
                        <span className={`font-bold text-xl ${item.stock === 0 ? 'text-red-500' : 'text-slate-800'}`}>
                          {item.stock}
                        </span>
                     </div>
                   )}
                </div>
              </div>
              
               {isAdmin && (
                 <div className="mt-3 flex justify-end gap-2 pt-2 border-t border-slate-50 border-dashed">
                   <button 
                     onClick={(e) => openEditModal(item, e)}
                     className="flex-1 py-2 text-sm text-slate-500 hover:text-cyan-600 hover:bg-slate-50 rounded flex items-center justify-center gap-1 active:bg-slate-100"
                   >
                     <Edit3 size={16} /> 
                   </button>
                   <div className="w-px bg-slate-200 my-1"></div>
                   <button 
                     onClick={(e) => handleDeleteClick(item.id, item.name, e)}
                     className="flex-1 py-2 text-sm text-slate-500 hover:text-red-600 hover:bg-red-50 rounded flex items-center justify-center gap-1 active:bg-red-100"
                   >
                     <Trash2 size={16} /> 
                   </button>
                 </div>
               )}
            </div>
          ))
        )}
      </div>

      {/*  () */}
      <div className="flex justify-center items-center mt-8 text-sm text-slate-500">
         <div className="flex items-center gap-2 bg-white px-4 py-2 rounded-full shadow-sm border border-slate-100">
           {/*  */}
           <button
             onClick={gotoFirst}
             disabled={currentPage === 1 || isLoading}
             className="p-2 rounded-full hover:bg-slate-100 disabled:opacity-30 disabled:hover:bg-transparent transition-colors"
             title=""
           >
             <ChevronsLeft size={20} />
           </button>
           
           {/* 5 */}
           <button
             onClick={prev5}
             disabled={currentPage === 1 || isLoading}
             className="p-2 rounded-full hover:bg-slate-100 disabled:opacity-30 disabled:hover:bg-transparent transition-colors text-xs font-bold w-10"
             title="5"
           >
             -5
           </button>

           {/*  */}
           <button
             onClick={() => setCurrentPage(Math.max(1, currentPage - 1))}
             disabled={currentPage === 1 || isLoading}
             className="p-2 rounded-full hover:bg-slate-100 disabled:opacity-30 disabled:hover:bg-transparent transition-colors"
           >
             <ChevronLeft size={20} />
           </button>

           <span className="font-bold text-slate-800 text-base mx-2">
             {currentPage} <span className="text-slate-400 text-sm font-normal">/ {Math.max(1, totalPages)}</span>
           </span>

           {/*  */}
           <button
             onClick={() => setCurrentPage(Math.min(totalPages, currentPage + 1))}
             disabled={currentPage >= totalPages || isLoading}
             className="p-2 rounded-full hover:bg-slate-100 disabled:opacity-30 disabled:hover:bg-transparent transition-colors"
           >
             <ChevronRight size={20} />
           </button>

           {/* 5 */}
           <button
             onClick={next5}
             disabled={currentPage >= totalPages || isLoading}
             className="p-2 rounded-full hover:bg-slate-100 disabled:opacity-30 disabled:hover:bg-transparent transition-colors text-xs font-bold w-10"
             title="5"
           >
             +5
           </button>

           {/*  */}
           <button
             onClick={gotoLast}
             disabled={currentPage >= totalPages || isLoading}
             className="p-2 rounded-full hover:bg-slate-100 disabled:opacity-30 disabled:hover:bg-transparent transition-colors"
             title=""
           >
             <ChevronsRight size={20} />
           </button>
         </div>
      </div>

      {/*  */}
      {isModalOpen && (
        <div className="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-in fade-in duration-200">
          <div className="bg-white rounded-xl shadow-2xl max-w-lg w-full overflow-hidden">
            <div className="bg-slate-50 p-4 border-b border-slate-100 flex justify-between items-center">
              <h3 className="font-bold text-lg text-slate-800 flex items-center gap-2">
                {editingItem ? <Edit3 className="text-cyan-600" /> : <Plus className="text-cyan-600" />}
                {editingItem ? '' : ''}
              </h3>
              <button onClick={() => setIsModalOpen(false)} className="text-slate-400 hover:text-slate-600">
                <X size={24} />
              </button>
            </div>
            
            <form onSubmit={handleSubmit} className="p-6 space-y-4">
              <div className="grid grid-cols-2 gap-4">
                <div className="col-span-2">
                  <label className="block text-sm font-bold text-slate-700 mb-1"></label>
                  <input
                    type="text"
                    required
                    value={formData.name}
                    onChange={(e) => setFormData({...formData, name: e.target.value})}
                    className="w-full border border-slate-300 rounded px-3 py-2 focus:ring-2 focus:ring-cyan-500 outline-none"
                    placeholder=": "
                  />
                </div>
                
                <div>
                  <label className="block text-sm font-bold text-slate-700 mb-1"></label>
                  <input
                    type="text"
                    required
                    value={formData.cardId}
                    onChange={(e) => setFormData({...formData, cardId: e.target.value.toUpperCase()})}
                    className="w-full border border-slate-300 rounded px-3 py-2 focus:ring-2 focus:ring-cyan-500 outline-none font-mono"
                    placeholder=": SM-51"
                  />
                </div>
                
                <div>
                  <label className="block text-sm font-bold text-slate-700 mb-1"></label>
                  <select
                    value={formData.rarity}
                    onChange={(e) => setFormData({...formData, rarity: e.target.value})}
                    className="w-full border border-slate-300 rounded px-3 py-2 focus:ring-2 focus:ring-cyan-500 outline-none"
                  >
                    {rarities.map(r => ( // Contextrarities
                      <option key={r} value={r}>{r}</option>
                    ))}
                  </select>
                </div>

                <div className="col-span-2">
                  <label className="block text-sm font-bold text-slate-700 mb-1"> / </label>
                  <select
                    value={formData.category}
                    onChange={(e) => setFormData({...formData, category: e.target.value})}
                    className="w-full border border-slate-300 rounded px-3 py-2 focus:ring-2 focus:ring-cyan-500 outline-none"
                  >
                    {products.map(p => (
                      <option key={p.id} value={p.name}>{p.name}</option>
                    ))}
                    {!products.some(p => p.name === formData.category) && formData.category && (
                      <option value={formData.category}>{formData.category}</option>
                    )}
                  </select>
                </div>

                <div>
                  <label className="block text-sm font-bold text-slate-700 mb-1">
                    {editingItem ? '' : ''}
                  </label>
                  <input
                    type="number"
                    min="0"
                    value={formData.stock}
                    onChange={(e) => setFormData({...formData, stock: parseInt(e.target.value) || 0})}
                    className="w-full border border-slate-300 rounded px-3 py-2 focus:ring-2 focus:ring-cyan-500 outline-none"
                  />
                </div>
              </div>

              <div className="pt-4 flex justify-end gap-3">
                <button
                  type="button"
                  onClick={() => setIsModalOpen(false)}
                  className="px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium"
                >
                  
                </button>
                <button
                  type="submit"
                  disabled={isLoading}
                  className="px-6 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-bold flex items-center gap-2 disabled:opacity-50"
                >
                  {isLoading ? <Loader2 className="animate-spin" size={18} /> : <Save size={18} />}
                  {editingItem ? '' : ''}
                </button>
              </div>
            </form>
          </div>
        </div>
      )}
    </div>
  );
};


--- START OF FILE src\views\ProductsView.tsx ---

'use client';

import React, { useState } from 'react';
import { Product } from '../types';
import { Menu, Plus, Edit3, Trash2, X, Save, Eye, EyeOff } from 'lucide-react';
import { useAppContext } from '../context/AppContext';

interface ProductsViewProps {
  products: Product[];
}

export const ProductsView: React.FC<ProductsViewProps> = ({ products }) => {
  const { addProduct, updateProduct, deleteProduct, isAdmin } = useAppContext();
  const [isModalOpen, setIsModalOpen] = useState(false);
  const [editingProduct, setEditingProduct] = useState<Product | null>(null);
  
  const [formData, setFormData] = useState({
    name: '',
    releaseDate: '',
    isSidebarVisible: true
  });

  const openAddModal = () => {
    setEditingProduct(null);
    setFormData({
      name: '',
      releaseDate: new Date().toISOString().split('T')[0],
      isSidebarVisible: true
    });
    setIsModalOpen(true);
  };

  const openEditModal = (product: Product) => {
    setEditingProduct(product);
    setFormData({
      name: product.name,
      releaseDate: product.releaseDate,
      isSidebarVisible: product.isSidebarVisible
    });
    setIsModalOpen(true);
  };

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    if (editingProduct) {
      await updateProduct(editingProduct.id, formData);
    } else {
      await addProduct(formData);
    }
    setIsModalOpen(false);
  };

  const handleDelete = async (id: string, name: string) => {
    if (window.confirm(`${name}\n`)) {
      await deleteProduct(id);
    }
  };

  const sortedProducts = [...products].sort((a, b) => 
    new Date(b.releaseDate).getTime() - new Date(a.releaseDate).getTime()
  );

  if (!isAdmin) {
    return (
      <div className="p-8 text-center text-slate-500">
        <p></p>
      </div>
    );
  }

  return (
    <div className="p-4 md:p-8 max-w-5xl mx-auto pb-24">
      <div className="flex justify-between items-center mb-6">
        <h2 className="text-2xl font-bold text-slate-800 flex items-center gap-2">
          <Menu /> 
        </h2>
        <button 
          onClick={openAddModal}
          className="bg-cyan-600 text-white px-4 py-2 rounded-lg font-bold hover:bg-cyan-700 flex items-center gap-2 shadow-sm"
        >
          <Plus size={18} /> 
        </button>
      </div>

      <div className="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
        <div className="overflow-x-auto">
          <table className="w-full text-left border-collapse">
            <thead>
              <tr className="bg-slate-50 border-b border-slate-200 text-slate-500 text-sm font-medium">
                <th className="p-4 w-32"></th>
                <th className="p-4"> ()</th>
                <th className="p-4 w-24 text-center"></th>
                <th className="p-4 w-32 text-center"></th>
              </tr>
            </thead>
            <tbody className="divide-y divide-slate-100">
              {sortedProducts.map(p => (
                <tr key={p.id} className="hover:bg-slate-50 transition-colors">
                  <td className="p-4 font-mono text-slate-600 text-sm">{p.releaseDate}</td>
                  <td className="p-4 font-bold text-slate-800">{p.name}</td>
                  <td className="p-4 text-center">
                    {p.isSidebarVisible ? (
                      <span className="inline-flex items-center gap-1 px-2 py-1 bg-green-50 text-green-700 rounded-full text-xs font-bold">
                        <Eye size={12} /> ON
                      </span>
                    ) : (
                      <span className="inline-flex items-center gap-1 px-2 py-1 bg-slate-100 text-slate-500 rounded-full text-xs font-bold">
                        <EyeOff size={12} /> OFF
                      </span>
                    )}
                  </td>
                  <td className="p-4 text-center">
                    <div className="flex items-center justify-center gap-2">
                      <button 
                        onClick={() => openEditModal(p)}
                        className="p-2 text-slate-400 hover:text-cyan-600 hover:bg-cyan-50 rounded transition-colors"
                      >
                        <Edit3 size={18} />
                      </button>
                      <button 
                        onClick={() => handleDelete(p.id, p.name)}
                        className="p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors"
                      >
                        <Trash2 size={18} />
                      </button>
                    </div>
                  </td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      </div>

      {isModalOpen && (
        <div className="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-in fade-in duration-200">
          <div className="bg-white rounded-xl shadow-2xl max-w-md w-full overflow-hidden">
            <div className="bg-slate-50 p-4 border-b border-slate-100 flex justify-between items-center">
              <h3 className="font-bold text-lg text-slate-800">
                {editingProduct ? '' : ''}
              </h3>
              <button onClick={() => setIsModalOpen(false)} className="text-slate-400 hover:text-slate-600">
                <X size={24} />
              </button>
            </div>
            
            <form onSubmit={handleSubmit} className="p-6 space-y-4">
              <div>
                <label className="block text-sm font-bold text-slate-700 mb-1"> ()</label>
                <input
                  type="text"
                  required
                  value={formData.name}
                  onChange={(e) => setFormData({...formData, name: e.target.value})}
                  className="w-full border border-slate-300 rounded px-3 py-2 focus:ring-2 focus:ring-cyan-500 outline-none"
                  placeholder=": "
                  disabled={!!editingProduct} // PK
                />
                {editingProduct && <p className="text-xs text-slate-400 mt-1"></p>}
              </div>

              <div>
                <label className="block text-sm font-bold text-slate-700 mb-1"></label>
                <input
                  type="date"
                  required
                  value={formData.releaseDate}
                  onChange={(e) => setFormData({...formData, releaseDate: e.target.value})}
                  className="w-full border border-slate-300 rounded px-3 py-2 focus:ring-2 focus:ring-cyan-500 outline-none"
                />
              </div>

              <div className="flex items-center gap-2 pt-2">
                <input
                  type="checkbox"
                  id="isVisible"
                  checked={formData.isSidebarVisible}
                  onChange={(e) => setFormData({...formData, isSidebarVisible: e.target.checked})}
                  className="w-4 h-4 text-cyan-600 rounded focus:ring-cyan-500 border-gray-300"
                />
                <label htmlFor="isVisible" className="text-sm font-medium text-slate-700 cursor-pointer">
                  
                </label>
              </div>

              <div className="pt-4 flex justify-end gap-3">
                <button
                  type="button"
                  onClick={() => setIsModalOpen(false)}
                  className="px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium"
                >
                  
                </button>
                <button
                  type="submit"
                  className="px-6 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-bold flex items-center gap-2"
                >
                  <Save size={18} /> 
                </button>
              </div>
            </form>
          </div>
        </div>
      )}
    </div>
  );
};

--- START OF FILE src\views\ScraperView.tsx ---


'use client';

import React, { useState, useEffect } from 'react';
import { Download, Zap, RefreshCw, Check, Loader2, Save, Trash2, Copy, Plus, Database, ArrowRight, Bookmark } from 'lucide-react';
import { AppError, ToastType, Item } from '../types';
import { api } from '../services/api';
import { useAppContext } from '../context/AppContext';

interface ScraperViewProps {
  isLoading: boolean;
  addToast: (type: ToastType['type'], title: string, message?: string, errorDetail?: AppError) => void;
}

// 
interface ScrapedItem extends Omit<Item, 'id' | 'updatedAt'> {
  _tempId: string;
}

// 
const PRESET_PACKS = [
  { name: 'SUPREME DARKNESS (2024)', url: 'https://yugioh-wiki.net/index.php?SUPREME%20DARKNESS' },
  { name: 'RAGE OF THE ABYSS (2024)', url: 'https://yugioh-wiki.net/index.php?RAGE%20OF%20THE%20ABYSS' },
  { name: 'INFINITE FORBIDDEN (2024)', url: 'https://yugioh-wiki.net/index.php?THE%20INFINITE%20FORBIDDEN' },
  { name: 'LEGACY OF DESTRUCTION (2024)', url: 'https://yugioh-wiki.net/index.php?LEGACY%20OF%20DESTRUCTION' },
  { name: 'PHANTOM NIGHTMARE (2023)', url: 'https://yugioh-wiki.net/index.php?PHANTOM%20NIGHTMARE' },
  { name: 'QUARTER CENTURY CHRONICLE side:PRIDE', url: 'https://yugioh-wiki.net/index.php?QUARTER%20CENTURY%20CHRONICLE%20side%3APRIDE' },
  { name: 'QUARTER CENTURY CHRONICLE side:UNITY', url: 'https://yugioh-wiki.net/index.php?QUARTER%20CENTURY%20CHRONICLE%20side%3AUNITY' },
];

export const ScraperView: React.FC<ScraperViewProps> = ({ isLoading: globalIsLoading, addToast }) => {
  const { products, refreshProducts, rarities } = useAppContext(); // rarities
  const [url, setUrl] = useState("");
  const [isAnalyzing, setIsAnalyzing] = useState(false);
  
  const [scrapedItems, setScrapedItems] = useState<ScrapedItem[]>([]);
  const [importStatus, setImportStatus] = useState<'idle' | 'importing' | 'done'>('idle');
  
  // 
  const [productMode, setProductMode] = useState<'existing' | 'new'>('existing');
  const [selectedProductId, setSelectedProductId] = useState("");
  const [newProductData, setNewProductData] = useState({
    name: '', 
    releaseDate: new Date().toISOString().split('T')[0]
  });

  const loadPreset = (presetUrl: string) => {
    setUrl(presetUrl);
    addToast('info', 'URL', 'URL');
  };

  const analyzeUrl = async () => {
    if (!url) {
      addToast('error', 'URL', 'WikiURL');
      return;
    }

    setIsAnalyzing(true);
    setScrapedItems([]);
    setImportStatus('idle');

    try {
      const response = await fetch('/api/scrape', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ url })
      });

      const data = await response.json();

      if (!response.ok) {
        throw new Error(data.details || data.error || '');
      }

      if (data.items && Array.isArray(data.items)) {
        // ID
        const itemsWithIds: ScrapedItem[] = data.items.map((item: any) => ({
          name: item.name || '',
          cardId: item.cardId || '',
          rarity: item.rarity || 'N',
          stock: item.stock || 0,
          category: item.category || '',
          _tempId: crypto.randomUUID ? crypto.randomUUID() : Math.random().toString(36).substring(2)
        }));

        setScrapedItems(itemsWithIds);
        
        // 
        if (itemsWithIds.length > 0 && itemsWithIds[0].category) {
           const scrapedCategory = itemsWithIds[0].category;
           const match = products.find(p => p.name === scrapedCategory);
           
           if (match) {
             setProductMode('existing');
             setSelectedProductId(match.id);
             addToast('success', '', `${itemsWithIds.length}${match.name}`);
           } else {
             setProductMode('new');
             setNewProductData(prev => ({ 
               ...prev, 
               name: scrapedCategory 
             }));
             addToast('success', '', `${itemsWithIds.length}`);
           }
        } else {
            addToast('success', '', `${itemsWithIds.length}`);
        }

      } else {
        throw new Error('');
      }

    } catch (e: any) {
      addToast('error', 'Wiki', e.message, {
        code: 'SCRAPE_ERROR',
        message: e.message,
        timestamp: new Date().toLocaleString()
      });
    } finally {
      setIsAnalyzing(false);
    }
  };

  const handleImport = async () => {
    if (scrapedItems.length === 0) return;
    
    if (productMode === 'existing' && !selectedProductId) {
      addToast('error', '', '');
      return;
    }
    if (productMode === 'new' && (!newProductData.name || !newProductData.releaseDate)) {
       addToast('error', '', '');
       return;
    }

    if (!window.confirm(`${scrapedItems.length}`)) {
      return;
    }

    setImportStatus('importing');
    
    try {
      let categoryName = "";

      if (productMode === 'new') {
        const newProduct = await api.addProduct({
          name: newProductData.name,
          releaseDate: newProductData.releaseDate,
          isSidebarVisible: true
        });
        categoryName = newProduct.name;
        await refreshProducts();
        addToast('success', '', `${newProduct.name}`);
      } else {
        const p = products.find(p => p.id === selectedProductId);
        categoryName = p ? p.name : "";
      }

      if (!categoryName) throw new Error("");

      let successCount = 0;
      for (const item of scrapedItems) {
        const itemToSave = {
            name: item.name,
            cardId: item.cardId,
            rarity: item.rarity,
            stock: item.stock,
            category: categoryName
        };
        await api.addItem(itemToSave);
        successCount++;
      }
      
      addToast('success', '', `${successCount}`);
      setImportStatus('done');

    } catch (e: any) {
      addToast('error', '', `: ${e.message}`);
      setImportStatus('idle');
    }
  };

  // IDindex
  const updateItem = (id: string, field: keyof ScrapedItem, value: any) => {
    setScrapedItems(prev => prev.map(item => 
      item._tempId === id ? { ...item, [field]: value } : item
    ));
  };

  const removeItem = (id: string) => {
    setScrapedItems(prev => prev.filter(item => item._tempId !== id));
  };

  const duplicateItem = (index: number) => {
    setScrapedItems(prev => {
      const newItems = [...prev];
      const source = newItems[index];
      const newItem = { 
        ...source,
        _tempId: crypto.randomUUID ? crypto.randomUUID() : Math.random().toString(36).substring(2)
      };
      newItems.splice(index + 1, 0, newItem);
      return newItems;
    });
  };

  const addNewRow = () => {
    setScrapedItems(prev => [...prev, { 
      name: '', 
      cardId: '', 
      rarity: 'N', 
      stock: 0, 
      category: '',
      _tempId: crypto.randomUUID ? crypto.randomUUID() : Math.random().toString(36).substring(2)
    }]);
  };

  const sortedProducts = [...products].sort((a, b) => new Date(b.releaseDate).getTime() - new Date(a.releaseDate).getTime());

  return (
    <div className="p-4 md:p-8 max-w-6xl mx-auto pb-24">
      <h2 className="text-2xl font-bold text-slate-800 mb-6 flex items-center gap-2">
        <Download /> Wiki (Gemini Powered)
      </h2>
      
      <div className="bg-white p-6 rounded-xl shadow-sm border border-slate-200 mb-8">
        <div className="bg-blue-50 border-l-4 border-blue-500 p-4 mb-6 text-sm text-blue-800">
           <div className="font-bold mb-1 flex items-center gap-2"><Zap size={16}/> Gemini 3 Flash</div>
           <p>WikiURL</p>
        </div>

        <label className="block text-sm font-bold text-slate-700 mb-2">Wiki URL</label>
        <div className="flex flex-col md:flex-row gap-2 mb-4">
          <input 
            type="text" 
            value={url}
            onChange={(e) => setUrl(e.target.value)}
            className="flex-1 border border-slate-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500 font-mono text-slate-600"
            placeholder="https://yugioh-wiki.net/index.php?..."
          />
          <button 
            onClick={analyzeUrl}
            disabled={isAnalyzing || globalIsLoading}
            className="bg-cyan-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-cyan-700 flex items-center justify-center gap-2 disabled:opacity-50 min-w-[140px]"
          >
            {isAnalyzing ? <Loader2 className="animate-spin" size={18} /> : <RefreshCw size={18} />}
            {isAnalyzing ? '...' : ''}
          </button>
        </div>

        {/*  */}
        <div className="border-t border-slate-100 pt-4">
          <div className="text-xs font-bold text-slate-500 mb-2 flex items-center gap-1">
            <Bookmark size={12} />  (URL)
          </div>
          <div className="flex flex-wrap gap-2">
            {PRESET_PACKS.map((pack) => (
              <button
                key={pack.name}
                onClick={() => loadPreset(pack.url)}
                disabled={isAnalyzing}
                className="text-xs px-3 py-1.5 bg-slate-50 hover:bg-cyan-50 text-slate-600 hover:text-cyan-700 border border-slate-200 rounded-full transition-colors whitespace-nowrap"
              >
                {pack.name}
              </button>
            ))}
          </div>
        </div>
      </div>

      {scrapedItems.length > 0 && (
        <div className="animate-in fade-in slide-in-from-bottom-4 duration-500 space-y-6">
          
          <div className="bg-slate-800 text-white p-6 rounded-xl shadow-lg border border-slate-700">
            <h3 className="font-bold text-lg mb-4 flex items-center gap-2 text-cyan-400">
              <Database size={20} /> 
            </h3>
            
            <div className="flex flex-col md:flex-row gap-6">
              <div className="flex-1">
                <div className="flex gap-4 mb-3 text-sm">
                  <label className="flex items-center gap-2 cursor-pointer">
                    <input 
                      type="radio" 
                      checked={productMode === 'existing'} 
                      onChange={() => setProductMode('existing')}
                      className="text-cyan-500 focus:ring-cyan-500 accent-cyan-500"
                    />
                    <span></span>
                  </label>
                  <label className="flex items-center gap-2 cursor-pointer">
                    <input 
                      type="radio" 
                      checked={productMode === 'new'} 
                      onChange={() => setProductMode('new')}
                      className="text-cyan-500 focus:ring-cyan-500 accent-cyan-500"
                    />
                    <span></span>
                  </label>
                </div>

                {productMode === 'existing' ? (
                  <select
                    value={selectedProductId}
                    onChange={(e) => setSelectedProductId(e.target.value)}
                    className="w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"
                  >
                    <option value="">--  --</option>
                    {sortedProducts.map(p => (
                      <option key={p.id} value={p.id}>
                        {p.name} ({p.releaseDate})
                      </option>
                    ))}
                  </select>
                ) : (
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                    <div>
                      <label className="block text-xs text-slate-400 mb-1"> ()</label>
                      <input 
                        type="text"
                        value={newProductData.name}
                        onChange={(e) => setNewProductData({...newProductData, name: e.target.value})}
                        className="w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"
                      />
                    </div>
                    <div>
                      <label className="block text-xs text-slate-400 mb-1"></label>
                      <input 
                        type="date"
                        value={newProductData.releaseDate}
                        onChange={(e) => setNewProductData({...newProductData, releaseDate: e.target.value})}
                        className="w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"
                      />
                    </div>
                  </div>
                )}
              </div>

              <div className="flex items-end">
                 <button 
                   onClick={handleImport}
                   disabled={importStatus !== 'idle'}
                   className={`
                     w-full md:w-auto flex items-center justify-center gap-2 px-6 py-3 rounded-lg font-bold text-white transition-all shadow-md
                     ${importStatus === 'done' ? 'bg-green-600' : 'bg-cyan-600 hover:bg-cyan-500'}
                     disabled:opacity-50 disabled:cursor-not-allowed
                   `}
                 >
                   {importStatus === 'importing' ? <Loader2 className="animate-spin" size={20} /> : 
                    importStatus === 'done' ? <Check size={20} /> : <Save size={20} />}
                   {importStatus === 'importing' ? '...' : 
                    importStatus === 'done' ? '' : ''}
                 </button>
              </div>
            </div>
          </div>

          <div className="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
            <div className="p-4 border-b border-slate-200 bg-slate-50 flex justify-between items-center">
              <h4 className="font-bold text-slate-700"> ({scrapedItems.length})</h4>
              <div className="text-xs text-slate-500">
                
              </div>
            </div>
            
            <div className="overflow-x-auto">
              <table className="w-full text-left text-sm whitespace-nowrap">
                <thead className="bg-slate-100 text-slate-500 font-medium border-b border-slate-200">
                  <tr>
                    <th className="p-3 w-12 text-center">#</th>
                    <th className="p-3 w-32"></th>
                    <th className="p-3 min-w-[200px]"></th>
                    <th className="p-3 w-28"></th>
                    <th className="p-3 w-24"></th>
                    <th className="p-3 w-24 text-center"></th>
                  </tr>
                </thead>
                <tbody className="divide-y divide-slate-100">
                  {scrapedItems.map((item, idx) => (
                    <tr key={item._tempId} className="hover:bg-slate-50 transition-colors">
                      <td className="p-3 text-center text-slate-400 font-mono text-xs">{idx + 1}</td>
                      <td className="p-2">
                        <input 
                          type="text" 
                          value={item.cardId}
                          onChange={(e) => updateItem(item._tempId, 'cardId', e.target.value)}
                          className="w-full bg-white border border-slate-200 focus:border-cyan-500 rounded px-2 py-1 outline-none font-mono text-slate-600 transition-all shadow-sm focus:shadow"
                        />
                      </td>
                      <td className="p-2">
                        <input 
                          type="text" 
                          value={item.name}
                          onChange={(e) => updateItem(item._tempId, 'name', e.target.value)}
                          className="w-full bg-white border border-slate-200 focus:border-cyan-500 rounded px-2 py-1 outline-none font-bold text-slate-800 transition-all shadow-sm focus:shadow"
                        />
                      </td>
                      <td className="p-2">
                        <select 
                          value={item.rarity}
                          onChange={(e) => updateItem(item._tempId, 'rarity', e.target.value)}
                          className="w-full bg-white border border-slate-200 focus:border-cyan-500 rounded px-2 py-1 outline-none cursor-pointer shadow-sm"
                        >
                          {rarities.map(r => ( // Contextrarities
                            <option key={r} value={r}>{r}</option>
                          ))}
                        </select>
                      </td>
                      <td className="p-2">
                         <input 
                          type="number" 
                          min="0"
                          value={item.stock}
                          onChange={(e) => updateItem(item._tempId, 'stock', parseInt(e.target.value) || 0)}
                          className="w-full bg-white border border-slate-200 focus:border-cyan-500 rounded px-2 py-1 outline-none text-right font-mono shadow-sm"
                        />
                      </td>
                      <td className="p-2 text-center">
                        <div className="flex items-center justify-center gap-1">
                          <button 
                            type="button"
                            onClick={() => duplicateItem(idx)}
                            className="p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors"
                            title=""
                          >
                            <Copy size={16} />
                          </button>
                          <button 
                            type="button"
                            onClick={() => removeItem(item._tempId)}
                            className="p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors"
                            title=""
                          >
                            <Trash2 size={16} />
                          </button>
                        </div>
                      </td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>
            
            <div className="p-2 border-t border-slate-200 bg-slate-50">
              <button 
                onClick={addNewRow}
                className="w-full py-2 flex items-center justify-center gap-2 text-slate-500 hover:text-cyan-600 hover:bg-slate-100 rounded-lg border border-dashed border-slate-300 hover:border-cyan-300 transition-all"
              >
                <Plus size={16} /> 
              </button>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};


--- START OF FILE src\views\SettingsView.tsx ---


'use client';

import React, { useState, useEffect } from 'react';
import { Settings, Shield, Loader2, Save, FileUp, Database, AlertCircle, CheckCircle2, List, Copy, Terminal, Download, Trash2, AlertTriangle, RefreshCw, Calendar, Plus } from 'lucide-react';
import { api } from '../services/api';
import { AppError, Season, ToastType } from '../types';
import { useAppContext } from '../context/AppContext';

interface SettingsViewProps {
  isAdmin: boolean;
  isLoading: boolean;
  addToast: (type: ToastType['type'], title: string, message?: string, errorDetail?: AppError) => void;
}

// SQL
const INITIAL_SCHEMA_SQL = `
-- 1. 
create table if not exists public.products (
  name text not null primary key,
  release_date text,
  is_sidebar_visible boolean default true,
  created_at timestamptz default now()
);

create table if not exists public.items (
  id bigint generated by default as identity primary key,
  name text not null,
  card_id text,
  rarity text,
  stock integer default 0,
  category text,
  updated_at timestamptz default now()
);

create table if not exists public.config (
  key text not null primary key,
  value jsonb
);

create table if not exists public.news (
  id bigint generated by default as identity primary key,
  content text not null,
  type text not null, -- 'info' | 'alert' | 'success'
  start_date date default current_date,
  end_date date, -- null = permanent
  created_at timestamptz default now()
);

-- 2. RLS ()
alter table public.products enable row level security;
alter table public.items enable row level security;
alter table public.config enable row level security;
alter table public.news enable row level security;

-- 
drop policy if exists "Allow public read access" on public.products;
drop policy if exists "Allow public read access" on public.items;
drop policy if exists "Allow public read access" on public.config;
drop policy if exists "Allow public read access" on public.news;

drop policy if exists "Allow authenticated insert" on public.products;
drop policy if exists "Allow authenticated update" on public.products;
drop policy if exists "Allow authenticated delete" on public.products;
drop policy if exists "Allow authenticated insert" on public.items;
drop policy if exists "Allow authenticated update" on public.items;
drop policy if exists "Allow authenticated delete" on public.items;
drop policy if exists "Allow authenticated all" on public.config;
drop policy if exists "Allow authenticated all" on public.news;

create policy "Allow public read access" on public.products for select using (true);
create policy "Allow public read access" on public.items for select using (true);
create policy "Allow public read access" on public.config for select using (true);
create policy "Allow public read access" on public.news for select using (true);

create policy "Allow authenticated insert" on public.products for insert with check (auth.role() = 'authenticated');
create policy "Allow authenticated update" on public.products for update using (auth.role() = 'authenticated');
create policy "Allow authenticated delete" on public.products for delete using (auth.role() = 'authenticated');

create policy "Allow authenticated insert" on public.items for insert with check (auth.role() = 'authenticated');
create policy "Allow authenticated update" on public.items for update using (auth.role() = 'authenticated');
create policy "Allow authenticated delete" on public.items for delete using (auth.role() = 'authenticated');

create policy "Allow authenticated all" on public.config for all using (auth.role() = 'authenticated');
create policy "Allow authenticated all" on public.news for all using (auth.role() = 'authenticated');

-- 3.  ()
create or replace function public.handle_updated_at() 
returns trigger as $$
begin
  new.updated_at = now();
  return new;
end;
$$ language plpgsql;

drop trigger if exists on_items_updated on public.items;
create trigger on_items_updated
  before update on public.items
  for each row execute procedure public.handle_updated_at();

-- 4.  (RPC)
create or replace function public.get_dashboard_stats()
returns json
language plpgsql
security definer
as $$
declare
  total_cards integer;
  total_stock integer;
  low_stock integer;
begin
  select count(*) into total_cards from public.items;
  select coalesce(sum(stock), 0) into total_stock from public.items;
  select count(*) into low_stock from public.items where stock < 2;
  
  return json_build_object(
    'totalCards', total_cards,
    'totalStock', total_stock,
    'lowStock', low_stock
  );
end;
$$;

-- 5.  (RPC)
create or replace function public.reset_all_data()
returns void
language plpgsql
security definer
as $$
begin
  -- ID
  truncate table public.items restart identity cascade;
  truncate table public.products cascade;
  truncate table public.news restart identity cascade;
end;
$$;

-- 6.  (RPC)
create or replace function public.get_distinct_rarities()
returns table (rarity text)
language plpgsql
security definer
as $$
begin
  return query select distinct i.rarity from public.items i order by i.rarity;
end;
$$;
`;

export const SettingsView: React.FC<SettingsViewProps> = ({ 
  isAdmin, 
  isLoading: globalLoading, 
  addToast 
}) => {
  const { rarities, refreshRarities, seasons, refreshSeasons, refreshProducts } = useAppContext();
  const [newRarity, setNewRarity] = useState("");
  const [localRarities, setLocalRarities] = useState<string[]>([]);
  
  // Seasons State
  const [localSeasons, setLocalSeasons] = useState<Season[]>([]);
  const [newSeasonData, setNewSeasonData] = useState({ name: '', startDate: '' });

  const [isSaving, setIsSaving] = useState(false);
  const [isSchemaMissing, setIsSchemaMissing] = useState(false);
  const [isResetting, setIsResetting] = useState(false);
  
  // Sync Logic
  const [missingRarities, setMissingRarities] = useState<string[]>([]);
  const [isSyncing, setIsSyncing] = useState(false);

  // Migration State
  const [file, setFile] = useState<File | null>(null);
  const [migrationStatus, setMigrationStatus] = useState<'idle' | 'parsing' | 'ready' | 'uploading' | 'completed' | 'error'>('idle');
  const [progress, setProgress] = useState(0);
  const [log, setLog] = useState<string[]>([]);
  
  // Preview State
  const [previewStats, setPreviewStats] = useState({ products: 0, items: 0 });
  const [previewSamples, setPreviewSamples] = useState<any[]>([]);

  // Parsed Data Store (Memory)
  const [parsedProducts, setParsedProducts] = useState<any[]>([]);
  const [parsedItems, setParsedItems] = useState<any[]>([]);

  // Backup State
  const [isBackingUp, setIsBackingUp] = useState(false);
  const [backupProgress, setBackupProgress] = useState(0);

  useEffect(() => {
    // Context
    setLocalRarities(rarities);
    setLocalSeasons(seasons);
    
    // 
    const check = async () => {
      try {
        const hasSchema = await api.checkSchema();
        setIsSchemaMissing(!hasSchema);
      } catch (e) {
        // ignore
      }
    };
    check();
  // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [rarities, seasons]);

  const getRarityStyle = (rarity: string) => {
    return 'bg-slate-100 text-slate-600 border-slate-200';
  };

  const copyToClipboard = (text: string, title: string) => {
    navigator.clipboard.writeText(text);
    addToast('success', '', `${title}`);
  };

  const saveConfig = async () => {
    setIsSaving(true);
    try {
      await api.saveRarities(localRarities);
      await api.saveSeasons(localSeasons); // Seasons
      
      await refreshRarities();
      await refreshSeasons();
      
      setMissingRarities([]); 
      addToast('success', '', '');
    } catch (e: any) {
      addToast('error', '', e.message);
    } finally {
      setIsSaving(false);
    }
  };

  // --- Season Handlers ---
  const addSeason = () => {
    if (!newSeasonData.name || !newSeasonData.startDate) {
      addToast('error', '', '');
      return;
    }
    const newSeason: Season = {
      id: crypto.randomUUID ? crypto.randomUUID() : Date.now().toString(),
      name: newSeasonData.name,
      startDate: newSeasonData.startDate
    };
    
    // 
    const updated = [...localSeasons, newSeason].sort((a, b) => 
      new Date(b.startDate).getTime() - new Date(a.startDate).getTime()
    );
    
    setLocalSeasons(updated);
    setNewSeasonData({ name: '', startDate: '' });
  };

  const removeSeason = (id: string) => {
    setLocalSeasons(prev => prev.filter(s => s.id !== id));
  };
  
  // --- Rarities Handlers ---
  const checkRaritySync = async () => {
    setIsSyncing(true);
    try {
      const usedInDb = await api.fetchDistinctRarities();
      const currentSet = new Set(localRarities);
      const missing = usedInDb.filter(r => !currentSet.has(r));
      
      setMissingRarities(missing);
      
      if (missing.length === 0) {
        addToast('info', '', '');
      } else {
        addToast('info', '', `${missing.length}`);
      }
    } catch (e: any) {
      addToast('error', '', e.message);
    } finally {
      setIsSyncing(false);
    }
  };

  const mergeMissingRarities = () => {
    setLocalRarities(prev => [...prev, ...missingRarities]);
    setMissingRarities([]);
    addToast('success', '', '');
  };

  // --- Migration Handlers ---
  const addToLog = (msg: string) => setLog(prev => [...prev, msg]);

  const handleFileUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {
    if (e.target.files && e.target.files[0]) {
      setFile(e.target.files[0]);
      setMigrationStatus('idle');
      setLog([]);
      setProgress(0);
      setParsedProducts([]);
      setParsedItems([]);
    }
  };

  const parseSqlValue = (val: string | undefined): string | null => {
    if (val === undefined) return null;
    const trimmed = val.trim();
    if (trimmed === '\\N') return null;
    return trimmed;
  };

  const parseSqlInt = (val: string | undefined): number => {
    if (!val) return 0;
    const trimmed = val.trim();
    if (trimmed === '\\N') return 0;
    const num = parseInt(trimmed, 10);
    return isNaN(num) ? 0 : num;
  };

  const startAnalysis = async () => {
    if (!file) return;
    setMigrationStatus('parsing');
    addToLog("...");

    const reader = new FileReader();
    
    reader.onload = async (event) => {
      try {
        const text = event.target?.result as string;
        
        // JSON
        if (file.name.endsWith('.json')) {
           try {
             const json = JSON.parse(text);
             
             // Products Mapping
             const pData = (json.products || []).map((p: any) => ({
               name: p.name,
               release_date: p.releaseDate,
               is_sidebar_visible: p.isSidebarVisible ?? true
             }));

             // Items Mapping
             const iData = (json.items || []).map((i: any) => ({
               id: i.id,
               name: i.name,
               card_id: i.cardId,
               rarity: i.rarity,
               stock: i.stock,
               category: i.category,
               updated_at: i.updatedAt
             }));

             setParsedProducts(pData);
             setParsedItems(iData);
             setPreviewStats({ products: pData.length, items: iData.length });
             setPreviewSamples(iData.slice(0, 3));
             
             addToLog(`JSON:  ${pData.length},  ${iData.length}`);
             setMigrationStatus('ready');
             return;

           } catch (e: any) {
             throw new Error("JSON");
           }
        }

        // SQL/Text
        let pData: any[] = [];
        const productsHeaderRegex = /COPY public\.products .*?FROM stdin;\n/g;
        const productsMatch = productsHeaderRegex.exec(text);
        
        if (productsMatch) {
          const startIndex = productsMatch.index + productsMatch[0].length;
          const endIndex = text.indexOf('\n\\.', startIndex);
          if (endIndex !== -1) {
            const dataBlock = text.substring(startIndex, endIndex);
            pData = dataBlock.split('\n')
              .filter(line => line.trim())
              .map(line => {
                const cols = line.split('\t');
                return {
                  name: parseSqlValue(cols[0]) || 'Unknown',
                  release_date: parseSqlValue(cols[1]),
                  is_sidebar_visible: parseSqlValue(cols[4]) === 't'
                };
              });
          }
        }

        let iData: any[] = [];
        const itemsHeaderRegex = /COPY public\.items .*?FROM stdin;\n/g;
        const itemsMatch = itemsHeaderRegex.exec(text);

        if (itemsMatch) {
          const startIndex = itemsMatch.index + itemsMatch[0].length;
          const endIndex = text.indexOf('\n\\.', startIndex);
          if (endIndex !== -1) {
            const dataBlock = text.substring(startIndex, endIndex);
            iData = dataBlock.split('\n')
              .filter(line => line.trim())
              .map(line => {
                const cols = line.split('\t');
                return {
                  id: parseSqlInt(cols[0]),
                  name: parseSqlValue(cols[1]) || 'Unknown',
                  card_id: parseSqlValue(cols[2]) || '',
                  rarity: parseSqlValue(cols[3]) || 'N',
                  stock: parseSqlInt(cols[4]),
                  category: parseSqlValue(cols[5]) || 'Uncategorized'
                };
              });
          }
        }

        if (pData.length === 0 && iData.length === 0) {
          throw new Error("SQL");
        }

        setParsedProducts(pData);
        setParsedItems(iData);
        setPreviewStats({ products: pData.length, items: iData.length });
        setPreviewSamples(iData.slice(0, 3)); 

        addToLog(`:  ${pData.length},  ${iData.length}`);
        setMigrationStatus('ready'); 

      } catch (err: any) {
        console.error(err);
        setMigrationStatus('error');
        addToLog(`: ${err.message}`);
        addToast('error', '', err.message);
      }
    };
    
    reader.onerror = () => {
      setMigrationStatus('error');
      addToLog("");
      addToast('error', '', '');
    };

    reader.readAsText(file);
  };

  const executeMigration = async () => {
    if (migrationStatus !== 'ready') return;
    
    setMigrationStatus('uploading');
    
    try {
      if (parsedProducts.length > 0) {
        addToLog(` ${parsedProducts.length}...`);
        await api.bulkInsertProducts(parsedProducts);
        addToLog("");
      }

      if (parsedItems.length > 0) {
        addToLog(` ${parsedItems.length}...`);
        
        const BATCH_SIZE = 100;
        const totalChunks = Math.ceil(parsedItems.length / BATCH_SIZE);
        
        for (let i = 0; i < totalChunks; i++) {
          const start = i * BATCH_SIZE;
          const end = start + BATCH_SIZE;
          const chunk = parsedItems.slice(start, end);
          
          await api.bulkInsertItems(chunk);
          
          const percent = Math.round(((i + 1) / totalChunks) * 100);
          setProgress(percent);
          
          await new Promise(resolve => setTimeout(resolve, 100));
        }
        addToLog("");
      }

      // : 
      await refreshProducts();

      setMigrationStatus('completed');
      addToast('success', '', '');

    } catch (err: any) {
      console.error(err);
      setMigrationStatus('error');
      addToLog(`: ${err.message}`);
      addToast('error', '', err.message);
    }
  };

  const handleBackup = async () => {
    setIsBackingUp(true);
    setBackupProgress(0);
    try {
      const products = await api.fetchProducts();
      const items = await api.fetchAllItemsForBackup((count) => {
        setBackupProgress(count);
      });

      const backupData = {
        products,
        items,
        exportDate: new Date().toISOString(),
        version: "4.2"
      };

      const blob = new Blob([JSON.stringify(backupData, null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const link = document.createElement('a');
      link.href = url;
      link.download = `backup_${new Date().toISOString().split('T')[0]}.json`;
      link.click();
      URL.revokeObjectURL(url);
      
      addToast('success', '', `${items.length}`);

    } catch (e: any) {
      addToast('error', '', e.message);
    } finally {
      setIsBackingUp(false);
      setBackupProgress(0);
    }
  };

  const handleResetData = async () => {
    if (!window.confirm("\n\n")) {
      return;
    }
    
    setIsResetting(true);
    try {
      await api.resetDatabase();
      await refreshProducts(); // 
      addToast('success', '', '');
      setMigrationStatus('idle');
      setLog([]);
      setProgress(0);
    } catch (e: any) {
      addToast('error', '', e.message, { code: e.code, message: e.message, timestamp: new Date().toISOString() });
    } finally {
      setIsResetting(false);
    }
  };

  return (
    <div className="p-4 md:p-8 max-w-4xl mx-auto pb-24">
      <h2 className="text-2xl font-bold text-slate-800 mb-6 flex items-center gap-2">
        <Settings /> 
      </h2>
      
      {!isAdmin ? (
        <div className="bg-red-50 p-6 rounded-lg text-red-600 border border-red-200 flex items-center gap-3">
           <Shield size={24} />
           <div className="font-bold"></div>
        </div>
      ) : (
        <div className="space-y-8">

          {/*  & RPC */}
          <div className="bg-amber-50 border-l-4 border-amber-500 p-6 rounded-lg shadow-sm">
            <h3 className="text-lg font-bold text-amber-800 flex items-center gap-2 mb-2">
              <AlertCircle />  ()
            </h3>
            <p className="text-amber-700 mb-4 text-sm">
              SQL<br/>
              Supabase <b>SQL Editor</b> 
            </p>
            
            <div className="relative bg-slate-900 rounded-lg p-4 mb-4 font-mono text-xs text-slate-300 h-48 overflow-y-auto custom-scrollbar border border-slate-700">
              <pre>{INITIAL_SCHEMA_SQL}</pre>
              <button 
                onClick={() => copyToClipboard(INITIAL_SCHEMA_SQL, "SQL")}
                className="absolute top-2 right-2 bg-white/10 hover:bg-white/20 text-white p-2 rounded transition-colors"
                title="SQL"
              >
                <Copy size={16} />
              </button>
            </div>
            
            <div className="flex justify-end">
              <a 
                href="https://supabase.com/dashboard" 
                target="_blank" 
                rel="noopener noreferrer"
                className="bg-amber-600 text-white px-4 py-2 rounded-lg font-bold hover:bg-amber-700 flex items-center gap-2 text-sm"
              >
                <Terminal size={16} /> Supabase SQL Editor
              </a>
            </div>
          </div>
          
          {/* ... () ... */}
          {/*  */}
          {/* Backup Section */}
          <div className="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
            <h3 className="text-lg font-bold text-slate-700 mb-4 border-b pb-2 flex items-center gap-2">
              <Download className="text-blue-600" />
               (Export)
            </h3>
            {/* ... */}
             <div className="flex items-center gap-4">
               <button
                 onClick={handleBackup}
                 disabled={isBackingUp || globalLoading}
                 className="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-bold flex items-center gap-2 disabled:opacity-50"
               >
                 {isBackingUp ? <Loader2 className="animate-spin" size={18} /> : <FileUp size={18} />}
                 {isBackingUp ? `... ${backupProgress}` : ''}
               </button>
            </div>
          </div>
           
           {/* ... Other sections omitted for brevity but should be rendered ... */}
           {/*  */}
          <div className="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
            <h3 className="text-lg font-bold text-slate-700 mb-4 border-b pb-2 flex items-center gap-2">
              <Calendar className="text-green-600" />
              
            </h3>
            {/* ... (: ) */}
             <div className="flex flex-col md:flex-row gap-4 mb-4 items-end bg-slate-50 p-4 rounded-lg">
              <div className="flex-1 w-full">
                <label className="block text-xs font-bold text-slate-500 mb-1"></label>
                <input 
                  type="text" 
                  value={newSeasonData.name}
                  onChange={(e) => setNewSeasonData({ ...newSeasonData, name: e.target.value })}
                  placeholder=": 13 (2026~)"
                  className="w-full border border-slate-300 rounded px-3 py-2 text-sm"
                />
              </div>
              <div className="w-full md:w-40">
                <label className="block text-xs font-bold text-slate-500 mb-1"></label>
                <input 
                  type="date" 
                  value={newSeasonData.startDate}
                  onChange={(e) => setNewSeasonData({ ...newSeasonData, startDate: e.target.value })}
                  className="w-full border border-slate-300 rounded px-3 py-2 text-sm"
                />
              </div>
              <button 
                onClick={addSeason}
                className="bg-green-600 text-white px-4 py-2 rounded font-bold hover:bg-green-700 flex items-center gap-2 shrink-0"
              >
                <Plus size={16} /> 
              </button>
            </div>
            <div className="max-h-60 overflow-y-auto border border-slate-200 rounded-lg">
              <table className="w-full text-left text-sm">
                 {/* ... table content */}
                 <thead className="bg-slate-100 text-slate-500 font-bold sticky top-0">
                  <tr>
                    <th className="p-3"></th>
                    <th className="p-3"></th>
                    <th className="p-3 w-16 text-center"></th>
                  </tr>
                </thead>
                <tbody className="divide-y divide-slate-100">
                  {localSeasons.map((season) => (
                    <tr key={season.id}>
                      <td className="p-3 font-bold text-slate-700">{season.name}</td>
                      <td className="p-3 font-mono text-slate-500">{season.startDate}</td>
                      <td className="p-3 text-center">
                        <button 
                          onClick={() => removeSeason(season.id)}
                          className="text-slate-400 hover:text-red-600"
                        >
                          <Trash2 size={16} />
                        </button>
                      </td>
                    </tr>
                  ))}
                  {localSeasons.length === 0 && (
                    <tr><td colSpan={3} className="p-4 text-center text-slate-400"></td></tr>
                  )}
                </tbody>
              </table>
            </div>
            <div className="flex justify-end mt-4">
              <button 
                onClick={saveConfig} 
                disabled={isSaving || globalLoading} 
                className="bg-cyan-600 text-white px-8 py-2 rounded-lg font-bold hover:bg-cyan-700 shadow-sm disabled:opacity-50 flex items-center gap-2"
              >
                {isSaving ? <Loader2 className="animate-spin" size={18} /> : <Save size={18} />}
                
              </button>
            </div>
          </div>
          
           {/*  */}
          <div className="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
            {/* ... */}
             <div className="flex justify-between items-center border-b pb-2 mb-4">
               <h3 className="text-lg font-bold text-slate-700"></h3>
               <button 
                 onClick={checkRaritySync} 
                 disabled={isSyncing}
                 className="text-xs flex items-center gap-1 bg-slate-100 hover:bg-slate-200 text-slate-600 px-3 py-1.5 rounded-lg transition-colors"
               >
                 {isSyncing ? <Loader2 size={12} className="animate-spin" /> : <RefreshCw size={12} />}
                 DB
               </button>
            </div>
            {/* ... Content omitted, assuming same structure */}
             <div className="flex flex-wrap gap-2 mb-6 min-h-[40px]">
              {localRarities.map((r) => (
                <div key={r} className={`px-3 py-1 rounded-full flex items-center gap-2 border ${getRarityStyle(r)}`}>
                  <span className="font-bold">{r}</span>
                  <button 
                    onClick={() => setLocalRarities(prev => prev.filter(item => item !== r))} 
                    className="text-slate-400 hover:text-red-500 ml-1"
                  >
                    
                  </button>
                </div>
              ))}
            </div>
            <div className="flex flex-col md:flex-row gap-2 mb-4">
              <input 
                type="text" 
                value={newRarity}
                onChange={(e) => setNewRarity(e.target.value.toUpperCase())}
                placeholder=""
                className="border border-slate-300 rounded-lg px-4 py-2 flex-1 font-bold text-slate-700"
              />
              <button 
                onClick={() => { if(newRarity && !localRarities.includes(newRarity)) { setLocalRarities([...localRarities, newRarity]); setNewRarity(""); }}}
                className="bg-slate-700 text-white px-6 py-2 rounded-lg hover:bg-slate-800"
              >
                
              </button>
            </div>
            <div className="flex justify-end">
              <button 
                onClick={saveConfig} 
                disabled={isSaving || globalLoading} 
                className="bg-cyan-600 text-white px-8 py-2 rounded-lg font-bold hover:bg-cyan-700 shadow-sm disabled:opacity-50 flex items-center gap-2"
              >
                {isSaving ? <Loader2 className="animate-spin" size={18} /> : <Save size={18} />}
                
              </button>
            </div>
          </div>
          
           {/*  */}
          <div className="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
             {/* ... */}
             <h3 className="text-lg font-bold text-slate-700 mb-4 border-b pb-2 flex items-center gap-2">
              <Database className="text-cyan-600" />
               (Import)
            </h3>
             <div className="bg-blue-50 text-blue-800 p-4 rounded-lg text-sm mb-6 border border-blue-100">
              <h4 className="font-bold flex items-center gap-2 mb-2">
                <AlertCircle size={16} /> 
              </h4>
              <ul className="list-disc list-inside space-y-1 ml-1 opacity-90">
                <li>30,000</li>
                <li>ID</li>
                <li><b></b></li>
              </ul>
            </div>
             <div className="border-2 border-dashed border-slate-300 rounded-xl p-8 text-center hover:bg-slate-50 transition-colors">
              <input 
                type="file" 
                accept=".sql,.txt,.json"
                onChange={handleFileUpload}
                className="hidden" 
                id="file-upload"
                disabled={migrationStatus === 'uploading'}
              />
              <label htmlFor="file-upload" className="cursor-pointer flex flex-col items-center gap-3">
                <FileUp size={48} className={file ? "text-cyan-600" : "text-slate-300"} />
                <div className="text-lg font-bold text-slate-600">
                  {file ? file.name : "SQLJSON"}
                </div>
                <div className="text-xs text-slate-400">
                  {(file && (file.size / 1024 / 1024).toFixed(2) + " MB") || "my_backup.json / dump.sql"}
                </div>
              </label>
            </div>
             {file && (
              <div className="mt-6 space-y-4">
                 {/* 1.  */}
                {migrationStatus === 'idle' || migrationStatus === 'parsing' ? (
                  <button
                    onClick={startAnalysis}
                    disabled={migrationStatus === 'parsing'}
                    className="w-full py-3 bg-slate-700 hover:bg-slate-800 text-white rounded-lg font-bold flex items-center justify-center gap-2 transition-all disabled:opacity-50"
                  >
                    {migrationStatus === 'parsing' ? <Loader2 className="animate-spin" /> : <List />}
                    {migrationStatus === 'parsing' ? '...' : '1.  ()'}
                  </button>
                ) : null}
                 {/* 2.  */}
                {migrationStatus === 'ready' && (
                  <div className="bg-cyan-50 border border-cyan-200 rounded-lg p-4 animate-in fade-in">
                    {/* ... */}
                     <h4 className="font-bold text-cyan-800 flex items-center gap-2 mb-2">
                      <CheckCircle2 size={18} /> 
                    </h4>
                    <div className="grid grid-cols-2 gap-4 mb-4">
                      <div className="bg-white p-3 rounded border border-cyan-100">
                         <div className="text-xs text-slate-500"></div>
                         <div className="text-xl font-bold text-slate-800">{previewStats.products.toLocaleString()} </div>
                      </div>
                      <div className="bg-white p-3 rounded border border-cyan-100">
                         <div className="text-xs text-slate-500"></div>
                         <div className="text-xl font-bold text-slate-800">{previewStats.items.toLocaleString()} </div>
                      </div>
                    </div>
                     <div className="text-xs font-mono bg-slate-800 text-slate-200 p-3 rounded mb-4">
                      <div className="text-slate-400 mb-1 border-b border-slate-600 pb-1"> (3):</div>
                      {previewSamples.map((s, i) => (
                        <div key={i} className="truncate">
                          {i+1}. [{s.card_id}] {s.name} (:{s.stock})
                        </div>
                      ))}
                    </div>

                    <button
                      onClick={executeMigration}
                      className="w-full py-3 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-bold flex items-center justify-center gap-2 shadow-md transition-all"
                    >
                      <Database /> 2.  ()
                    </button>
                  </div>
                )}
                 {/* 3.  &  */}
                {(migrationStatus === 'uploading' || migrationStatus === 'completed' || migrationStatus === 'error') && (
                  <>
                     <div className="flex justify-between text-sm font-bold text-slate-600 mb-2">
                      <span>: {migrationStatus === 'uploading' ? ` (${progress}%)` : migrationStatus === 'completed' ? '' : ''}</span>
                      <span>{progress}%</span>
                    </div>
                    <div className="w-full bg-slate-100 rounded-full h-2.5 mb-4 overflow-hidden">
                      <div 
                        className={`h-2.5 rounded-full transition-all duration-300 ${
                          migrationStatus === 'completed' ? 'bg-green-500' : 
                          migrationStatus === 'error' ? 'bg-red-500' : 'bg-cyan-600'
                        }`}
                        style={{ width: `${progress}%` }}
                      ></div>
                    </div>

                    <div className="bg-slate-900 text-green-400 p-4 rounded-lg font-mono text-xs h-40 overflow-y-auto custom-scrollbar">
                      {log.map((l, i) => <div key={i}>{l}</div>)}
                      {migrationStatus === 'uploading' && <div className="animate-pulse">_</div>}
                    </div>
                  </>
                )}
              </div>
             )}
          </div>

          {/* Danger Zone */}
          <div className="border border-red-200 rounded-xl overflow-hidden">
             <div className="bg-red-50 p-4 border-b border-red-200 flex items-center gap-2 text-red-700 font-bold">
               <AlertTriangle size={20} /> Danger Zone ()
             </div>
             <div className="p-6 bg-white">
               <p className="text-sm text-slate-600 mb-4">
                 <br/>
                 <span className="font-bold text-red-600"> : </span>
               </p>

               <div className="flex justify-end items-center gap-4">
                 <button
                   onClick={handleResetData}
                   disabled={isResetting || globalLoading}
                   className="bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-bold shadow-md disabled:opacity-50 flex items-center gap-2 transition-colors"
                 >
                   {isResetting ? <Loader2 className="animate-spin" size={18} /> : <Trash2 size={18} />}
                   
                 </button>
               </div>
             </div>
          </div>
        </div>
      )}
    </div>
  );
};


--- START OF FILE tailwind.config.ts ---

import type { Config } from "tailwindcss";

const config: Config = {
  content: [
    "./src/pages/**/*.{js,ts,jsx,tsx,mdx}",
    "./src/components/**/*.{js,ts,jsx,tsx,mdx}",
    "./src/app/**/*.{js,ts,jsx,tsx,mdx}",
    "./src/views/**/*.{js,ts,jsx,tsx,mdx}",
  ],
  theme: {
    extend: {
      backgroundImage: {
        "gradient-radial": "radial-gradient(var(--tw-gradient-stops))",
        "gradient-conic":
          "conic-gradient(from 180deg at 50% 50%, var(--tw-gradient-stops))",
      },
    },
  },
  plugins: [],
};
export default config;

--- START OF FILE tsconfig.json ---

{
  "compilerOptions": {
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": [
    "next-env.d.ts",
    "src/**/*.ts",
    "src/**/*.tsx",
    ".next/types/**/*.ts",
    "tailwind.config.ts",
    "next.config.mjs"
  ],
  "exclude": ["node_modules", "app", "components", "views"]
}

